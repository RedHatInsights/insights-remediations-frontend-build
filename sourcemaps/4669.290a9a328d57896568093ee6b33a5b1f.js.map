{"version":3,"file":"js/4669.b3bc304ede2730d0ebcc.js","mappings":"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","sources":["webpack:///./src/Utilities/utils.js","webpack:///./src/modules/RemediationsModal/common/SystemsTable.js"],"sourcesContent":["export function capitalize(string) {\n  return `${string.charAt(0).toUpperCase() + string.slice(1)}`;\n}\n\n/* eslint-disable camelcase */\nimport React, { Fragment } from 'react';\nimport { Bullseye, Spinner } from '@patternfly/react-core';\nimport * as api from '../api';\nimport uniqWith from 'lodash/uniqWith';\nimport isEqual from 'lodash/isEqual';\nimport { applyReducerHash } from '@redhat-cloud-services/frontend-components-utilities/ReducerRegistry/ReducerRegistry';\nimport { SystemsTableWithContext } from '../modules/RemediationsModal/common/SystemsTable';\n\nexport const CAN_REMEDIATE = 'remediations:remediation:write';\nexport const AUTO_REBOOT = 'auto-reboot';\nexport const HAS_MULTIPLES = 'has-multiples';\nexport const SELECT_PLAYBOOK = 'select-playbook';\nexport const SELECTED_RESOLUTIONS = 'selected-resolutions';\nexport const MANUAL_RESOLUTION = 'manual-resolution';\nexport const EXISTING_PLAYBOOK_SELECTED = 'existing-playbook-selected';\nexport const EXISTING_PLAYBOOK = 'existing-playbook';\nexport const SYSTEMS = 'systems';\nexport const RESOLUTIONS = 'resolutions';\nexport const ISSUES_MULTIPLE = 'issues-multiple';\nexport const TOGGLE_BULK_SELECT = 'toggle-bulk-select';\n\n// Get the current group since we can be mounted at two urls\nexport const getGroup = () =>\n  window.location.pathname\n    .split('/')\n    .filter((s) => s !== 'preview' && s.length > 0)\n    .shift();\n\nexport const getEnvUrl = () => {\n  const pathName = window.location.pathname.split('/');\n  return pathName[1] === 'preview' ? 'preview/' : '';\n};\n\nexport const getBaseUri = () =>\n  `${document.baseURI.replace('preview/', '')}${getEnvUrl()}`;\n\nexport const remediationUrl = (id) =>\n  `${getBaseUri()}${getGroup()}/remediations${id ? `/${id}` : ''}`;\n\nexport const dedupeArray = (array) => [...new Set(array)];\n\nexport const pluralize = (count, str, fallback) =>\n  count !== 1 ? fallback || str + 's' : str;\n\nconst sortRecords = (records, sortByState) =>\n  [...records].sort((a, b) => {\n    const key = Object.keys(a)[sortByState.index - 1];\n    return (\n      (a[key] > b[key] ? 1 : a[key] < b[key] ? -1 : 0) *\n      (sortByState.direction === 'desc' ? -1 : 1)\n    );\n  });\n\nexport const buildRows = (\n  records,\n  sortByState,\n  showAlternate,\n  allSystemsNamed\n) =>\n  sortRecords(records, sortByState).reduce(\n    (acc, curr, index) => [\n      ...acc,\n      {\n        isOpen: false,\n        cells: [\n          { title: curr.action },\n          {\n            title: (\n              <Fragment key={`${index}-description`}>\n                <p key={`${index}-resolution`}>{curr.resolution}</p>\n                {showAlternate && curr.alternate > 0 && (\n                  <p key={`${index}-alternate`}>\n                    {curr.alternate} alternate{' '}\n                    {pluralize(curr.alternate, 'resolution')}\n                  </p>\n                )}\n              </Fragment>\n            ),\n          },\n          {\n            title: curr.needsReboot ? (\n              <div>Required</div>\n            ) : (\n              <div>Not required</div>\n            ),\n          },\n          {\n            title: curr.systems?.length || 0,\n            props: { isOpen: false },\n          },\n        ],\n      },\n      ...(curr.systems?.length > 0\n        ? [\n            {\n              parent: index * 2,\n              fullWidth: true,\n              allSystemsNamed: allSystemsNamed.filter((system) =>\n                curr.systems.includes(system.id)\n              ),\n              allSystems: curr.systems,\n              cells: [\n                {\n                  title: (\n                    <Bullseye>\n                      <Spinner />\n                    </Bullseye>\n                  ),\n                  props: { colSpan: 5, className: 'pf-m-no-padding' },\n                },\n              ],\n            },\n          ]\n        : []),\n    ],\n    []\n  );\n\nconst buildSystemRow = (allSystemsNamed = [], allSystems = []) => (\n  <SystemsTableWithContext\n    allSystemsNamed={allSystemsNamed}\n    allSystems={allSystems}\n    disabledColumns={['updated']}\n  />\n);\n\nexport const onCollapse = (event, rowKey, isOpen, rows, setRows) => {\n  let temp = [...rows];\n  rows[rowKey].isOpen = isOpen;\n  temp[rowKey + 1].cells = [\n    {\n      title: buildSystemRow(\n        rows[rowKey + 1].allSystemsNamed,\n        rows[rowKey + 1].allSystems\n      ),\n    },\n  ];\n  setRows(temp);\n};\n\nexport const getResolution = (issueId, formValues) => {\n  const issueResolutions =\n    formValues[RESOLUTIONS].find((r) => r.id === issueId)?.resolutions || [];\n\n  if (\n    formValues[MANUAL_RESOLUTION] &&\n    issueId in formValues[SELECTED_RESOLUTIONS]\n  ) {\n    return issueResolutions.filter(\n      (r) => r.id === formValues[SELECTED_RESOLUTIONS][issueId]\n    );\n  }\n\n  if (formValues[EXISTING_PLAYBOOK_SELECTED]) {\n    const existing = formValues[EXISTING_PLAYBOOK]?.issues?.find(\n      (i) => i.id === issueId\n    );\n\n    if (existing) {\n      return issueResolutions.filter((r) => r.id === existing.resolution.id);\n    }\n  }\n\n  return issueResolutions;\n};\n\nexport function createNotification(id, name, isNewSwitch) {\n  const verb = isNewSwitch ? 'created' : 'updated';\n  return {\n    variant: 'success',\n    title: `Playbook ${verb}`,\n    description: (\n      <span>\n        You have successfully {verb} <a href={remediationUrl(id)}>{name}</a>.\n      </span>\n    ),\n    dismissable: true,\n  };\n}\n\nexport const submitRemediation = (formValues, data, basePath, setState) => {\n  let percent = 1;\n  setState({ percent });\n\n  const issues = data.issues\n    .map(({ id }) => {\n      const playbookSystems =\n        formValues[EXISTING_PLAYBOOK]?.issues\n          ?.find((i) => i.id === id)\n          ?.systems?.map((s) => s.id) || [];\n      return {\n        id,\n        resolution: getResolution(id, formValues)?.[0]?.id,\n        systems: dedupeArray([\n          ...(formValues[EXISTING_PLAYBOOK_SELECTED] ? [] : playbookSystems),\n          ...(formValues[SYSTEMS][id] || []),\n        ]),\n      };\n    })\n    .filter((issue) => issue.systems.length > 0);\n\n  const interval = setInterval(() => {\n    percent < 99 && setState({ percent: ++percent });\n  }, (issues.length + Object.keys(formValues[SYSTEMS]).length) / 10);\n\n  const add = { issues, systems: [] };\n\n  const { id } = formValues[EXISTING_PLAYBOOK] || {};\n  const isUpdate = formValues[EXISTING_PLAYBOOK_SELECTED];\n\n  (\n    (isUpdate &&\n      api.patchRemediation(\n        id,\n        { add, auto_reboot: formValues[AUTO_REBOOT] },\n        basePath\n      )) ||\n    api.createRemediation(\n      {\n        name: formValues[SELECT_PLAYBOOK],\n        add,\n        auto_reboot: formValues[AUTO_REBOOT],\n      },\n      basePath\n    )\n  )\n    .then(({ id }) => {\n      setState({ id, percent: 100 });\n      data?.onRemediationCreated?.({\n        remediation: { id, name },\n        getNotification: () =>\n          createNotification(id, formValues[SELECT_PLAYBOOK], !isUpdate),\n      });\n    })\n    .catch(() => {\n      setState({ failed: true });\n    })\n    .finally(() => clearInterval(interval));\n};\n\nexport const entitySelected = (state, { payload }) => {\n  let selected = state.selected || [];\n  if (payload.selected) {\n    selected = [\n      ...selected,\n      ...(payload.id === 0 ? state.rows.map((row) => row.id) : [payload.id]),\n    ];\n  } else {\n    if (payload.id === 0) {\n      const rowsIds = state.rows.map((row) => row.id);\n      selected = selected.filter((item) => !rowsIds.includes(item));\n    } else {\n      selected =\n        payload.id === -1 ? [] : selected.filter((item) => item !== payload.id);\n    }\n  }\n\n  return {\n    ...state,\n    selected,\n  };\n};\n\nexport const loadEntitiesFulfilled = (state, allSystems, sortBy) => {\n  let selected = state.selected || [];\n  if (!state.selected) {\n    selected = allSystems ? allSystems : state.rows.map((row) => row.id);\n  }\n  return {\n    ...state,\n    selected,\n    rows: sortByAttr(\n      state.rows.map(({ id, ...row }) => ({\n        id,\n        ...row,\n        selected: !!selected?.includes(id),\n      })),\n      'display_name',\n      sortBy?.direction || 'asc'\n    ),\n    sortBy,\n  };\n};\n\nexport const changeBulkSelect = (state, action) => {\n  const removeSelected = !action.payload;\n  if (!removeSelected) {\n    state.selected = dedupeArray([\n      ...state.selected,\n      ...state.rows.map((row) => row.id),\n    ]);\n  }\n\n  return {\n    ...state,\n    selected: removeSelected ? [] : state.selected,\n    rows: state.rows.map(({ id, ...row }) => ({\n      id,\n      ...row,\n      selected: !removeSelected,\n    })),\n  };\n};\n\nexport const sortByAttr = (systems, attribute, direction) =>\n  Array.isArray(systems)\n    ? systems.sort(\n        (a, b) =>\n          ((a[attribute] > b[attribute] && 1) || -1) *\n          (direction === 'asc' ? 1 : -1)\n      )\n    : [];\n\nexport const fetchSystemsInfo = async (\n  config,\n  sortableColumns = [],\n  allSystemsNamed = [],\n  getEntities\n) => {\n  const isSortingValid = sortableColumns.includes(config.orderBy);\n  config.orderBy = isSortingValid ? config.orderBy : undefined;\n  config.orderDirection = isSortingValid\n    ? config.orderDirection?.toLowerCase()\n    : undefined;\n  allSystemsNamed = sortByAttr(allSystemsNamed, 'name', config.orderDirection);\n  const hostnameOrId = config?.filters?.hostnameOrId?.toLowerCase();\n  const systems = hostnameOrId\n    ? allSystemsNamed.reduce(\n        (acc, curr) => [\n          ...acc,\n          ...(curr.name.toLowerCase().includes(hostnameOrId) ? [curr.id] : []),\n        ],\n        []\n      )\n    : allSystemsNamed.map((system) => system.id);\n  const sliced = systems.slice(\n    (config.page - 1) * config.per_page,\n    config.page * config.per_page\n  );\n  const data =\n    sliced.length > 0\n      ? await getEntities(sliced, { ...config, hasItems: true, page: 1 }, true)\n      : {};\n  return {\n    ...{\n      ...data,\n      results: sortByAttr(data.results, 'display_name', config.orderDirection),\n    },\n    total: systems.length,\n    page: config.page,\n    per_page: config.per_page,\n    orderBy: config.orderBy,\n    orderDirection: config.orderDirection,\n    sortBy: { key: config.orderBy, direction: config.orderDirection },\n  };\n};\n\nexport const splitArray = (inputArray, perChunk) =>\n  [...new Array(Math.ceil(inputArray.length / perChunk))].map((_item, key) =>\n    inputArray.slice(key * perChunk, (key + 1) * perChunk)\n  );\n\nexport const getPlaybookSystems = (playbook) =>\n  (playbook &&\n    uniqWith(\n      playbook.issues?.reduce(\n        (acc, curr) => [\n          ...acc,\n          ...curr.systems.map((system) => ({\n            id: system.id,\n            name: system.display_name,\n          })),\n        ],\n        []\n      ),\n      isEqual\n    )) ||\n  [];\n\nexport const inventoryEntitiesReducer = (\n  allSystems,\n  { LOAD_ENTITIES_FULFILLED }\n) =>\n  applyReducerHash({\n    SELECT_ENTITY: (state, action) => entitySelected(state, action),\n    [LOAD_ENTITIES_FULFILLED]: (state, { payload }) =>\n      loadEntitiesFulfilled(state, allSystems, {\n        key: payload.orderBy,\n        direction: payload.orderDirection,\n      }),\n    [TOGGLE_BULK_SELECT]: changeBulkSelect,\n  });\n\nexport const shortenIssueId = (issueId) =>\n  issueId?.split('|')?.slice(-1)?.[0] || issueId;\n\nexport const getIssuesMultiple = (\n  issues = [],\n  systems = [],\n  resolutions = []\n) =>\n  issues\n    .map((issue) => {\n      const issueResolutions =\n        resolutions.find((r) => r.id === issue.id)?.resolutions || [];\n      const { description, needs_reboot: needsReboot } =\n        issueResolutions?.[0] || {};\n      return {\n        action: issues.find((i) => i.id === issue.id).description,\n        resolution: description,\n        needsReboot,\n        systems: dedupeArray([...(issue.systems || []), ...systems]),\n        id: issue.id,\n        alternate: issueResolutions?.length - 1,\n      };\n    })\n    .filter((record) => record.alternate > 0);\n\nexport const matchPermissions = (permissionA, permissionB) => {\n  const segmentsA = permissionA.split(':');\n  const segmentsB = permissionB.split(':');\n\n  if (segmentsA.length !== segmentsB.length) {\n    return false;\n  }\n\n  return segmentsA.every(\n    (segmentA, index) =>\n      segmentA === segmentsB[index] ||\n      segmentA === '*' ||\n      segmentsB[index] === '*'\n  );\n};\n","import React, { useEffect, useRef, useState } from 'react';\nimport { Provider } from 'react-redux';\nimport propTypes from 'prop-types';\nimport promiseMiddleware from 'redux-promise-middleware';\nimport ReducerRegistry from '@redhat-cloud-services/frontend-components-utilities/ReducerRegistry';\nimport InventoryTable from '@redhat-cloud-services/frontend-components/Inventory/InventoryTable';\nimport {\n  fetchSystemsInfo,\n  inventoryEntitiesReducer as entitiesReducer,\n} from '../../../Utilities/utils';\nimport './systemsTable.scss';\n\nconst SystemsTable = ({\n  registry,\n  allSystemsNamed,\n  allSystems,\n  hasCheckbox,\n  disabledColumns,\n  bulkSelect,\n}) => {\n  const inventory = useRef(null);\n  const sortableColumns = ['display_name'];\n\n  return (\n    <InventoryTable\n      hideFilters={{\n        tags: true,\n        registeredWith: true,\n        stale: true,\n      }}\n      columns={(columns) =>\n        columns.reduce(\n          (acc, curr) => [\n            ...acc,\n            ...(!disabledColumns.includes(curr.key)\n              ? [\n                  {\n                    ...curr,\n                    props: {\n                      ...(curr.props || {}),\n                      isStatic: !sortableColumns.includes(curr.key),\n                    },\n                  },\n                ]\n              : []),\n          ],\n          []\n        )\n      }\n      noDetail\n      variant=\"compact\"\n      hasCheckbox={hasCheckbox}\n      showTags\n      bulkSelect={bulkSelect}\n      ref={inventory}\n      getEntities={(_i, config, showTags, defaultGetEntities) =>\n        fetchSystemsInfo(\n          config,\n          sortableColumns,\n          allSystemsNamed,\n          defaultGetEntities\n        )\n      }\n      onLoad={({ mergeWithEntities, INVENTORY_ACTION_TYPES }) => {\n        registry.register(\n          mergeWithEntities(entitiesReducer(allSystems, INVENTORY_ACTION_TYPES))\n        );\n      }}\n      tableProps={{\n        canSelectAll: false,\n      }}\n    ></InventoryTable>\n  );\n};\n\nSystemsTable.defaultProps = {\n  disabledColumns: [],\n  hasCheckbox: false,\n};\n\nSystemsTable.propTypes = {\n  registry: propTypes.instanceOf(ReducerRegistry).isRequired,\n  allSystemsNamed: propTypes.arrayOf(\n    propTypes.shape({\n      id: propTypes.string,\n      name: propTypes.string,\n    })\n  ).isRequired,\n  allSystems: propTypes.arrayOf(propTypes.string).isRequired,\n  hasCheckbox: propTypes.bool,\n  disabledColumns: propTypes.arrayOf(propTypes.string),\n  bulkSelect: propTypes.object,\n};\n\nexport const SystemsTableWithContext = (props) => {\n  const [registry, setRegistry] = useState();\n\n  useEffect(() => {\n    setRegistry(() => new ReducerRegistry({}, [promiseMiddleware]));\n  }, []);\n\n  return registry?.store ? (\n    <Provider store={registry.store}>\n      <div className=\"pf-u-pl-lg\">\n        <SystemsTable {...props} registry={registry} />\n      </div>\n    </Provider>\n  ) : null;\n};\n\nexport default SystemsTable;\n"],"names":["capitalize","string","concat","charAt","toUpperCase","slice","CAN_REMEDIATE","AUTO_REBOOT","SELECT_PLAYBOOK","SELECTED_RESOLUTIONS","MANUAL_RESOLUTION","EXISTING_PLAYBOOK_SELECTED","EXISTING_PLAYBOOK","SYSTEMS","RESOLUTIONS","ISSUES_MULTIPLE","TOGGLE_BULK_SELECT","getEnvUrl","window","location","pathname","split","remediationUrl","id","document","baseURI","replace","filter","s","length","shift","dedupeArray","array","_toConsumableArray","Set","pluralize","count","str","fallback","buildRows","records","sortByState","showAlternate","allSystemsNamed","sort","a","b","key","Object","keys","index","direction","sortRecords","reduce","acc","curr","_curr$systems","_curr$systems2","isOpen","cells","title","action","React","Fragment","resolution","alternate","needsReboot","systems","props","parent","fullWidth","system","includes","allSystems","Bullseye","Spinner","colSpan","className","buildSystemRow","arguments","undefined","SystemsTableWithContext","disabledColumns","onCollapse","event","rowKey","rows","setRows","temp","getResolution","issueId","formValues","_formValues$RESOLUTIO","issueResolutions","find","r","resolutions","_formValues$EXISTING_","existing","issues","i","submitRemediation","data","basePath","setState","percent","map","_ref","_formValues$EXISTING_2","_getResolution","playbookSystems","issue","interval","setInterval","add","isUpdate","api","auto_reboot","name","then","_ref3","_data$onRemediationCr","onRemediationCreated","call","remediation","getNotification","isNewSwitch","verb","variant","description","href","dismissable","createNotification","failed","clearInterval","changeBulkSelect","state","removeSelected","payload","selected","row","_objectSpread","_ref6","_objectWithoutProperties","_excluded2","sortByAttr","attribute","Array","isArray","fetchSystemsInfo","_ref7","_asyncToGenerator","_regeneratorRuntime","_callee","config","_config$orderDirectio","_config$filters","getEntities","isSortingValid","hostnameOrId","sliced","_args","_context","prev","next","orderBy","orderDirection","toLowerCase","filters","page","per_page","hasItems","t0","sent","abrupt","results","total","sortBy","stop","_x","apply","splitArray","inputArray","perChunk","Math","ceil","_item","inventoryEntitiesReducer","_ref8","LOAD_ENTITIES_FULFILLED","applyReducerHash","_defineProperty","SELECT_ENTITY","_ref4","rowsIds","item","entitySelected","_ref9","_ref5","_selected","_excluded","loadEntitiesFulfilled","shortenIssueId","_issueId$split","getIssuesMultiple","_resolutions$find","_ref10","needs_reboot","record","matchPermissions","permissionA","permissionB","segmentsA","segmentsB","every","segmentA","SystemsTable","registry","hasCheckbox","bulkSelect","inventory","useRef","sortableColumns","InventoryTable","hideFilters","tags","registeredWith","stale","columns","isStatic","noDetail","showTags","ref","_i","defaultGetEntities","onLoad","_ref2","mergeWithEntities","INVENTORY_ACTION_TYPES","register","entitiesReducer","tableProps","canSelectAll","defaultProps","propTypes","ReducerRegistry","isRequired","_useState","useState","_useState2","_slicedToArray","setRegistry","useEffect","promiseMiddleware","store","Provider","_extends"],"sourceRoot":""}