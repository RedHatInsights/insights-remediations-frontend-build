{"version":3,"file":"js/exposed-./RemediationWizard.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./src/Utilities/utils.js","webpack:///./src/Utilities/http.js","webpack:///./src/api/index.js","webpack:///./src/config.js","webpack:///./src/constants.js","webpack:///./src/modules/RemediationsModal/common/SystemsTable.js"],"sourcesContent":["export function capitalize(string) {\n  return `${string.charAt(0).toUpperCase() + string.slice(1)}`;\n}\n\n/* eslint-disable camelcase */\nimport React, { Fragment } from 'react';\nimport { Bullseye, Spinner } from '@patternfly/react-core';\nimport * as api from '../api';\nimport uniqWith from 'lodash/uniqWith';\nimport isEqual from 'lodash/isEqual';\nimport { applyReducerHash } from '@redhat-cloud-services/frontend-components-utilities/ReducerRegistry/ReducerRegistry';\nimport { SystemsTableWithContext } from '../modules/RemediationsModal/common/SystemsTable';\n\nexport const CAN_REMEDIATE = 'remediations:remediation:write';\nexport const AUTO_REBOOT = 'auto-reboot';\nexport const HAS_MULTIPLES = 'has-multiples';\nexport const SELECT_PLAYBOOK = 'select-playbook';\nexport const SELECTED_RESOLUTIONS = 'selected-resolutions';\nexport const MANUAL_RESOLUTION = 'manual-resolution';\nexport const EXISTING_PLAYBOOK_SELECTED = 'existing-playbook-selected';\nexport const EXISTING_PLAYBOOK = 'existing-playbook';\nexport const SYSTEMS = 'systems';\nexport const RESOLUTIONS = 'resolutions';\nexport const ISSUES_MULTIPLE = 'issues-multiple';\nexport const TOGGLE_BULK_SELECT = 'toggle-bulk-select';\n\n// Get the current group since we can be mounted at two urls\nexport const getGroup = () =>\n  window.location.pathname\n    .split('/')\n    .filter((s) => s !== 'preview' && s.length > 0)\n    .shift();\n\nexport const getEnvUrl = () => {\n  const pathName = window.location.pathname.split('/');\n  return pathName[1] === 'preview' ? 'preview/' : '';\n};\n\nexport const getBaseUri = () =>\n  `${document.baseURI.replace('preview/', '')}${getEnvUrl()}`;\n\nexport const remediationUrl = (id) =>\n  `${getBaseUri()}${getGroup()}/remediations${id ? `/${id}` : ''}`;\n\nexport const dedupeArray = (array) => [...new Set(array)];\n\nexport const pluralize = (count, str, fallback) =>\n  count !== 1 ? fallback || str + 's' : str;\n\nconst sortRecords = (records, sortByState) =>\n  [...records].sort((a, b) => {\n    const key = Object.keys(a)[sortByState.index - 1];\n    return (\n      (a[key] > b[key] ? 1 : a[key] < b[key] ? -1 : 0) *\n      (sortByState.direction === 'desc' ? -1 : 1)\n    );\n  });\n\nexport const buildRows = (\n  records,\n  sortByState,\n  showAlternate,\n  allSystemsNamed\n) =>\n  sortRecords(records, sortByState).reduce(\n    (acc, curr, index) => [\n      ...acc,\n      {\n        isOpen: false,\n        cells: [\n          { title: curr.action },\n          {\n            title: (\n              <Fragment key={`${index}-description`}>\n                <p key={`${index}-resolution`}>{curr.resolution}</p>\n                {showAlternate && curr.alternate > 0 && (\n                  <p key={`${index}-alternate`}>\n                    {curr.alternate} alternate{' '}\n                    {pluralize(curr.alternate, 'resolution')}\n                  </p>\n                )}\n              </Fragment>\n            ),\n          },\n          {\n            title: curr.needsReboot ? (\n              <div>Required</div>\n            ) : (\n              <div>Not required</div>\n            ),\n          },\n          {\n            title: curr.systems?.length || 0,\n            props: { isOpen: false },\n          },\n        ],\n      },\n      ...(curr.systems?.length > 0\n        ? [\n            {\n              parent: index * 2,\n              fullWidth: true,\n              allSystemsNamed: allSystemsNamed.filter((system) =>\n                curr.systems.includes(system.id)\n              ),\n              allSystems: curr.systems,\n              cells: [\n                {\n                  title: (\n                    <Bullseye>\n                      <Spinner />\n                    </Bullseye>\n                  ),\n                  props: { colSpan: 5, className: 'pf-m-no-padding' },\n                },\n              ],\n            },\n          ]\n        : []),\n    ],\n    []\n  );\n\nconst buildSystemRow = (allSystemsNamed = [], allSystems = []) => (\n  <SystemsTableWithContext\n    allSystemsNamed={allSystemsNamed}\n    allSystems={allSystems}\n    disabledColumns={['updated']}\n  />\n);\n\nexport const onCollapse = (event, rowKey, isOpen, rows, setRows) => {\n  let temp = [...rows];\n  rows[rowKey].isOpen = isOpen;\n  temp[rowKey + 1].cells = [\n    {\n      title: buildSystemRow(\n        rows[rowKey + 1].allSystemsNamed,\n        rows[rowKey + 1].allSystems\n      ),\n    },\n  ];\n  setRows(temp);\n};\n\nexport const getResolution = (issueId, formValues) => {\n  const issueResolutions =\n    formValues[RESOLUTIONS].find((r) => r.id === issueId)?.resolutions || [];\n\n  if (\n    formValues[MANUAL_RESOLUTION] &&\n    issueId in formValues[SELECTED_RESOLUTIONS]\n  ) {\n    return issueResolutions.filter(\n      (r) => r.id === formValues[SELECTED_RESOLUTIONS][issueId]\n    );\n  }\n\n  if (formValues[EXISTING_PLAYBOOK_SELECTED]) {\n    const existing = formValues[EXISTING_PLAYBOOK]?.issues?.find(\n      (i) => i.id === issueId\n    );\n\n    if (existing) {\n      return issueResolutions.filter((r) => r.id === existing.resolution.id);\n    }\n  }\n\n  return issueResolutions;\n};\n\nexport function createNotification(id, name, isNewSwitch) {\n  const verb = isNewSwitch ? 'created' : 'updated';\n  return {\n    variant: 'success',\n    title: `Playbook ${verb}`,\n    description: (\n      <span>\n        You have successfully {verb} <a href={remediationUrl(id)}>{name}</a>.\n      </span>\n    ),\n    dismissable: true,\n  };\n}\n\nexport const submitRemediation = (formValues, data, basePath, setState) => {\n  let percent = 1;\n  setState({ percent });\n\n  const issues = data.issues\n    .map(({ id }) => {\n      const playbookSystems =\n        formValues[EXISTING_PLAYBOOK]?.issues\n          ?.find((i) => i.id === id)\n          ?.systems?.map((s) => s.id) || [];\n      return {\n        id,\n        resolution: getResolution(id, formValues)?.[0]?.id,\n        systems: dedupeArray([\n          ...(formValues[EXISTING_PLAYBOOK_SELECTED] ? [] : playbookSystems),\n          ...(formValues[SYSTEMS][id] || []),\n        ]),\n      };\n    })\n    .filter((issue) => issue.systems.length > 0);\n\n  const interval = setInterval(() => {\n    percent < 99 && setState({ percent: ++percent });\n  }, (issues.length + Object.keys(formValues[SYSTEMS]).length) / 10);\n\n  const add = { issues, systems: [] };\n\n  const { id } = formValues[EXISTING_PLAYBOOK] || {};\n  const isUpdate = formValues[EXISTING_PLAYBOOK_SELECTED];\n\n  (\n    (isUpdate &&\n      api.patchRemediation(\n        id,\n        { add, auto_reboot: formValues[AUTO_REBOOT] },\n        basePath\n      )) ||\n    api.createRemediation(\n      {\n        name: formValues[SELECT_PLAYBOOK],\n        add,\n        auto_reboot: formValues[AUTO_REBOOT],\n      },\n      basePath\n    )\n  )\n    .then(({ id }) => {\n      setState({ id, percent: 100 });\n      data?.onRemediationCreated?.({\n        remediation: { id, name },\n        getNotification: () =>\n          createNotification(id, formValues[SELECT_PLAYBOOK], !isUpdate),\n      });\n    })\n    .catch(() => {\n      setState({ failed: true });\n    })\n    .finally(() => clearInterval(interval));\n};\n\nexport const entitySelected = (state, { payload }) => {\n  let selected = state.selected || [];\n  if (payload.selected) {\n    selected = [\n      ...selected,\n      ...(payload.id === 0 ? state.rows.map((row) => row.id) : [payload.id]),\n    ];\n  } else {\n    if (payload.id === 0) {\n      const rowsIds = state.rows.map((row) => row.id);\n      selected = selected.filter((item) => !rowsIds.includes(item));\n    } else {\n      selected =\n        payload.id === -1 ? [] : selected.filter((item) => item !== payload.id);\n    }\n  }\n\n  return {\n    ...state,\n    selected,\n  };\n};\n\nexport const loadEntitiesFulfilled = (state, allSystems, sortBy) => {\n  let selected = state.selected || [];\n  if (!state.selected) {\n    selected = allSystems ? allSystems : state.rows.map((row) => row.id);\n  }\n  return {\n    ...state,\n    selected,\n    rows: sortByAttr(\n      state.rows.map(({ id, ...row }) => ({\n        id,\n        ...row,\n        selected: !!selected?.includes(id),\n      })),\n      'display_name',\n      sortBy?.direction || 'asc'\n    ),\n    sortBy,\n  };\n};\n\nexport const changeBulkSelect = (state, action) => {\n  const removeSelected = !action.payload;\n  if (!removeSelected) {\n    state.selected = dedupeArray([\n      ...state.selected,\n      ...state.rows.map((row) => row.id),\n    ]);\n  }\n\n  return {\n    ...state,\n    selected: removeSelected ? [] : state.selected,\n    rows: state.rows.map(({ id, ...row }) => ({\n      id,\n      ...row,\n      selected: !removeSelected,\n    })),\n  };\n};\n\nexport const sortByAttr = (systems, attribute, direction) =>\n  Array.isArray(systems)\n    ? systems.sort(\n        (a, b) =>\n          ((a[attribute] > b[attribute] && 1) || -1) *\n          (direction === 'asc' ? 1 : -1)\n      )\n    : [];\n\nexport const fetchSystemsInfo = async (\n  config,\n  sortableColumns = [],\n  allSystemsNamed = [],\n  getEntities\n) => {\n  const isSortingValid = sortableColumns.includes(config.orderBy);\n  config.orderBy = isSortingValid ? config.orderBy : undefined;\n  config.orderDirection = isSortingValid\n    ? config.orderDirection?.toLowerCase()\n    : undefined;\n  allSystemsNamed = sortByAttr(allSystemsNamed, 'name', config.orderDirection);\n  const hostnameOrId = config?.filters?.hostnameOrId?.toLowerCase();\n  const systems = hostnameOrId\n    ? allSystemsNamed.reduce(\n        (acc, curr) => [\n          ...acc,\n          ...(curr.name.toLowerCase().includes(hostnameOrId) ? [curr.id] : []),\n        ],\n        []\n      )\n    : allSystemsNamed.map((system) => system.id);\n  const sliced = systems.slice(\n    (config.page - 1) * config.per_page,\n    config.page * config.per_page\n  );\n  const data =\n    sliced.length > 0\n      ? await getEntities(sliced, { ...config, hasItems: true, page: 1 }, true)\n      : {};\n  return {\n    ...{\n      ...data,\n      results: sortByAttr(data.results, 'display_name', config.orderDirection),\n    },\n    total: systems.length,\n    page: config.page,\n    per_page: config.per_page,\n    orderBy: config.orderBy,\n    orderDirection: config.orderDirection,\n    sortBy: { key: config.orderBy, direction: config.orderDirection },\n  };\n};\n\nexport const splitArray = (inputArray, perChunk) =>\n  [...new Array(Math.ceil(inputArray.length / perChunk))].map((_item, key) =>\n    inputArray.slice(key * perChunk, (key + 1) * perChunk)\n  );\n\nexport const getPlaybookSystems = (playbook) =>\n  (playbook &&\n    uniqWith(\n      playbook.issues?.reduce(\n        (acc, curr) => [\n          ...acc,\n          ...curr.systems.map((system) => ({\n            id: system.id,\n            name: system.display_name,\n          })),\n        ],\n        []\n      ),\n      isEqual\n    )) ||\n  [];\n\nexport const inventoryEntitiesReducer = (\n  allSystems,\n  { LOAD_ENTITIES_FULFILLED }\n) =>\n  applyReducerHash({\n    SELECT_ENTITY: (state, action) => entitySelected(state, action),\n    [LOAD_ENTITIES_FULFILLED]: (state, { payload }) =>\n      loadEntitiesFulfilled(state, allSystems, {\n        key: payload.orderBy,\n        direction: payload.orderDirection,\n      }),\n    [TOGGLE_BULK_SELECT]: changeBulkSelect,\n  });\n\nexport const shortenIssueId = (issueId) =>\n  issueId?.split('|')?.slice(-1)?.[0] || issueId;\n\nexport const getIssuesMultiple = (\n  issues = [],\n  systems = [],\n  resolutions = []\n) =>\n  issues\n    .map((issue) => {\n      const issueResolutions =\n        resolutions.find((r) => r.id === issue.id)?.resolutions || [];\n      const { description, needs_reboot: needsReboot } =\n        issueResolutions?.[0] || {};\n      return {\n        action: issues.find((i) => i.id === issue.id).description,\n        resolution: description,\n        needsReboot,\n        systems: dedupeArray([...(issue.systems || []), ...systems]),\n        id: issue.id,\n        alternate: issueResolutions?.length - 1,\n      };\n    })\n    .filter((record) => record.alternate > 0);\n\nexport const matchPermissions = (permissionA, permissionB) => {\n  const segmentsA = permissionA.split(':');\n  const segmentsB = permissionB.split(':');\n\n  if (segmentsA.length !== segmentsB.length) {\n    return false;\n  }\n\n  return segmentsA.every(\n    (segmentA, index) =>\n      segmentA === segmentsB[index] ||\n      segmentA === '*' ||\n      segmentsB[index] === '*'\n  );\n};\n","const HEADERS = {\n  'Content-Type': 'application/json; charset=utf-8',\n};\n\nclass HttpError extends Error {\n  constructor(description) {\n    super('Error communicating with the server');\n    this.description = description;\n  }\n}\n\nasync function checkResponse(r) {\n  if (r.ok) {\n    return r;\n  }\n\n  if (r.headers.get('content-type').includes('application/json')) {\n    // let's try to extract some more info\n    let data = false;\n    try {\n      data = await r.json();\n    } catch (e) {} // eslint-disable-line no-empty\n\n    if (data.errors && data.errors.length) {\n      const error = data.errors[0];\n\n      if (error.details && error.details.name) {\n        throw new HttpError(`${error.title} (${error.details.name})`);\n      }\n\n      throw new HttpError(error.title);\n    }\n  }\n\n  throw new HttpError(`Unexpected response code ${r.status}`);\n}\n\nasync function json(r) {\n  if (!r) {\n    return;\n  }\n\n  const type = r.headers.get('content-type');\n  if (!type.includes('application/json')) {\n    throw new HttpError(`Unexpected response type (${type}) returned`);\n  }\n\n  return r.json();\n}\n\nfunction doFetch(\n  uri,\n  method = 'GET',\n  data = false,\n  headers = false,\n  options = {}\n) {\n  const opts = {\n    credentials: 'same-origin',\n    method,\n    ...options,\n  };\n\n  if (headers) {\n    opts.headers = headers;\n  }\n\n  if (data) {\n    opts.body = JSON.stringify(data);\n  }\n\n  return fetch(uri, opts);\n}\n\nexport function doGet(uri) {\n  return doFetch(uri.toString()).then(checkResponse).then(json);\n}\n\nexport function doPost(uri, data) {\n  return doFetch(uri, 'POST', data, HEADERS).then(checkResponse).then(json);\n}\n\nexport function doPatch(uri, data) {\n  return doFetch(uri, 'PATCH', data, HEADERS).then(checkResponse);\n}\n\nexport function doDelete(uri) {\n  return doFetch(uri, 'DELETE').then(checkResponse);\n}\n","import { API_BASE, SOURCES_BASE } from '../config';\n\nimport axios from 'axios';\nimport {\n  RemediationsApi,\n  ResolutionsApi,\n  RemediationsApiAxiosParamCreator,\n} from '@redhat-cloud-services/remediations-client';\nimport { DefaultApi } from '@redhat-cloud-services/sources-client';\n\n/*\n * TODO: replace these with generated clients\n */\nimport { doGet } from '../Utilities/http';\nimport urijs from 'urijs';\n\nfunction url(...args) {\n  const url = urijs(API_BASE).segment('remediations');\n  args.forEach((segment) => url.segment(segment));\n  return url;\n}\n\nexport const getRemediationStatus = (id) => doGet(url(id, 'status'));\nexport function getHosts() {\n  return doGet('/api/inventory/v1/hosts');\n}\n/*\n * end of TODO\n */\n\nclass HttpError extends Error {\n  constructor(description) {\n    super('Error communicating with the server');\n    this.description = description;\n  }\n}\n\nasync function authInterceptor(config) {\n  return config;\n}\n\nfunction responseDataInterceptor(response) {\n  if (response.data) {\n    return { ...response.data, etag: response.headers.etag };\n  }\n\n  return response;\n}\n\nfunction interceptor401(err) {\n  if (!err) {\n    return;\n  }\n\n  if (err.response && err.response.status === 401) {\n    return false;\n  }\n\n  throw err;\n}\n\nfunction errorInterceptor(err) {\n  if (!err) {\n    return;\n  }\n\n  if (\n    err.response &&\n    err.response.data &&\n    err.response.data.errors &&\n    err.response.data.errors.length\n  ) {\n    const error = err.response.data.errors[0];\n\n    if (error.details && error.details.name) {\n      throw new HttpError(`${error.title} (${error.details.name})`);\n    }\n\n    throw new HttpError(error.title);\n  }\n\n  throw err;\n}\n\nconst instance = axios.create();\ninstance.interceptors.request.use(authInterceptor);\ninstance.interceptors.response.use(responseDataInterceptor);\ninstance.interceptors.response.use(null, interceptor401);\ninstance.interceptors.response.use(null, errorInterceptor);\n\nexport const remediations = new RemediationsApi(undefined, API_BASE, instance);\nexport const resolutions = new ResolutionsApi(undefined, API_BASE, instance);\nexport const sources = new DefaultApi(undefined, SOURCES_BASE, instance);\n\nexport function downloadPlaybook(selectedIds) {\n  return new Promise((resolve, reject) => {\n    const tab =\n      selectedIds.length > 1\n        ? new RemediationsApiAxiosParamCreator()\n            .downloadPlaybooks(selectedIds)\n            .then((value) => window.location.assign(API_BASE + value.url))\n        : new RemediationsApiAxiosParamCreator()\n            .getRemediationPlaybook(selectedIds[0])\n            .then((value) => window.location.assign(API_BASE + value.url));\n\n    if (!tab) {\n      return reject();\n    }\n\n    const handle = setInterval(() => {\n      if (tab.closed) {\n        clearInterval(handle);\n        resolve();\n      }\n    }, 500);\n  });\n}\n\nexport function getIsReceptorConfigured() {\n  return doGet(\n    `${window.location.origin}/api/sources/v2.0/endpoints?filter[receptor_node][not_nil]`\n  );\n}\n\nexport function deleteSystemsFromRemediation(systems, remediation) {\n  return Promise.all(\n    systems.flatMap((system) =>\n      system.issues.map((issue) =>\n        remediations.deleteRemediationIssueSystem(\n          remediation.id,\n          issue.id,\n          system.id\n        )\n      )\n    )\n  );\n}\n\nfunction checkResponse(r) {\n  if (!r.ok) {\n    const error = new Error(`Unexpected response code ${r.status}`);\n    error.statusCode = r.status;\n    throw error;\n  }\n\n  return r;\n}\n\nfunction json(r) {\n  checkResponse(r);\n  return r.json();\n}\n\nconst headers = Object.freeze({\n  'Content-Type': 'application/json; charset=utf-8',\n});\n\nexport function createRemediation(data) {\n  const uri = new urijs(API_BASE).segment('remediations').toString();\n  return fetch(uri, {\n    headers,\n    method: 'POST',\n    credentials: 'include',\n    body: JSON.stringify(data),\n  }).then(json);\n}\n\nexport function patchRemediation(id, data) {\n  const uri = new urijs(API_BASE)\n    .segment('remediations')\n    .segment(id)\n    .toString();\n  return fetch(uri, {\n    headers,\n    credentials: 'include',\n    method: 'PATCH',\n    body: JSON.stringify(data),\n  }).then(checkResponse);\n}\n\nexport function getRemediations() {\n  const uri = new urijs(API_BASE)\n    .segment('remediations')\n    .query({ limit: 200 })\n    .toString();\n  return fetch(uri, { credentials: 'include' }).then(json);\n}\n\nexport function getRemediation(id) {\n  const uri = new urijs(API_BASE)\n    .segment('remediations')\n    .segment(id)\n    .toString();\n  return fetch(uri, { credentials: 'include' }).then(json);\n}\n\nexport function getResolutionsBatch(issues) {\n  const uri = new urijs(API_BASE).segment('resolutions').toString();\n  return fetch(uri, {\n    headers,\n    credentials: 'include',\n    method: 'POST',\n    body: JSON.stringify({ issues }),\n  }).then(json);\n}\n","export const API_BASE = '/api/remediations/v1';\nexport const SOURCES_BASE = '/api/sources/v2.0';\n","import keyBy from 'lodash/keyBy';\nimport flatMap from 'lodash/flatMap';\n\nconst asyncActions = flatMap(\n  [\n    'LOAD_REMEDIATIONS',\n    'CREATE_REMEDIATIONS',\n    'LOAD_REMEDIATION',\n    'LOAD_REMEDIATION_STATUS',\n    'REFRESH_REMEDIATION',\n    'PATCH_REMEDIATION',\n    'DELETE_REMEDIATION',\n    'DELETE_REMEDIATION_ISSUE',\n    'DELETE_REMEDIATION_ISSUE_SYSTEM',\n    'PATCH_REMEDIATION_ISSUE',\n    'GET_RESOLUTIONS',\n    'GET_CONNECTION_STATUS',\n    'RUN_REMEDIATION',\n    'EXECUTE_PLAYBOOK_BANNER',\n    'RUN_REMEDIATION',\n    'GET_PLAYBOOK_RUNS',\n    'GET_PLAYBOOK_RUN',\n    'GET_PLAYBOOK_RUN_SYSTEMS',\n    'GET_PLAYBOOK_RUN_SYSTEM_DETAILS',\n    'CANCEL_PLAYBOOK_RUNS',\n    'GET_ENDPOINT',\n    'CHECK_EXECUTABLE',\n  ],\n  (a) => [a, `${a}_PENDING`, `${a}_FULFILLED`, `${a}_REJECTED`]\n);\n\nconst actions = ['SET_ETAG', 'EXPAND_INVENTORY_TABLE', 'SELECT_ENTITY'];\nexport const ACTION_TYPES = keyBy([...asyncActions, ...actions], (k) => k);\n\nexport const SEARCH_DEBOUNCE_DELAY = 500;\n\nexport const FETCH_SELECTED_HOSTS = 'FETCH_SELECTED_HOSTS';\nexport const FETCH_RESOLUTIONS = 'FETCH_RESOLUTIONS';\n","import React, { useEffect, useRef, useState } from 'react';\nimport { Provider } from 'react-redux';\nimport propTypes from 'prop-types';\nimport promiseMiddleware from 'redux-promise-middleware';\nimport ReducerRegistry from '@redhat-cloud-services/frontend-components-utilities/ReducerRegistry';\nimport InventoryTable from '@redhat-cloud-services/frontend-components/Inventory/InventoryTable';\nimport {\n  fetchSystemsInfo,\n  inventoryEntitiesReducer as entitiesReducer,\n} from '../../../Utilities/utils';\nimport './systemsTable.scss';\n\nconst SystemsTable = ({\n  registry,\n  allSystemsNamed,\n  allSystems,\n  hasCheckbox,\n  disabledColumns,\n  bulkSelect,\n}) => {\n  const inventory = useRef(null);\n  const sortableColumns = ['display_name'];\n\n  return (\n    <InventoryTable\n      hideFilters={{\n        tags: true,\n        registeredWith: true,\n        stale: true,\n      }}\n      columns={(columns) =>\n        columns.reduce(\n          (acc, curr) => [\n            ...acc,\n            ...(!disabledColumns.includes(curr.key)\n              ? [\n                  {\n                    ...curr,\n                    props: {\n                      ...(curr.props || {}),\n                      isStatic: !sortableColumns.includes(curr.key),\n                    },\n                  },\n                ]\n              : []),\n          ],\n          []\n        )\n      }\n      noDetail\n      variant=\"compact\"\n      hasCheckbox={hasCheckbox}\n      showTags\n      bulkSelect={bulkSelect}\n      ref={inventory}\n      getEntities={(_i, config, showTags, defaultGetEntities) =>\n        fetchSystemsInfo(\n          config,\n          sortableColumns,\n          allSystemsNamed,\n          defaultGetEntities\n        )\n      }\n      onLoad={({ mergeWithEntities, INVENTORY_ACTION_TYPES }) => {\n        registry.register(\n          mergeWithEntities(entitiesReducer(allSystems, INVENTORY_ACTION_TYPES))\n        );\n      }}\n      tableProps={{\n        canSelectAll: false,\n      }}\n    ></InventoryTable>\n  );\n};\n\nSystemsTable.defaultProps = {\n  disabledColumns: [],\n  hasCheckbox: false,\n};\n\nSystemsTable.propTypes = {\n  registry: propTypes.instanceOf(ReducerRegistry).isRequired,\n  allSystemsNamed: propTypes.arrayOf(\n    propTypes.shape({\n      id: propTypes.string,\n      name: propTypes.string,\n    })\n  ).isRequired,\n  allSystems: propTypes.arrayOf(propTypes.string).isRequired,\n  hasCheckbox: propTypes.bool,\n  disabledColumns: propTypes.arrayOf(propTypes.string),\n  bulkSelect: propTypes.object,\n};\n\nexport const SystemsTableWithContext = (props) => {\n  const [registry, setRegistry] = useState();\n\n  useEffect(() => {\n    setRegistry(() => new ReducerRegistry({}, [promiseMiddleware]));\n  }, []);\n\n  return registry?.store ? (\n    <Provider store={registry.store}>\n      <div className=\"pf-u-pl-lg\">\n        <SystemsTable {...props} registry={registry} />\n      </div>\n    </Provider>\n  ) : null;\n};\n\nexport default SystemsTable;\n"],"names":["capitalize","string","charAt","toUpperCase","slice","CAN_REMEDIATE","AUTO_REBOOT","SELECT_PLAYBOOK","SELECTED_RESOLUTIONS","MANUAL_RESOLUTION","EXISTING_PLAYBOOK_SELECTED","EXISTING_PLAYBOOK","SYSTEMS","RESOLUTIONS","ISSUES_MULTIPLE","TOGGLE_BULK_SELECT","getEnvUrl","window","location","pathname","split","remediationUrl","id","document","baseURI","replace","filter","s","length","shift","dedupeArray","array","Set","pluralize","count","str","fallback","buildRows","records","sortByState","showAlternate","allSystemsNamed","sort","a","b","key","Object","keys","index","direction","sortRecords","reduce","acc","curr","isOpen","cells","title","action","Fragment","resolution","alternate","needsReboot","systems","props","parent","fullWidth","system","includes","allSystems","Bullseye","Spinner","colSpan","className","buildSystemRow","disabledColumns","onCollapse","event","rowKey","rows","setRows","temp","getResolution","issueId","formValues","issueResolutions","find","r","resolutions","existing","issues","i","submitRemediation","data","basePath","setState","percent","map","playbookSystems","issue","interval","setInterval","add","isUpdate","auto_reboot","name","then","onRemediationCreated","remediation","getNotification","isNewSwitch","verb","variant","description","href","dismissable","createNotification","catch","failed","finally","clearInterval","changeBulkSelect","state","removeSelected","payload","selected","row","sortByAttr","attribute","Array","isArray","fetchSystemsInfo","async","config","sortableColumns","getEntities","isSortingValid","orderBy","undefined","orderDirection","toLowerCase","hostnameOrId","filters","sliced","page","per_page","hasItems","results","total","sortBy","splitArray","inputArray","perChunk","Math","ceil","_item","inventoryEntitiesReducer","LOAD_ENTITIES_FULFILLED","applyReducerHash","SELECT_ENTITY","rowsIds","item","entitySelected","loadEntitiesFulfilled","shortenIssueId","getIssuesMultiple","needs_reboot","record","matchPermissions","permissionA","permissionB","segmentsA","segmentsB","every","segmentA","HttpError","Error","constructor","super","this","checkResponse","ok","headers","get","json","e","errors","error","details","status","type","doGet","uri","method","options","opts","credentials","body","JSON","stringify","fetch","doFetch","toString","getRemediationStatus","args","url","API_BASE","segment","forEach","getHosts","instance","interceptors","request","use","response","etag","err","remediations","RemediationsApi","ResolutionsApi","sources","DefaultApi","SOURCES_BASE","downloadPlaybook","selectedIds","Promise","resolve","reject","tab","RemediationsApiAxiosParamCreator","downloadPlaybooks","value","assign","getRemediationPlaybook","handle","closed","getIsReceptorConfigured","origin","deleteSystemsFromRemediation","all","flatMap","deleteRemediationIssueSystem","statusCode","freeze","createRemediation","patchRemediation","getRemediations","query","limit","getRemediation","getResolutionsBatch","asyncActions","ACTION_TYPES","k","SEARCH_DEBOUNCE_DELAY","FETCH_SELECTED_HOSTS","FETCH_RESOLUTIONS","SystemsTable","registry","hasCheckbox","bulkSelect","inventory","useRef","hideFilters","tags","registeredWith","stale","columns","isStatic","noDetail","showTags","ref","_i","defaultGetEntities","onLoad","mergeWithEntities","INVENTORY_ACTION_TYPES","register","tableProps","canSelectAll","defaultProps","propTypes","isRequired","SystemsTableWithContext","setRegistry","useState","useEffect","store","Provider"],"sourceRoot":""}