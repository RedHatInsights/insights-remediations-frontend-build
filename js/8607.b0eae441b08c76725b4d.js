(self.webpackChunkremediations=self.webpackChunkremediations||[]).push([[8607],{75998:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});var a=n(92223),o=n(83215);const r=e=>{var t;t=(0,o.wN)(e),(0,a.bh)().dispatch(t)}},82494:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var a=n(10756),o=n.n(a),r=n(45697),l=n.n(r),s=n(13996),i=n(40667);const c=({onClose:e,...t})=>o().createElement(s.Alert,{variant:"info",isInline:!0,title:"Do more with your Find it Fix it capabilities",actionClose:o().createElement(s.AlertActionCloseButton,{onClose:e}),...t},o().createElement(i.Stack,{hasGutter:!0},o().createElement(i.StackItem,null,"Configure your systems with Cloud Connector to fix systems across all your Satellite instances."),o().createElement(i.StackItem,null,o().createElement("a",{href:"https://access.redhat.com/documentation/en-us/red_hat_insights/1-latest/html/red_hat_insights_remediations_guide/index"},"Learn how to configure")))),u=c;c.propTypes={onClose:l().func},c.defaultProps={onClose:()=>{}}},37903:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var a=n(10756),o=n.n(a),r=n(45697),l=n.n(r),s=n(31593),i=n(28685),c=n(29738),u=n.n(c);function m({isOpen:e=!0,title:t="Remove system?",text:n="This action cannot be undone",confirmText:a="Remove system",onClose:r=(e=>e)}){return o().createElement(i.Modal,{title:o().createElement("div",null,o().createElement(u(),{className:"rem-m-alert rem-c-delete-icon pf-u-mr-xs"}),t),className:"remediations rem-c-dialog",variant:i.ModalVariant.small,isOpen:e,onClose:()=>r(!1),isFooterLeftAligned:!0,actions:[o().createElement(s.Button,{key:"confirm",variant:"danger",ouiaId:"confirm",onClick:()=>r(!0)},a),o().createElement(s.Button,{key:"cancel",variant:"link",ouiaId:"cancel",onClick:()=>r(!1)},"Cancel")]},o().createElement("h2",null,n))}m.propTypes={isOpen:l().bool,title:l().string,text:l().string,confirmText:l().string,onClose:l().func}},76744:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var a=n(10756),o=n.n(a),r=n(31593),l=n(4252),s=n(94556),i=n.n(s),c=n(63456),u=n(39173),m=n(99087);const d=()=>o().createElement(o().Fragment,null,o().createElement(c.Z,null,o().createElement(u.Z,{title:"Remediations"})),o().createElement(m.ZP,null,o().createElement(l.EmptyState,{variant:l.EmptyStateVariant.full,className:"rem-c-denied-state"},o().createElement(l.EmptyStateHeader,{titleText:"You do not have access to Remediations",icon:o().createElement(l.EmptyStateIcon,{icon:i()}),headingLevel:"h5"}),o().createElement(l.EmptyStateBody,null,"Contact your organization administrator(s) for more information."),o().createElement(l.EmptyStateFooter,null,document.referrer?o().createElement(r.Button,{variant:"primary",onClick:()=>history.back()},"Return to previous page"):o().createElement(r.Button,{variant:"primary",component:"a",href:"."},"Go to landing page")))))},60278:(e,t,n)=>{"use strict";n.d(t,{l:()=>B});var a=n(10756),o=n.n(a),r=n(45697),l=n.n(r),s=n(31593),i=n(28685),c=n(95499),u=n(13996),m=n(80595),d=n(41817),p=n(53824),h=n(33626),E=n(15848),g=n(75863),y=n(43416),f=n(49004),b=n(58027),C=n(32819),k=n(40773),v=n.n(k),x=n(4252),w=n(29393);const S=()=>o().createElement(x.EmptyState,null,o().createElement(x.EmptyStateHeader,{titleText:"This playbook has no systems associated with it.",icon:o().createElement(x.EmptyStateIcon,{icon:w.ZP}),headingLevel:"h4"}),o().createElement(x.EmptyStateBody,null,"Add at least one system and action to this playbook to use remote execution.")),_=S;S.propTypes={onClose:l().func.isRequired};var T=n(75998),I=n(55140);const B=({isOpen:e,onClose:t,showRefresh:n,isLoading:r,data:l,remediationId:k,remediationName:x,issueCount:w,runRemediation:S,etag:B,setEtag:P})=>{const[R,N]=(0,a.useState)([]),[A,L]=(0,a.useState)([]),O=()=>"true"===localStorage.getItem("remediations:debug"),Z=(0,I.Z)();(0,a.useEffect)((()=>{const[e,t]=l.reduce((([e,t],n)=>n&&"connected"===n.connection_status?[[...e,{...n}],t]:[e,[...t,n]]),[[],[]]);N(e),L(t)}),[l]);const $=e=>(0,E.nH)(e.connection_status,Z?.isBeta?.()),V=[...R,...A].map((e=>({cells:[{title:e.executor_name?o().createElement(m.Tooltip,{content:`${e.executor_name}`},o().createElement("span",null,e.executor_name.length>25?`${e.executor_name.slice(0,22)}...`:e.executor_name)):"Direct connection"},e.system_count,{title:$(e)}]}))),D=R.reduce(((e,t)=>t.system_count+e),0),H=l.reduce(((e,t)=>t.system_count+e),0),F=(e,t)=>e>1?`${e} ${t}s`:`${e} ${t}`;return o().createElement(i.Modal,{"data-testid":"execute-modal",className:"remediations rem-c-execute-modal",variant:O()?i.ModalVariant.large:i.ModalVariant.small,title:"Execute playbook",isOpen:e,onClose:t,isFooterLeftAligned:!0,actions:0!==H?[o().createElement(s.Button,{key:"confirm",variant:"primary",ouiaId:"etag",isDisabled:0===R.length,onClick:()=>{S(k,B,A.map((e=>e.executor_id)).filter((e=>e))),(0,T.q)({title:`Executing playbook ${x}`,description:o().createElement("span",null,"View results in the ",o().createElement("b",null,"Activity tab")),variant:"success",dismissable:!0,autoDismiss:!0})}},r?"Execute playbook":`Execute playbook on ${F(D,"system")}`),o().createElement(s.Button,{key:"download",variant:"secondary",ouiaId:"download-playbook",onClick:()=>{(0,h.rN)(k),(0,T.q)({title:"Preparing playbook for download",description:"Once complete, your download will start automatically.",variant:"info",dismissable:!0,autoDismiss:!0})}},"Download playbook"),O()?o().createElement(s.Button,{key:"reset-etag",onClick:()=>P("test"),ouiaId:"reset-etag"},"Reset etag"):null]:[o().createElement(s.Button,{key:"close-modal",onClick:()=>t(),variant:"primary"},"Close")]},o().createElement("div",{className:"rem-c-execute-modal__body"},n?o().createElement(u.Alert,{variant:"warning",isInline:!0,title:"The connection status of systems associated with this Playbook has changed. Please review again."}):null,o().createElement(c.TextContent,null,r?o().createElement(C.Z,{size:"lg"}):o().createElement(c.Text,{component:c.TextVariants.p},"Playbook contains ",o().createElement("b",null,`${F(w,"action")}`)," affecting",o().createElement("b",null," ",`${F(H,"system")}.`," ")),o().createElement(c.Text,null,o().createElement(d.ExpandableSection,{toggleText:"About remote execution with Cloud connector"},"Playbooks can be executed on systems which:",o().createElement(p.List,null,o().createElement(p.ListItem,null,"Are connected to Insights via a Satellite instance which has Receptor/Cloud Connector enabled, or ",o().createElement("br",null),o().createElement(s.Button,{className:"pf-u-p-0",key:"download",variant:"link",isInline:!0,component:"a",href:"https://access.redhat.com/documentation/en-us/red_hat_insights/1-latest/html/red_hat_insights_remediations_guide/index",rel:"noreferrer",target:"_blank"},"How to configure Receptor/Cloud Connector on Red Hat Satellite  ",o().createElement(v(),null))),o().createElement(p.ListItem,null,"Are directly connected to Insights via Red Hat connector, and Cloud Connector is enabled ",o().createElement("br",null),o().createElement(s.Button,{className:"pf-u-p-0",key:"configure",variant:"link",isInline:!0,component:"a",href:"https://access.redhat.com/documentation/en-us/red_hat_insights/1-latest/html/red_hat_insights_remediations_guide/index",rel:"noreferrer",target:"_blank"},"How to enable Cloud Connector with Red Hat connect  ",o().createElement(v(),null)))))),o().createElement(c.Text,{component:c.TextVariants.p},"Executed Ansible Playbooks run on eligible systems with Cloud Connector. The playbook will be pushed immediately after selecting “Execute playbook”. If the playbook has “Auto reboot” on, systems requiring reboot to complete an action will reboot."),o().createElement(s.Button,{className:"pf-u-p-0",key:"configure",variant:"link",isInline:!0,component:"a",href:"https://access.redhat.com/articles/rhc",rel:"noreferrer",target:"_blank"},"Learn more about Cloud Connector  ",o().createElement(v(),null)),0!==V.length&&o().createElement(c.Text,{component:c.TextVariants.h4},"Connection status of systems")),r&&o().createElement(C.Z,{size:"lg"}),!r&&0!==H&&o().createElement(y.i,{variant:g.B.compact,"aria-label":"Systems",cells:[{title:"Connection type",value:"type"},{title:"Systems",value:"count"},{title:"Connection status",value:"status"}],rows:V},o().createElement(f.x,null),o().createElement(b.R,null)),!r&&0===H&&o().createElement(_,null)))};B.propTypes={isOpen:l().bool,onClose:l().func,showRefresh:l().bool,isLoading:l().bool,data:l().array,remediationId:l().string,remediationName:l().string,issueCount:l().number,runRemediation:l().func,etag:l().string,setEtag:l().func}},38318:(e,t,n)=>{"use strict";n.d(t,{L0:()=>S,h0:()=>_,sk:()=>w,v9:()=>I});var a=n(10756),o=n(23279),r=n.n(o),l=n(63105),s=n.n(l),i=n(35937),c=n.n(i),u=n(3674),m=n.n(u),d=n(24350),p=n.n(d),h=n(66604),E=n.n(h),g=n(6557),y=n.n(g),f=n(25325),b=n.n(f),C=n(37468);const k=(e,t)=>(...n)=>{e(...n),t(...n)};function v(){let e=y();const t=(...t)=>e(...t);return t.add=t=>e=k(e,t),t}function x(e){if(void 0===e)throw new Error("row does not define id!")}function w(e=2,t="asc"){const[n,o]=(0,a.useState)(e),[r,l]=(0,a.useState)(t),s=v();return{sortBy:n,sortDir:r,onChange:s.add,props:{sortBy:{index:n,direction:r},onSort(e,t,n){s(t,n),o(t),l(n)}}}}function S(){const[e,t]=(0,a.useState)(""),n=v(),o=r()((e=>{n(e),t(e)}),C.ET);return{value:e,setValue:o,onChange:n.add,props:{onFilterChange:o}}}function _(){const[e,t]=(0,a.useState)(1),[n,o]=(0,a.useState)(1),[l,s]=(0,a.useState)(20),i=()=>t(1),c=v();return{page:e,pageDebounced:n,offset:(e-1)*l,pageSize:l,setPage:t,onChange:c.add,reset:i,props:{page:e,perPage:l,onSetPage(e,n){t(n),"INPUT"===e.target.tagName?r()(o,C.ET)(n):o(n),c(n,l)},onPerPageSelect(t,n){c(e,n),i(),s(n)}}}}function T(e,t){return!!Object.prototype.hasOwnProperty.call(e,t)&&e[t]}function I(e=(e=>e.id)){const[t,n]=(0,a.useState)({});let o=!1;return{getSelectedIds(e){const n=m()(c()(t,y()));return e?b()(n,e):n},register:n=>{o=n,o.forEach((n=>n.selected=!0===t[e(n)]))},reset:()=>n({}),props:{onSelect:(a,r,l)=>{if(!o)throw new Error("register() not called on useSelector()");switch(a){case"none":n({});break;case"page":n(function(e,t,n,a){const o=p()(s()(e,(e=>a(e))),a);return{...t,...E()(o,(()=>n))}}(o,t,r,e));break;default:n(function(e,t,n){return x(n),{...e,[n]:t}}(t,r,e(o[l])))}}},tbodyProps:{onRowClick(t,a){if(["A","BUTTON","INPUT"].includes(t.target.tagName))return;const o=e(a);x(o),n((e=>({...e,[o]:!T(e,o)})))}}}}},30187:()=>{}}]);
//# sourceMappingURL=../sourcemaps/8607.8573ae8fb06bbd091fd6d773de71c056.js.map