(self.webpackChunkinsights_remediations_frontend=self.webpackChunkinsights_remediations_frontend||[]).push([[935],{66227:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var n=a(92950),l=a.n(n),c=a(45697),r=a.n(c),m=a(334),u=a(45237),s=a(86350),i=a(48716),o=a(39173),d=a(62410),E=a(23212),b=a(6877),g=a(98312),y=a(76200),k=a(44332),p=a(50289),_=a(77431),f=a(56455),R=a(40742);const S=function(){return l().createElement(l().Fragment,null,l().createElement(i.Z,null,l().createElement(E.Breadcrumb,null,l().createElement(E.BreadcrumbItem,null,l().createElement(f.Z,{size:"lg"})),l().createElement(E.BreadcrumbItem,{isActive:!0},l().createElement(f.Z,{size:"lg"}))),l().createElement(E.Stack,{gutter:!0},l().createElement(E.StackItem,null,l().createElement(o.Z,{title:l().createElement(f.Z,{size:"lg"})})),l().createElement(E.StackItem,null,l().createElement(E.Split,{hasGutter:!0},l().createElement(E.SplitItem,null,l().createElement(y.Z,{className:"ins-c-playbookSummary__settings",title:"Run on"},l().createElement(f.Z,{size:"lg"}))),l().createElement(E.SplitItem,null,l().createElement(y.Z,{className:"ins-c-playbookSummary__settings",title:"Run by"},l().createElement(f.Z,{size:"lg"}))),l().createElement(E.SplitItem,null,l().createElement(y.Z,{className:"ins-c-playbookSummary__settings",title:"Run status"},l().createElement(f.Z,{size:"lg"}))))))),l().createElement(s.Z,null,l().createElement(E.Stack,{hasGutter:!0},l().createElement(E.Card,null,l().createElement(E.CardHeader,{className:"ins-m-card__header-bold"},l().createElement(E.Title,{headingLevel:"h4",size:"xl"},"Results by connection")),l().createElement(E.CardBody,null,l().createElement(R.Z,null))))))};var Z=a(83966),I=function(e){var t=e.match.params,a=t.id,c=t.run_id,r=e.remediation,u=e.playbookRun,p=e.getPlaybookRun,f=e.getPlaybookRuns,R=e.loadRemediation;(0,n.useEffect)((function(){R(a),f(a),p(a,c)}),[]);var I=(0,n.useContext)(Z.B);return r&&u&&u.data?l().createElement(l().Fragment,null,l().createElement(i.Z,null,l().createElement(E.Breadcrumb,null,l().createElement(E.BreadcrumbItem,null,l().createElement(m.Link,{to:"/"}," Remediations ")),l().createElement(E.BreadcrumbItem,null,l().createElement(m.Link,{to:"/".concat(r.id)}," ",r.name," ")),l().createElement(E.BreadcrumbItem,{isActive:!0},l().createElement(d.Z,{type:"exact",date:u.data.created_at}))),l().createElement(E.Stack,{hasGutter:!0},l().createElement(E.StackItem,null,l().createElement(o.Z,{title:"running"===(0,_.fb)(u.data.status)?l().createElement(l().Fragment,null,l().createElement(g.InProgressIcon,{className:"ins-c-remediations-running","aria-label":"connection status"}),l().createElement(d.Z,{type:"exact",date:u.data.created_at}),"true"===localStorage.getItem("remediations:debug")&&l().createElement(k.L,{remediationName:r.name,remediationId:r.id,playbookId:u.data.id})):l().createElement(d.Z,{type:"exact",date:u.data.created_at})})),l().createElement(E.StackItem,null,l().createElement(E.Split,{hasGutter:!0},l().createElement(E.SplitItem,null,l().createElement(y.Z,{className:"ins-c-playbookSummary__settings",title:"Run on"},l().createElement(d.Z,{type:"exact",date:u.data.created_at}))),l().createElement(E.SplitItem,null,l().createElement(y.Z,{className:"ins-c-playbookSummary__settings",title:"Run by"},"".concat(u.data.created_by.first_name," ").concat(u.data.created_by.last_name))),l().createElement(E.SplitItem,null,l().createElement(y.Z,{className:"ins-c-playbookSummary__settings",title:"Run status"},l().createElement(_.kf,{executorStatus:u.data.status,counts:u.data.executors.reduce((function(e,t){return{pending:e.pending+t.counts.pending,running:e.running+t.counts.running,success:e.success+t.counts.success,failure:e.failure+t.counts.failure,canceled:e.canceled+t.counts.canceled,acked:e.acked+t.counts.acked}}),{pending:0,running:0,success:0,failure:0,canceled:0}),permission:I}))))))),l().createElement(s.Z,null,l().createElement(E.Stack,{hasGutter:!0},l().createElement(E.Card,null,l().createElement(E.CardHeader,{className:"ins-m-card__header-bold"},l().createElement(E.Title,{headingLevel:"h4",size:"xl"},"Results by connection")),l().createElement(E.CardBody,null,l().createElement(b.Table,{"aria-label":"Collapsible table",rows:u.data.executors.map((function(e){return{cells:[{title:l().createElement(m.Link,{to:"/".concat(r.id,"/").concat(u.data.id,"/").concat(e.executor_id)},e.executor_name)},e.system_count,{title:l().createElement(_.kf,{executorStatus:(0,_.fb)(e.status),counts:e.counts,permission:I})}]}})),cells:[{title:"Connection"},{title:"Systems"},{title:"Playbook run status"}]},l().createElement(b.TableHeader,null),l().createElement(b.TableBody,null))))))):l().createElement(S,null)};I.propTypes={remediation:r().object,issue:r().object,playbookRun:r().object,getPlaybookRun:r().func,getPlaybookRuns:r().func,loadRemediation:r().func,match:r().object},I.defaultProps={};const h=(0,u.connect)((function(e){return{playbookRun:e.playbookRun,remediation:e.selectedRemediation.remediation}}),(function(e){return{getPlaybookRun:function(t,a){return e((0,p.getPlaybookRun)(t,a))},getPlaybookRuns:function(t){return e((0,p.getPlaybookRuns)(t))},loadRemediation:function(t){return e((0,p.loadRemediation)(t))}}}))(I)}}]);
//# sourceMappingURL=../sourcemaps/ActivityDetails.b6ca487e89fcd4223451.js.map