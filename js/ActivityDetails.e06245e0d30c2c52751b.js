(self.webpackChunkremediations=self.webpackChunkremediations||[]).push([[7935],{58027:(e,t,n)=>{"use strict";n.d(t,{R:()=>g});var r=n(65353),a=n(10756),o=n(18446),s=n.n(o),l=n(26875),c=n(28368),i=n.n(c),u=n(3927),m=n(81291),d=n(89409);class p extends a.Component{shouldComponentUpdate(e){const{columns:t,rowData:n}=this.props,{renderers:r}=e;return r&&r.row&&r.row.shouldComponentUpdate?"function"!=typeof r.row.shouldComponentUpdate||r.row.shouldComponentUpdate.call(this,e,{},{}):(a=t,o=e.columns,!(i()(a,o,((e,t)=>{if("function"==typeof e&&"function"==typeof t)return e===t}))&&s()(n,e.rowData)));var a,o}render(){const{columns:e,renderers:t,onRow:n,rowKey:r,rowIndex:o,rowData:s}=this.props;return a.createElement(t.row,n(s,{rowIndex:o,rowKey:r}),e.map(((e,n)=>{const{property:l,cell:c,props:i}=e,p=l||c&&c.property,{transforms:y=[],formatters:f=[]}=c||{},b={columnIndex:n,property:p,column:e,rowData:s,rowIndex:o,rowKey:r},h=(0,m.f)(y,s[p],b);h||console.warn("Table.Body - Failed to receive a transformed result");let w=[];return s[p]&&(w=s[p].formatters),a.createElement(t.cell,Object.assign({key:`col-${n}-row-${o}`},(0,d.d)(i,c&&c.props,h)),!s.fullWidth&&h.children||(0,u.t)([...f,...w])(s[`_${p}`]||s[p],b))})))}}p.displayName="BodyRow",p.defaultProps={onRow:(...e)=>({})};class y extends a.Component{constructor(){super(...arguments),this.omitOnRow=e=>{const{onRow:t}=e;return(0,r.__rest)(e,["onRow"])}}shouldComponentUpdate(e){const{renderers:t}=e;return t&&t.body&&t.body.wrapper&&t.body.wrapper.shouldComponentUpdate?"function"!=typeof t.body.wrapper.shouldComponentUpdate||t.body.wrapper.shouldComponentUpdate.call(this,e,{},{}):!s()(this.omitOnRow(this.props),this.omitOnRow(e))}render(){const e=this.props,{onRow:t,rows:n,rowKey:o,columns:s,renderers:l}=e,c=(0,r.__rest)(e,["onRow","rows","rowKey","columns","renderers"]),i=n.map(((e,n)=>{const r=function({rowData:e,rowIndex:t,rowKey:n}){return"function"==typeof n?`${n({rowData:e,rowIndex:t})}-row`:0===e[n]?`${e[n]}-row`:`${e[n]||t}-row`}({rowData:e,rowIndex:n,rowKey:o});return a.createElement(p,{key:r,renderers:l.body,onRow:t,rowKey:r,rowIndex:n,rowData:e,columns:s})}));return a.createElement(l.body.wrapper,c,i)}}y.defaultProps={onRow:(...e)=>({})};const f=e=>a.createElement(l.a.Consumer,null,(({columns:t,renderers:n})=>a.createElement(y,Object.assign({columns:t,renderers:n},e))));var b=n(8792),h=n(28645);class w extends a.Component{constructor(){super(...arguments),this.onRow=(e,t)=>{const{onRowClick:n,onRow:r}=this.props,a=Object.assign(Object.assign({},t),r?r(e,t):{});return{row:e,rowProps:a,onClick:r=>{const a=r.target.tagName;n(r,e,t,{isInput:"INPUT"===a,isButton:"BUTTON"===a})},onKeyDown:r=>{const a=r.target,o=a.tagName,s={isInput:"INPUT"===o,isButton:"BUTTON"===o};"Enter"!==r.key&&" "!==r.key||(n(r,e,t,s)," "===r.key&&a.closest(".pf-m-hoverable")&&r.preventDefault())}}},this.mapCells=(e,t,n)=>{const{firstUserColumnIndex:r}=e[0].extraParams,a=t&&t.fullWidth;let o=a?0:r;return Object.assign({},t&&(t.cells||t).reduce(((t,s,l)=>{const c=s===Object(s),i=s&&"function"==typeof s.title;let u=[];c&&s.formatters?u=s.formatters:a&&l<r&&(u=e[r].cell.formatters);let m=s;c&&i?m=s.title(s.props.value,n,l,s.props):c&&(m=s.title);const d={[e[l+o].property]:{title:m,formatters:u,props:Object.assign({isVisible:!0},c?s.props:null)}};return c&&s.props&&s.props.colSpan&&(o+=s.props.colSpan-1),Object.assign(Object.assign({},t),d)}),{secretTableRowKeyId:void 0!==t.id?t.id:n}))}}render(){const e=this.props,{className:t,headerData:n,rows:o,rowKey:s,children:l,onRowClick:c}=e,i=(0,r.__rest)(e,["className","headerData","rows","rowKey","children","onRowClick"]);let u;return n.length>0&&(u=o.map(((e,t)=>Object.assign(Object.assign(Object.assign({},e),this.mapCells(n,e,t)),{isExpanded:(0,b.P6)(e,o),isHeightAuto:e.heightAuto||!1,isFirst:0===t,isLast:t===o.length-1,isFirstVisible:!1,isLastVisible:!1}))),(e=>{const t=e.filter((e=>!e.parent||e.isExpanded));t.length>0&&(t[0].isFirstVisible=!0,t[t.length-1].isLastVisible=!0)})(u)),a.createElement(a.Fragment,null,u&&a.createElement(f,Object.assign({},i,{mappedRows:u,rows:u,onRow:this.onRow,rowKey:s,className:t})))}}const g=e=>{var{className:t="",children:n=null,rowKey:o="secretTableRowKeyId",onRow:s=((...e)=>({})),onRowClick:l=((e,t,n,r)=>{})}=e,c=(0,r.__rest)(e,["className","children","rowKey","onRow","onRowClick"]);return a.createElement(h.X.Consumer,null,(e=>{var{headerData:i=[],rows:u=[]}=e,m=(0,r.__rest)(e,["headerData","rows"]);return a.createElement(w,Object.assign({headerData:i,rows:u,onRow:s,className:t,rowKey:o,onRowClick:l},c,m),n)}))}},67230:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.buildInsightsPath=void 0,t.buildInsightsPath=function(e,t,r,a){var o=("object"==typeof r?r.pathname:r)||"",s=/^\//.test(o),l=a?"/preview":"",c=t||e.getApp(),i=s?[l,e.getBundle(),c,o.replace(/^\//,"")].join("/"):o;return"object"==typeof r?n(n({},r),{pathname:i}):i}},62410:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(85893),a=n(10756),o=n.n(a),s=n(31190),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l.apply(this,arguments)},c=36e5,i=24*c,u=30*i,m=365*i,d=function(e,t){return"".concat(e," ").concat(e>1?"".concat(t,"s"):t," ago")},p=[{rightBound:1/0,description:function(e){return d(Math.round(e/m),"year")}},{rightBound:m,description:function(e){return d(Math.round(e/u),"month")}},{rightBound:u,description:function(e){return d(Math.round(e/i),"day")}},{rightBound:i,description:function(e){return d(Math.round(e/c),"hour")}},{rightBound:c,description:function(e){return d(Math.round(e/6e4),"minute")}},{rightBound:6e4,description:function(){return"Just now"}}],y=function(e){return e.toUTCString().split(",")[1].slice(0,-7).trim()},f=function(e){return{exact:function(e){return y(e)+" UTC"},onlyDate:function(e){return y(e).slice(0,-6)},relative:function(e){return p.reduce((function(t,n){return n.rightBound>Date.now()-e.getTime()?n.description(Date.now()-e.getTime()):t}),y(e))},invalid:function(){return"Invalid date"}}[e]},b=function(e,t,n){return{exact:function(t){return f(e)(t)},onlyDate:function(t){return f(e)(t)},relative:function(a){return function(e,t,n,a){return void 0===a&&(a=""),(0,r.jsx)(s.Tooltip,l({},n,{content:(0,r.jsxs)("div",{children:[a,e]}),children:t}))}(f("exact")(a),(0,r.jsx)("span",{children:f(e)(a)}),t,n)},invalid:function(){return"Invalid date"}}[e]};const h=function(e){var t=e.date,n=e.type,a=void 0===n?"relative":n,s=e.extraTitle,l=e.tooltipProps,c=t instanceof Date?t:new Date(t),i=null==t||"Invalid Date"===c.toString()?"invalid":a;return(0,r.jsx)(o().Fragment,{children:b(i,l,s)(c)})}},82814:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(85893),a=n(93967),o=n.n(a),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s.apply(this,arguments)};const l=function(e){var t,n=e.centered,a=e.className,l=e.children,c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["centered","className","children"]),i=o()("ins-c-table__empty",((t={})["is-centered"]=n,t),a);return(0,r.jsxs)("div",s({className:i},c,{children:[" ",l]}))}},92397:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(85893),a=n(88208),o=n(55140),s=n(67230),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l.apply(this,arguments)};const c=function(e){var t=e.to,n=e.app,c=e.preview,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["to","app","preview"]),u=(0,o.Z)(),m=(0,s.buildInsightsPath)(u,n,t,c);return(0,r.jsx)(a.Link,l({to:m},i,{children:i.children}))}},15433:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(85893),a=n(10756),o=n(10747),s=n(6427),l=n(93967),c=n.n(l),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)};function u(e){return"".concat(e,e>1||e<1?" Results":" Result")}const m=function(e){var t,n=e.isFooter,l=void 0!==n&&n,m=e.results,d=e.className,p=e.selected,y=e.children,f=e.ouiaId,b=e.ouiaSafe,h=void 0===b||b,w=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["isFooter","results","className","selected","children","ouiaId","ouiaSafe"]),g=c()("ins-c-table__toolbar",((t={})["ins-m-footer"]=l,t),d),E="RHI/TableToolbar",v=(0,s.useOUIAId)(E,f,h);return(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)(o.Toolbar,i({className:g,"data-ouia-component-type":E,"data-ouia-component-id":v,"data-ouia-safe":h},w,{children:y})),(m&&m>=0||p&&p>=0)&&(0,r.jsxs)("div",{className:"ins-c-table__toolbar-results",children:[m&&m>=0&&(0,r.jsxs)("span",{className:"ins-c-table__toolbar-results-count",children:[" ",u(m)," "]}),p&&p>=0&&(0,r.jsxs)("span",{className:"ins-c-table__toolbar-results-selected",children:[" ",p," Selected "]})]})]})}},28368:(e,t,n)=>{var r=n(90939);e.exports=function(e,t,n){var a=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===a?r(e,t,void 0,n):!!a}},19845:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});var r=n(10756),a=n.n(r),o=n(45697),s=n.n(o),l=n(88208),c=n(92397),i=n(28216),u=n(99087),m=n(63456),d=n(39173),p=n(62410),y=n(76491),f=n(40667),b=n(53774),h=n(29684),w=n(13193),g=n(43416),E=n(49004),v=n(58027),_=n(37248),O=n.n(_),x=n(76400),R=n(77278),j=n(34413),k=n(15848),I=n(32819),Z=n(2648);const P=()=>a().createElement(a().Fragment,null,a().createElement(m.Z,null,a().createElement(b.Breadcrumb,null,a().createElement(b.BreadcrumbItem,null,a().createElement(I.Z,{size:"lg"})),a().createElement(b.BreadcrumbItem,{isActive:!0},a().createElement(I.Z,{size:"lg"}))),a().createElement(f.Stack,{gutter:!0},a().createElement(f.StackItem,null,a().createElement(d.Z,{title:a().createElement(I.Z,{size:"lg"})})),a().createElement(f.StackItem,null,a().createElement(h.Split,{hasGutter:!0},a().createElement(h.SplitItem,null,a().createElement(x.Z,{className:"rem-c-playbookSummary__settings",title:"Run on"},a().createElement(I.Z,{size:"lg"}))),a().createElement(h.SplitItem,null,a().createElement(x.Z,{className:"rem-c-playbookSummary__settings",title:"Run by"},a().createElement(I.Z,{size:"lg"}))),a().createElement(h.SplitItem,null,a().createElement(x.Z,{className:"rem-c-playbookSummary__settings",title:"Run status"},a().createElement(I.Z,{size:"lg"}))))))),a().createElement(u.ZP,null,a().createElement(f.Stack,{hasGutter:!0},a().createElement(y.Card,null,a().createElement(y.CardHeader,{className:"rem-m-card__header-bold"},a().createElement(w.Title,{headingLevel:"h4",size:"xl"},"Results by connection")),a().createElement(y.CardBody,null,a().createElement(Z.Z,null))))));var S=n(95726);const N=({remediation:e,playbookRun:t,getPlaybookRun:n,getPlaybookRuns:o,loadRemediation:s})=>{const{id:i,run_id:_}=(0,l.useParams)(),j=(0,r.useContext)(S.B);return(0,r.useEffect)((()=>{s(i),o(i),n(i,_)}),[]),e&&t&&t.data?a().createElement(a().Fragment,null,a().createElement(m.Z,null,a().createElement(b.Breadcrumb,null,a().createElement(b.BreadcrumbItem,null,a().createElement(c.Z,{to:"/"}," Remediations ")),a().createElement(b.BreadcrumbItem,null,a().createElement(c.Z,{to:`/${e.id}`}," ",e.name," ")),a().createElement(b.BreadcrumbItem,{isActive:!0},a().createElement(p.Z,{type:"exact",date:t.data.created_at}))),a().createElement(f.Stack,{hasGutter:!0},a().createElement(f.StackItem,null,a().createElement(d.Z,{title:"running"===(0,k.fb)(t.data.status)?a().createElement(a().Fragment,null,a().createElement(O(),{className:"rem-c-running pf-u-mr-sm","aria-label":"connection status"}),a().createElement(p.Z,{type:"exact",date:t.data.created_at}),"true"===localStorage.getItem("remediations:debug")&&a().createElement(R.L,{remediationName:e.name,remediationId:e.id,playbookId:t.data.id})):a().createElement(p.Z,{type:"exact",date:t.data.created_at})})),a().createElement(f.StackItem,null,a().createElement(h.Split,{hasGutter:!0},a().createElement(h.SplitItem,null,a().createElement(x.Z,{className:"rem-c-playbookSummary__settings",title:"Run on"},a().createElement(p.Z,{type:"exact",date:t.data.created_at}))),a().createElement(h.SplitItem,null,a().createElement(x.Z,{className:"rem-c-playbookSummary__settings",title:"Run by"},`${t.data.created_by.first_name} ${t.data.created_by.last_name}`)),a().createElement(h.SplitItem,null,a().createElement(x.Z,{className:"rem-c-playbookSummary__settings",title:"Run status"},a().createElement(k.kf,{executorStatus:t.data.status,counts:t.data.executors.reduce(((e,t)=>({pending:e.pending+t.counts.pending,running:e.running+t.counts.running,success:e.success+t.counts.success,failure:e.failure+t.counts.failure,canceled:e.canceled+t.counts.canceled,acked:e.acked+t.counts.acked})),{pending:0,running:0,success:0,failure:0,canceled:0}),permission:j}))))))),a().createElement(u.ZP,null,a().createElement(f.Stack,{hasGutter:!0},a().createElement(y.Card,null,a().createElement(y.CardHeader,{className:"rem-m-card__header-bold"},a().createElement(w.Title,{headingLevel:"h4",size:"xl"},"Results by connection")),a().createElement(y.CardBody,null,a().createElement(g.i,{"aria-label":"Collapsible table",rows:t.data.executors.map((n=>({cells:[{title:a().createElement(c.Z,{to:`/${e.id}/${t.data.id}/${n.executor_id}`},n.executor_name)},n.system_count,{title:a().createElement(k.kf,{executorStatus:(0,k.fb)(n.status),counts:n.counts,permission:j})}]}))),cells:[{title:"Connection"},{title:"Systems"},{title:"Playbook run status"}]},a().createElement(E.x,null),a().createElement(v.R,null))))))):a().createElement(P,null)};N.propTypes={remediation:s().object,issue:s().object,playbookRun:s().object,getPlaybookRun:s().func,getPlaybookRuns:s().func,loadRemediation:s().func},N.defaultProps={};const C=(0,i.connect)((({playbookRun:e,selectedRemediation:t})=>({playbookRun:e,remediation:t.remediation})),(e=>({getPlaybookRun:(t,n)=>e((0,j.zy)(t,n)),getPlaybookRuns:t=>e((0,j.Is)(t)),loadRemediation:t=>e((0,j.d5)(t))})))(N)},76400:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(10756),a=n.n(r),o=n(45697),s=n.n(o),l=n(93967),c=n.n(l);const i=({title:e,className:t,children:n,isBold:r,hasGutter:o,needsPointer:s,...l})=>{const i=c()("rem-c-description-list__description",{"rem-c-description-list__description--bold":r},{"rem-c-description-list__description--withGutter":o},{"rem-c-description-list__description--needsPointer":s}),u=c()(t,"rem-c-description-list");return a().createElement("dl",{className:u,...l},a().createElement("dt",{className:"rem-c-description-list__title"},a().createElement("b",null,e)),a().createElement("dd",{className:i}," ",n," "))},u=i;i.propTypes={title:s().string,children:s().any,isBold:s().bool,className:s().string,hasGutter:s().bool,needsPointer:s().bool}},2648:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(10756),a=n.n(r),o=n(75863),s=n(43416),l=n(49004),c=n(32819),i=n(15433),u=n(87694),m=n(82814);class d extends a().Component{constructor(e){super(e),this.state={columns:[{title:a().createElement(c.Z,{size:"xs"})},{title:a().createElement(c.Z,{size:"sm"})},{title:a().createElement(c.Z,{size:"sm"})},{title:a().createElement(c.Z,{size:"md"})},{title:a().createElement(c.Z,{size:"sm"})}],rows:[[{title:a().createElement(c.Z,{size:"md"})},{title:a().createElement(c.Z,{size:"xs"})},{title:a().createElement(c.Z,{size:"xs"})},{title:a().createElement(c.Z,{size:"md"})},{title:a().createElement(c.Z,{size:"md"})}]]}}render(){const{columns:e,rows:t}=this.state;return a().createElement(r.Fragment,null,a().createElement(s.i,{cells:e,rows:t,"aria-label":"Loading",variant:o.B.compact,...this.props},a().createElement(l.x,null)),a().createElement(m.Z,{centered:!0},a().createElement(u.Z,null)),a().createElement(i.Z,{isFooter:!0,className:"rem-c-skeleton-table__footer rem-m-align-right"},a().createElement(c.Z,{size:"sm"})))}}const p=d}}]);
//# sourceMappingURL=../sourcemaps/ActivityDetails.50a80a19c4bc031b5891f713ee61f67a.js.map