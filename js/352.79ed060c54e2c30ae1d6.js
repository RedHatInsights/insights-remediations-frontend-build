(self.webpackChunkinsights_remediations_frontend=self.webpackChunkinsights_remediations_frontend||[]).push([[352],{54352:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>O});var r=n(96156),i=n(22122),o=n(28481),s=n(92950),a=n.n(s),c=n(45697),u=n.n(c),l=n(93214),d=n(86507),f=n(95995),p=n(52127);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){var t=e.isDisabled,n=e.children,r=e.dataProvider,c=e.onRemediationCreated,u=e.buttonProps,b=(0,s.useState)(!1),h=(0,o.Z)(b,2),O=h[0],P=h[1],y=(0,s.useState)(),g=(0,o.Z)(y,2),j=g[0],v=g[1];return(0,s.useEffect)((function(){insights.chrome.getUserPermissions("remediations").then((function(e){P(e.some((function(e){return e.permission===d.FH})))}))}),[]),O?a().createElement(a().Fragment,null,a().createElement(f.Button,(0,i.Z)({isDisabled:t,onClick:function(){Promise.resolve(r()).then((function(e){(0,l.Z)(e),v(e)}))}},u),n),j&&a().createElement(p.default,{setOpen:function(e){return v((function(t){return!1===e?null:t}))},data:m({onRemediationCreated:c},j||{})})):a().createElement(f.Tooltip,{content:"You do not have correct permissions to remediate this entity."},a().createElement("span",null,a().createElement(f.Button,(0,i.Z)({isDisabled:!0},u),n)))};h.propTypes={isDisabled:u().bool,dataProvider:u().func.isRequired,onRemediationCreated:u().func,children:u().node,buttonProps:u().shape((0,r.Z)({},u().string,u().any))},h.defaultProps={isDisabled:!1,onRemediationCreated:function(e){return e},children:"Remediate with Ansible"};const O=h}}]);
//# sourceMappingURL=../sourcemaps/352.7b9fac3e8743fffb7df7.js.map