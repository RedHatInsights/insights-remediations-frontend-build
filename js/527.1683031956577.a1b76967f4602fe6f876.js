"use strict";(self.webpackChunkinsights_remediations_frontend=self.webpackChunkinsights_remediations_frontend||[]).push([[527,952],{55140:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(54025),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},s.apply(this,arguments)};const o=function(e){var t,n=(0,r.useScalprum)(),o=(null===(t=n.api)||void 0===t?void 0:t.chrome)||{};return o=s(s({},o),{initialized:n.initialized}),"function"==typeof e?e(o):o}},54352:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var r=n(4942),s=n(87462),o=n(29439),i=n(92950),a=n.n(i),c=n(45697),u=n.n(c),l=n(55140),p=n(93214),d=n(86507),f=n(14938),m=n(52127),y=n(51662);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e){var t=e.isDisabled,n=e.children,r=e.dataProvider,c=e.onRemediationCreated,u=e.buttonProps,b=(0,i.useState)(!1),O=(0,o.Z)(b,2),v=O[0],w=O[1],g=(0,i.useState)(),j=(0,o.Z)(g,2),P=j[0],E=j[1],Z=(0,i.useState)(!1),k=(0,o.Z)(Z,2),C=k[0],D=k[1],A=(0,l.Z)();return(0,i.useEffect)((function(){A.getUserPermissions("remediations").then((function(e){w(e.some((function(e){var t=e.permission;return(0,d.P9)(t,d.FH)})))}))}),[]),v?a().createElement(a().Fragment,null,a().createElement(f.Button,(0,s.Z)({isDisabled:t,onClick:function(){Promise.resolve(r()).then((function(e){e?((0,p.Z)(e),E(e)):D(!0)}))}},u),n),a().createElement(y.default,{isOpen:C,setOpen:D}),P&&a().createElement(m.default,{setOpen:function(e){return E((function(t){return!1===e?null:t}))},data:h({onRemediationCreated:c},P||{})})):a().createElement(f.Tooltip,{content:"You do not have correct permissions to remediate this entity."},a().createElement("span",null,a().createElement(f.Button,(0,s.Z)({isDisabled:!0},u),n)))};O.propTypes={isDisabled:u().bool,dataProvider:u().func.isRequired,onRemediationCreated:u().func,children:u().node,buttonProps:u().shape((0,r.Z)({},u().string,u().any))},O.defaultProps={isDisabled:!1,onRemediationCreated:function(e){return e},children:"Remediate with Ansible"};const v=O},51662:(e,t,n)=>{n.r(t),n.d(t,{NoDataModal:()=>c,default:()=>u});var r=n(92950),s=n.n(r),o=n(45697),i=n.n(o),a=n(14938),c=function(e){var t=e.isOpen,n=e.setOpen;return s().createElement(a.Modal,{variant:a.ModalVariant.small,title:"Remediate with Ansible",isOpen:t,onClose:function(){return n(!1)},actions:[s().createElement(a.Button,{key:"confirm",variant:"primary",onClick:function(){return n(!1)}},"Back to Insights")]},"None of the selected issues can be remediated with Ansible.",s().createElement("br",null),s().createElement("br",null),"To remediate these issues, review the manual remediation steps associated with each.")};c.propTypes={isOpen:i().bool,setOpen:i().func};const u=c},52127:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r.Z});var r=n(87938)},93214:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(71002);function s(e,t){if(!e)throw new TypeError(t)}function o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Object.keys(e).forEach((function(e){return s(n.includes(e),"Unexpected key: ".concat(e," Expected one of: ").concat(n))}))}function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach((function(t){return s(Object.prototype.hasOwnProperty.call(e,t),"Required key missing: ".concat(t))}))}function a(e){s(Array.isArray(e),"Systems must be an array"),s(e.length,"Systems array must not be empty"),e.forEach((function(e){return s("string"==typeof e,"System must be of type string")}))}function c(e){s("object"===(0,r.Z)(e)&&null!==e),o(e,"issues","systems","onRemediationCreated"),i(e,"issues"),s(Array.isArray(e.issues),"Issues must be an array"),s(e.issues.length,"Issues array must not be empty"),e.issues.forEach((function(t){s("object"===(0,r.Z)(t)&&null!==t,"Issue must be an object"),o(t,"id","description","systems"),i(t,"id","description"),Object.prototype.hasOwnProperty.call(t,"systems")&&a(t.systems),s(Object.prototype.hasOwnProperty.call(t,"systems")||Object.prototype.hasOwnProperty.call(e,"systems"),"No systems defined for ".concat(t.id))})),Object.prototype.hasOwnProperty.call(e,"systems")&&a(e.systems)}}}]);
//# sourceMappingURL=../sourcemaps/527.b7d3c86de095925747a582ef528184bd.js.map