(self.webpackChunkinsights_remediations_frontend=self.webpackChunkinsights_remediations_frontend||[]).push([[352],{54352:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(96156),i=n(28481),o=n(92950),s=n.n(o),c=n(45697),a=n.n(c),u=n(93214),l=n(86507),d=n(97066),f=n(52127);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){var t=e.isDisabled,n=e.children,r=e.dataProvider,c=e.onRemediationCreated,a=(0,o.useState)(!1),p=(0,i.Z)(a,2),b=p[0],h=p[1],O=(0,o.useState)(),y=(0,i.Z)(O,2),P=y[0],g=y[1];return(0,o.useEffect)((function(){insights.chrome.getUserPermissions("remediations").then((function(e){h(e.some((function(e){return e.permission===l.FH})))}))}),[]),b?s().createElement(s().Fragment,null,s().createElement(d.Button,{isDisabled:t,onClick:function(){Promise.resolve(r()).then((function(e){(0,u.Z)(e),g(e)}))}},n),P&&s().createElement(f.default,{setOpen:function(e){return g((function(t){return!1===e?null:t}))},data:m({onRemediationCreated:c},P||{})})):s().createElement(d.Tooltip,{content:"You do not have correct permissions to remediate this entity."},s().createElement("span",null,s().createElement(d.Button,{isDisabled:!0},n)))};b.propTypes={isDisabled:a().bool,dataProvider:a().func.isRequired,onRemediationCreated:a().func,children:a().node},b.defaultProps={isDisabled:!1,onRemediationCreated:function(e){return e},children:"Remediate with Ansible"};const h=b}}]);
//# sourceMappingURL=../sourcemaps/352.bd18fdf063d8f7953b48.js.map