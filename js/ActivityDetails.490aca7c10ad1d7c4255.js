(self.webpackChunkremediations=self.webpackChunkremediations||[]).push([[7935],{67230:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.buildInsightsPath=void 0,t.buildInsightsPath=function(e,t,r,a){var l=("object"==typeof r?r.pathname:r)||"",c=/^\//.test(l),i=a?"/preview":"",o=t||e.getApp(),s=c?[i,e.getBundle(),o,l.replace(/^\//,"")].join("/"):l;return"object"==typeof r?n(n({},r),{pathname:s}):s}},62410:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(85893),a=n(10756),l=n.n(a),c=n(31190),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)},o=36e5,s=24*o,u=30*s,m=365*s,d=function(e,t){return"".concat(e," ").concat(e>1?"".concat(t,"s"):t," ago")},p=[{rightBound:1/0,description:function(e){return d(Math.round(e/m),"year")}},{rightBound:m,description:function(e){return d(Math.round(e/u),"month")}},{rightBound:u,description:function(e){return d(Math.round(e/s),"day")}},{rightBound:s,description:function(e){return d(Math.round(e/o),"hour")}},{rightBound:o,description:function(e){return d(Math.round(e/6e4),"minute")}},{rightBound:6e4,description:function(){return"Just now"}}],E=function(e){return e.toUTCString().split(",")[1].slice(0,-7).trim()},y=function(e){return{exact:function(e){return E(e)+" UTC"},onlyDate:function(e){return E(e).slice(0,-6)},relative:function(e){return p.reduce((function(t,n){return n.rightBound>Date.now()-e.getTime()?n.description(Date.now()-e.getTime()):t}),E(e))},invalid:function(){return"Invalid date"}}[e]},b=function(e,t,n){return{exact:function(t){return y(e)(t)},onlyDate:function(t){return y(e)(t)},relative:function(a){return function(e,t,n,a){return void 0===a&&(a=""),(0,r.jsx)(c.Tooltip,i({},n,{content:(0,r.jsxs)("div",{children:[a,e]}),children:t}))}(y("exact")(a),(0,r.jsx)("span",{children:y(e)(a)}),t,n)},invalid:function(){return"Invalid date"}}[e]};const f=function(e){var t=e.date,n=e.type,a=void 0===n?"relative":n,c=e.extraTitle,i=e.tooltipProps,o=t instanceof Date?t:new Date(t),s=null==t||"Invalid Date"===o.toString()?"invalid":a;return(0,r.jsx)(l().Fragment,{children:b(s,i,c)(o)})}},92397:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(85893),a=n(88208),l=n(55140),c=n(67230),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)};const o=function(e){var t=e.to,n=e.app,o=e.preview,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["to","app","preview"]),u=(0,l.Z)(),m=(0,c.buildInsightsPath)(u,n,t,o);return(0,r.jsx)(a.Link,i({to:m},s,{children:s.children}))}},19845:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>T});var r=n(10756),a=n.n(r),l=n(45697),c=n.n(l),i=n(88208),o=n(92397),s=n(28216),u=n(99087),m=n(63456),d=n(39173),p=n(62410),E=n(76491),y=n(40667),b=n(53774),f=n(29684),g=n(13193),h=n(43416),_=n(49004),v=n(58027),k=n(37248),S=n.n(k),Z=n(76400),I=n(77278),x=n(34413),P=n(15848),R=n(32819),j=n(98927),B=n(27466);const O=({columns:e})=>a().createElement(a().Fragment,null,a().createElement(m.Z,null,a().createElement(b.Breadcrumb,null,a().createElement(b.BreadcrumbItem,null,a().createElement(R.Z,{size:"lg"})),a().createElement(b.BreadcrumbItem,{isActive:!0},a().createElement(R.Z,{size:"lg"}))),a().createElement(y.Stack,{gutter:!0},a().createElement(y.StackItem,null,a().createElement(d.Z,{title:a().createElement(R.Z,{size:"lg"})})),a().createElement(y.StackItem,null,a().createElement(f.Split,{hasGutter:!0},a().createElement(f.SplitItem,null,a().createElement(Z.Z,{className:"rem-c-playbookSummary__settings",title:"Run on"},a().createElement(R.Z,{size:"lg"}))),a().createElement(f.SplitItem,null,a().createElement(Z.Z,{className:"rem-c-playbookSummary__settings",title:"Run by"},a().createElement(R.Z,{size:"lg"}))),a().createElement(f.SplitItem,null,a().createElement(Z.Z,{className:"rem-c-playbookSummary__settings",title:"Run status"},a().createElement(R.Z,{size:"lg"}))))))),a().createElement(u.ZP,null,a().createElement(y.Stack,{hasGutter:!0},a().createElement(E.Card,null,a().createElement(E.CardHeader,{className:"rem-m-card__header-bold"},a().createElement(g.Title,{headingLevel:"h4",size:"xl"},"Results by connection")),a().createElement(E.CardBody,null,a().createElement(B.cY,{columns:e.map((e=>a().createElement(j.Th,{key:e.title},e.title))),rows:10}))))));O.propTypes={columns:c().arrayOf(c().string).isRequired};const w=O;var N=n(95726);const C=({remediation:e,playbookRun:t,getPlaybookRun:n,getPlaybookRuns:l,loadRemediation:c})=>{const{id:s,run_id:k}=(0,i.useParams)(),x=(0,r.useContext)(N.B);(0,r.useEffect)((()=>{c(s),l(s),n(s,k)}),[]);const R=[{title:"Connection"},{title:"Systems"},{title:"Playbook run status"}];return e&&t&&t.data?a().createElement(a().Fragment,null,a().createElement(m.Z,null,a().createElement(b.Breadcrumb,null,a().createElement(b.BreadcrumbItem,null,a().createElement(o.Z,{to:"/"}," Remediations ")),a().createElement(b.BreadcrumbItem,null,a().createElement(o.Z,{to:`/${e.id}`}," ",e.name," ")),a().createElement(b.BreadcrumbItem,{isActive:!0},a().createElement(p.Z,{type:"exact",date:t.data.created_at}))),a().createElement(y.Stack,{hasGutter:!0},a().createElement(y.StackItem,null,a().createElement(d.Z,{title:"running"===(0,P.fb)(t.data.status)?a().createElement(a().Fragment,null,a().createElement(S(),{className:"rem-c-running pf-u-mr-sm","aria-label":"connection status"}),a().createElement(p.Z,{type:"exact",date:t.data.created_at}),"true"===localStorage.getItem("remediations:debug")&&a().createElement(I.L,{remediationName:e.name,remediationId:e.id,playbookId:t.data.id})):a().createElement(p.Z,{type:"exact",date:t.data.created_at})})),a().createElement(y.StackItem,null,a().createElement(f.Split,{hasGutter:!0},a().createElement(f.SplitItem,null,a().createElement(Z.Z,{className:"rem-c-playbookSummary__settings",title:"Run on"},a().createElement(p.Z,{type:"exact",date:t.data.created_at}))),a().createElement(f.SplitItem,null,a().createElement(Z.Z,{className:"rem-c-playbookSummary__settings",title:"Run by"},`${t.data.created_by.first_name} ${t.data.created_by.last_name}`)),a().createElement(f.SplitItem,null,a().createElement(Z.Z,{className:"rem-c-playbookSummary__settings",title:"Run status"},a().createElement(P.kf,{executorStatus:t.data.status,counts:t.data.executors.reduce(((e,t)=>({pending:e.pending+t.counts.pending,running:e.running+t.counts.running,success:e.success+t.counts.success,failure:e.failure+t.counts.failure,canceled:e.canceled+t.counts.canceled,acked:e.acked+t.counts.acked})),{pending:0,running:0,success:0,failure:0,canceled:0}),permission:x}))))))),a().createElement(u.ZP,null,a().createElement(y.Stack,{hasGutter:!0},a().createElement(E.Card,null,a().createElement(E.CardHeader,{className:"rem-m-card__header-bold"},a().createElement(g.Title,{headingLevel:"h4",size:"xl"},"Results by connection")),a().createElement(E.CardBody,null,a().createElement(h.i,{"aria-label":"Collapsible table",rows:t.data.executors.map((n=>({cells:[{title:a().createElement(o.Z,{to:`/${e.id}/${t.data.id}/${n.executor_id}`},n.executor_name)},n.system_count,{title:a().createElement(P.kf,{executorStatus:(0,P.fb)(n.status),counts:n.counts,permission:x})}]}))),cells:R},a().createElement(_.x,null),a().createElement(v.R,null))))))):a().createElement(w,{columns:R})};C.propTypes={remediation:c().object,issue:c().object,playbookRun:c().object,getPlaybookRun:c().func,getPlaybookRuns:c().func,loadRemediation:c().func},C.defaultProps={};const T=(0,s.connect)((({playbookRun:e,selectedRemediation:t})=>({playbookRun:e,remediation:t.remediation})),(e=>({getPlaybookRun:(t,n)=>e((0,x.zy)(t,n)),getPlaybookRuns:t=>e((0,x.Is)(t)),loadRemediation:t=>e((0,x.d5)(t))})))(C)},76400:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(10756),a=n.n(r),l=n(45697),c=n.n(l),i=n(93967),o=n.n(i);const s=({title:e,className:t,children:n,isBold:r,hasGutter:l,needsPointer:c,...i})=>{const s=o()("rem-c-description-list__description",{"rem-c-description-list__description--bold":r},{"rem-c-description-list__description--withGutter":l},{"rem-c-description-list__description--needsPointer":c}),u=o()(t,"rem-c-description-list");return a().createElement("dl",{className:u,...i},a().createElement("dt",{className:"rem-c-description-list__title"},a().createElement("b",null,e)),a().createElement("dd",{className:s}," ",n," "))},u=s;s.propTypes={title:c().string,children:c().any,isBold:c().bool,className:c().string,hasGutter:c().bool,needsPointer:c().bool}},21626:()=>{},54994:()=>{},44690:()=>{},37494:()=>{},67761:()=>{}}]);
//# sourceMappingURL=../sourcemaps/ActivityDetails.b2d5a04a1aa3521b6ab7163187654460.js.map