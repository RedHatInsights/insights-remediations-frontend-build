(self.webpackChunkremediations=self.webpackChunkremediations||[]).push([[7935],{58027:(e,t,n)=>{"use strict";n.d(t,{R:()=>g});var r=n(65353),a=n(10756),o=n(18446),l=n.n(o),s=n(95906),c=n(28368),i=n.n(c),u=n(3927),m=n(81291),d=n(89409);class p extends a.Component{shouldComponentUpdate(e){const{columns:t,rowData:n}=this.props,{renderers:r}=e;return r&&r.row&&r.row.shouldComponentUpdate?"function"!=typeof r.row.shouldComponentUpdate||r.row.shouldComponentUpdate.call(this,e,{},{}):(a=t,o=e.columns,!(i()(a,o,((e,t)=>{if("function"==typeof e&&"function"==typeof t)return e===t}))&&l()(n,e.rowData)));var a,o}render(){const{columns:e,renderers:t,onRow:n,rowKey:r,rowIndex:o,rowData:l}=this.props;return a.createElement(t.row,n(l,{rowIndex:o,rowKey:r}),e.map(((e,n)=>{const{property:s,cell:c,props:i}=e,p=s||c&&c.property,{transforms:f=[],formatters:y=[]}=c||{},b={columnIndex:n,property:p,column:e,rowData:l,rowIndex:o,rowKey:r},h=(0,m.f)(f,l[p],b);h||console.warn("Table.Body - Failed to receive a transformed result");let w=[];return l[p]&&(w=l[p].formatters),a.createElement(t.cell,Object.assign({key:`col-${n}-row-${o}`},(0,d.d)(i,c&&c.props,h)),!l.fullWidth&&h.children||(0,u.t)([...y,...w])(l[`_${p}`]||l[p],b))})))}}p.displayName="BodyRow",p.defaultProps={onRow:(...e)=>({})};class f extends a.Component{constructor(){super(...arguments),this.omitOnRow=e=>{const{onRow:t}=e;return(0,r.__rest)(e,["onRow"])}}shouldComponentUpdate(e){const{renderers:t}=e;return t&&t.body&&t.body.wrapper&&t.body.wrapper.shouldComponentUpdate?"function"!=typeof t.body.wrapper.shouldComponentUpdate||t.body.wrapper.shouldComponentUpdate.call(this,e,{},{}):!l()(this.omitOnRow(this.props),this.omitOnRow(e))}render(){const e=this.props,{onRow:t,rows:n,rowKey:o,columns:l,renderers:s}=e,c=(0,r.__rest)(e,["onRow","rows","rowKey","columns","renderers"]),i=n.map(((e,n)=>{const r=function({rowData:e,rowIndex:t,rowKey:n}){return"function"==typeof n?`${n({rowData:e,rowIndex:t})}-row`:0===e[n]?`${e[n]}-row`:`${e[n]||t}-row`}({rowData:e,rowIndex:n,rowKey:o});return a.createElement(p,{key:r,renderers:s.body,onRow:t,rowKey:r,rowIndex:n,rowData:e,columns:l})}));return a.createElement(s.body.wrapper,c,i)}}f.defaultProps={onRow:(...e)=>({})};const y=e=>a.createElement(s.a.Consumer,null,(({columns:t,renderers:n})=>a.createElement(f,Object.assign({columns:t,renderers:n},e))));var b=n(8792),h=n(28645);class w extends a.Component{constructor(){super(...arguments),this.onRow=(e,t)=>{const{onRowClick:n,onRow:r}=this.props,a=Object.assign(Object.assign({},t),r?r(e,t):{});return{row:e,rowProps:a,onClick:r=>{const a=r.target.tagName;n(r,e,t,{isInput:"INPUT"===a,isButton:"BUTTON"===a})},onKeyDown:r=>{const a=r.target,o=a.tagName,l={isInput:"INPUT"===o,isButton:"BUTTON"===o};"Enter"!==r.key&&" "!==r.key||(n(r,e,t,l)," "===r.key&&a.closest(".pf-m-hoverable")&&r.preventDefault())}}},this.mapCells=(e,t,n)=>{const{firstUserColumnIndex:r}=e[0].extraParams,a=t&&t.fullWidth;let o=a?0:r;return Object.assign({},t&&(t.cells||t).reduce(((t,l,s)=>{const c=l===Object(l),i=l&&"function"==typeof l.title;let u=[];c&&l.formatters?u=l.formatters:a&&s<r&&(u=e[r].cell.formatters);let m=l;c&&i?m=l.title(l.props.value,n,s,l.props):c&&(m=l.title);const d={[e[s+o].property]:{title:m,formatters:u,props:Object.assign({isVisible:!0},c?l.props:null)}};return c&&l.props&&l.props.colSpan&&(o+=l.props.colSpan-1),Object.assign(Object.assign({},t),d)}),{secretTableRowKeyId:void 0!==t.id?t.id:n}))}}render(){const e=this.props,{className:t,headerData:n,rows:o,rowKey:l,children:s,onRowClick:c}=e,i=(0,r.__rest)(e,["className","headerData","rows","rowKey","children","onRowClick"]);let u;return n.length>0&&(u=o.map(((e,t)=>Object.assign(Object.assign(Object.assign({},e),this.mapCells(n,e,t)),{isExpanded:(0,b.P6)(e,o),isHeightAuto:e.heightAuto||!1,isFirst:0===t,isLast:t===o.length-1,isFirstVisible:!1,isLastVisible:!1}))),(e=>{const t=e.filter((e=>!e.parent||e.isExpanded));t.length>0&&(t[0].isFirstVisible=!0,t[t.length-1].isLastVisible=!0)})(u)),a.createElement(a.Fragment,null,u&&a.createElement(y,Object.assign({},i,{mappedRows:u,rows:u,onRow:this.onRow,rowKey:l,className:t})))}}const g=e=>{var{className:t="",children:n=null,rowKey:o="secretTableRowKeyId",onRow:l=((...e)=>({})),onRowClick:s=((e,t,n,r)=>{})}=e,c=(0,r.__rest)(e,["className","children","rowKey","onRow","onRowClick"]);return a.createElement(h.X.Consumer,null,(e=>{var{headerData:i=[],rows:u=[]}=e,m=(0,r.__rest)(e,["headerData","rows"]);return a.createElement(w,Object.assign({headerData:i,rows:u,onRow:l,className:t,rowKey:o,onRowClick:s},c,m),n)}))}},67230:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.buildInsightsPath=void 0,t.buildInsightsPath=function(e,t,r,a){var o=("object"==typeof r?r.pathname:r)||"",l=/^\//.test(o),s=a?"/preview":"",c=t||e.getApp(),i=l?[s,e.getBundle(),c,o.replace(/^\//,"")].join("/"):o;return"object"==typeof r?n(n({},r),{pathname:i}):i}},62410:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(85893),a=n(10756),o=n.n(a),l=n(35224),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s.apply(this,arguments)},c=36e5,i=24*c,u=30*i,m=365*i,d=function(e,t){return"".concat(e," ").concat(e>1?"".concat(t,"s"):t," ago")},p=[{rightBound:1/0,description:function(e){return d(Math.round(e/m),"year")}},{rightBound:m,description:function(e){return d(Math.round(e/u),"month")}},{rightBound:u,description:function(e){return d(Math.round(e/i),"day")}},{rightBound:i,description:function(e){return d(Math.round(e/c),"hour")}},{rightBound:c,description:function(e){return d(Math.round(e/6e4),"minute")}},{rightBound:6e4,description:function(){return"Just now"}}],f=function(e){return e.toUTCString().split(",")[1].slice(0,-7).trim()},y=function(e){return{exact:function(e){return f(e)+" UTC"},onlyDate:function(e){return f(e).slice(0,-6)},relative:function(e){return p.reduce((function(t,n){return n.rightBound>Date.now()-e.getTime()?n.description(Date.now()-e.getTime()):t}),f(e))},invalid:function(){return"Invalid date"}}[e]},b=function(e,t,n){return{exact:function(t){return y(e)(t)},onlyDate:function(t){return y(e)(t)},relative:function(a){return function(e,t,n,a){return void 0===a&&(a=""),(0,r.jsx)(l.u,s({},n,{content:(0,r.jsxs)("div",{children:[a,e]}),children:t}))}(y("exact")(a),(0,r.jsx)("span",{children:y(e)(a)}),t,n)},invalid:function(){return"Invalid date"}}[e]};const h=function(e){var t=e.date,n=e.type,a=void 0===n?"relative":n,l=e.extraTitle,s=e.tooltipProps,c=t instanceof Date?t:new Date(t),i=null==t||"Invalid Date"===c.toString()?"invalid":a;return(0,r.jsx)(o().Fragment,{children:b(i,s,l)(c)})}},58247:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(85893),a=n(93967),o=n.n(a),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l.apply(this,arguments)};const s=function(e){var t,n=e.centered,a=e.className,s=e.children,c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["centered","className","children"]),i=o()("ins-c-table__empty",((t={})["is-centered"]=n,t),a);return(0,r.jsxs)("div",l({className:i},c,{children:[" ",s]}))}},92397:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(85893),a=n(62012),o=n(55140),l=n(67230),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s.apply(this,arguments)};const c=function(e){var t=e.to,n=e.app,c=e.preview,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["to","app","preview"]),u=(0,o.Z)(),m=(0,l.buildInsightsPath)(u,n,t,c);return(0,r.jsx)(a.Link,s({to:m},i,{children:i.children}))}},65550:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(85893),a=n(10756),o=n(84812),l=n(62472),s=n(93967),c=n.n(s),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)};function u(e){return"".concat(e,e>1||e<1?" Results":" Result")}const m=function(e){var t,n=e.isFooter,s=void 0!==n&&n,m=e.results,d=e.className,p=e.selected,f=e.children,y=e.ouiaId,b=e.ouiaSafe,h=void 0===b||b,w=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["isFooter","results","className","selected","children","ouiaId","ouiaSafe"]),g=c()("ins-c-table__toolbar",((t={})["ins-m-footer"]=s,t),d),E="RHI/TableToolbar",v=(0,l.Z1)(E,y,h);return(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)(o.o,i({className:g,"data-ouia-component-type":E,"data-ouia-component-id":v,"data-ouia-safe":h},w,{children:f})),(m&&m>=0||p&&p>=0)&&(0,r.jsxs)("div",{className:"ins-c-table__toolbar-results",children:[m&&m>=0&&(0,r.jsxs)("span",{className:"ins-c-table__toolbar-results-count",children:[" ",u(m)," "]}),p&&p>=0&&(0,r.jsxs)("span",{className:"ins-c-table__toolbar-results-selected",children:[" ",p," Selected "]})]})]})}},66227:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var r=n(10756),a=n.n(r),o=n(45697),l=n.n(o),s=n(62012),c=n(92397),i=n(28216),u=n(14748),m=n(89376),d=n(39173),p=n(62410),f=n(26318),y=n(35981),b=n(49004),h=n(58027),w=n(42908),g=n(76200),E=n(44332),v=n(50289),_=n(77431),O=n(35664),R=n(40742);const Z=function(){return a().createElement(a().Fragment,null,a().createElement(m.Z,null,a().createElement(f.Breadcrumb,null,a().createElement(f.BreadcrumbItem,null,a().createElement(O.Z,{size:"lg"})),a().createElement(f.BreadcrumbItem,{isActive:!0},a().createElement(O.Z,{size:"lg"}))),a().createElement(f.Stack,{gutter:!0},a().createElement(f.StackItem,null,a().createElement(d.Z,{title:a().createElement(O.Z,{size:"lg"})})),a().createElement(f.StackItem,null,a().createElement(f.Split,{hasGutter:!0},a().createElement(f.SplitItem,null,a().createElement(g.Z,{className:"rem-c-playbookSummary__settings",title:"Run on"},a().createElement(O.Z,{size:"lg"}))),a().createElement(f.SplitItem,null,a().createElement(g.Z,{className:"rem-c-playbookSummary__settings",title:"Run by"},a().createElement(O.Z,{size:"lg"}))),a().createElement(f.SplitItem,null,a().createElement(g.Z,{className:"rem-c-playbookSummary__settings",title:"Run status"},a().createElement(O.Z,{size:"lg"}))))))),a().createElement(u.ZP,null,a().createElement(f.Stack,{hasGutter:!0},a().createElement(f.Card,null,a().createElement(f.CardHeader,{className:"rem-m-card__header-bold"},a().createElement(f.Title,{headingLevel:"h4",size:"xl"},"Results by connection")),a().createElement(f.CardBody,null,a().createElement(R.Z,null))))))};var x=n(66655),j=function(e){var t=e.remediation,n=e.playbookRun,o=e.getPlaybookRun,l=e.getPlaybookRuns,i=e.loadRemediation,v=(0,s.useParams)(),O=v.id,R=v.run_id,j=(0,r.useContext)(x.B);return(0,r.useEffect)((function(){i(O),l(O),o(O,R)}),[]),t&&n&&n.data?a().createElement(a().Fragment,null,a().createElement(m.Z,null,a().createElement(f.Breadcrumb,null,a().createElement(f.BreadcrumbItem,null,a().createElement(c.Z,{to:"/"}," Remediations ")),a().createElement(f.BreadcrumbItem,null,a().createElement(c.Z,{to:"/".concat(t.id)}," ",t.name," ")),a().createElement(f.BreadcrumbItem,{isActive:!0},a().createElement(p.Z,{type:"exact",date:n.data.created_at}))),a().createElement(f.Stack,{hasGutter:!0},a().createElement(f.StackItem,null,a().createElement(d.Z,{title:"running"===(0,_.fb)(n.data.status)?a().createElement(a().Fragment,null,a().createElement(w.InProgressIcon,{className:"rem-c-running pf-u-mr-sm","aria-label":"connection status"}),a().createElement(p.Z,{type:"exact",date:n.data.created_at}),"true"===localStorage.getItem("remediations:debug")&&a().createElement(E.L,{remediationName:t.name,remediationId:t.id,playbookId:n.data.id})):a().createElement(p.Z,{type:"exact",date:n.data.created_at})})),a().createElement(f.StackItem,null,a().createElement(f.Split,{hasGutter:!0},a().createElement(f.SplitItem,null,a().createElement(g.Z,{className:"rem-c-playbookSummary__settings",title:"Run on"},a().createElement(p.Z,{type:"exact",date:n.data.created_at}))),a().createElement(f.SplitItem,null,a().createElement(g.Z,{className:"rem-c-playbookSummary__settings",title:"Run by"},"".concat(n.data.created_by.first_name," ").concat(n.data.created_by.last_name))),a().createElement(f.SplitItem,null,a().createElement(g.Z,{className:"rem-c-playbookSummary__settings",title:"Run status"},a().createElement(_.kf,{executorStatus:n.data.status,counts:n.data.executors.reduce((function(e,t){return{pending:e.pending+t.counts.pending,running:e.running+t.counts.running,success:e.success+t.counts.success,failure:e.failure+t.counts.failure,canceled:e.canceled+t.counts.canceled,acked:e.acked+t.counts.acked}}),{pending:0,running:0,success:0,failure:0,canceled:0}),permission:j}))))))),a().createElement(u.ZP,null,a().createElement(f.Stack,{hasGutter:!0},a().createElement(f.Card,null,a().createElement(f.CardHeader,{className:"rem-m-card__header-bold"},a().createElement(f.Title,{headingLevel:"h4",size:"xl"},"Results by connection")),a().createElement(f.CardBody,null,a().createElement(y.i,{"aria-label":"Collapsible table",rows:n.data.executors.map((function(e){return{cells:[{title:a().createElement(c.Z,{to:"/".concat(t.id,"/").concat(n.data.id,"/").concat(e.executor_id)},e.executor_name)},e.system_count,{title:a().createElement(_.kf,{executorStatus:(0,_.fb)(e.status),counts:e.counts,permission:j})}]}})),cells:[{title:"Connection"},{title:"Systems"},{title:"Playbook run status"}]},a().createElement(b.x,null),a().createElement(h.R,null))))))):a().createElement(Z,null)};j.propTypes={remediation:l().object,issue:l().object,playbookRun:l().object,getPlaybookRun:l().func,getPlaybookRuns:l().func,loadRemediation:l().func},j.defaultProps={};const k=(0,i.connect)((function(e){return{playbookRun:e.playbookRun,remediation:e.selectedRemediation.remediation}}),(function(e){return{getPlaybookRun:function(t,n){return e((0,v.getPlaybookRun)(t,n))},getPlaybookRuns:function(t){return e((0,v.getPlaybookRuns)(t))},loadRemediation:function(t){return e((0,v.loadRemediation)(t))}}}))(j)},76200:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(87462),a=n(4942),o=n(45987),l=n(10756),s=n.n(l),c=n(45697),i=n.n(c),u=n(93967),m=n.n(u),d=["title","className","children","isBold","hasGutter","needsPointer"],p=function(e){var t=e.title,n=e.className,l=e.children,c=e.isBold,i=e.hasGutter,u=e.needsPointer,p=(0,o.Z)(e,d),f=m()("rem-c-description-list__description",(0,a.Z)({},"rem-c-description-list__description--bold",c),(0,a.Z)({},"rem-c-description-list__description--withGutter",i),(0,a.Z)({},"rem-c-description-list__description--needsPointer",u)),y=m()(n,"rem-c-description-list");return s().createElement("dl",(0,r.Z)({className:y},p),s().createElement("dt",{className:"rem-c-description-list__title"},s().createElement("b",null,t)),s().createElement("dd",{className:f}," ",l," "))};const f=p;p.propTypes={title:i().string,children:i().any,isBold:i().bool,className:i().string,hasGutter:i().bool,needsPointer:i().bool}},40742:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(87462),a=n(15671),o=n(43144),l=n(82963),s=n(61120),c=n(60136),i=n(10756),u=n.n(i),m=n(2311),d=n(35981),p=n(49004),f=n(35664),y=n(65550),b=n(97481),h=n(58247);function w(e,t,n){return t=(0,s.Z)(t),(0,l.Z)(e,g()?Reflect.construct(t,n||[],(0,s.Z)(e).constructor):t.apply(e,n))}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}const E=function(e){function t(e){var n;return(0,a.Z)(this,t),(n=w(this,t,[e])).state={columns:[{title:u().createElement(f.Z,{size:"xs"})},{title:u().createElement(f.Z,{size:"sm"})},{title:u().createElement(f.Z,{size:"sm"})},{title:u().createElement(f.Z,{size:"md"})},{title:u().createElement(f.Z,{size:"sm"})}],rows:[[{title:u().createElement(f.Z,{size:"md"})},{title:u().createElement(f.Z,{size:"xs"})},{title:u().createElement(f.Z,{size:"xs"})},{title:u().createElement(f.Z,{size:"md"})},{title:u().createElement(f.Z,{size:"md"})}]]},n}return(0,c.Z)(t,e),(0,o.Z)(t,[{key:"render",value:function(){var e=this.state,t=e.columns,n=e.rows;return u().createElement(i.Fragment,null,u().createElement(d.i,(0,r.Z)({cells:t,rows:n,"aria-label":"Loading",variant:m.TableVariant.compact},this.props),u().createElement(p.x,null)),u().createElement(h.Z,{centered:!0},u().createElement(b.Z,null)),u().createElement(y.Z,{isFooter:!0,className:"rem-c-skeleton-table__footer rem-m-align-right"},u().createElement(f.Z,{size:"sm"})))}}]),t}(u().Component)},28368:(e,t,n)=>{var r=n(90939);e.exports=function(e,t,n){var a=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===a?r(e,t,void 0,n):!!a}}}]);
//# sourceMappingURL=../sourcemaps/ActivityDetails.3ae44decd3417911a02433b8b36f892d.js.map