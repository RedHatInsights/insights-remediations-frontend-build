!function(e){function t(t){for(var a,i,o=t[0],u=t[1],s=t[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);for(c&&c(t);f.length;)f.shift()();return l.push.apply(l,s||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],a=!0,o=1;o<n.length;o++){var u=n[o];0!==r[u]&&(a=!1)}a&&(l.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={0:0},l=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/beta/apps/remediations/";var o=window.webpackJsonp=window.webpackJsonp||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var c=u;l.push([263,1]),n()}({112:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.getGroup=i,t.buildInventoryUrl=function(e,t){return u("inventory").segment(e).segment(t).toString()},t.getInventoryTabForIssue=o,t.inventoryUrlBuilder=function(e){var t=o(e),n=u("inventory").toString();return function(e){return"".concat(n,"/").concat(e,"/").concat(t)}},t.buildIssueUrl=function(e){var t=e.split(":");switch(t[0]){case"advisor":return u(t[0]).segment("recommendations").segment(t[1]).toString();case"vulnerabilities":return u(t[0]).segment("cves").segment(t[1]).toString();case"patch-advisory":return u(t[0]).segment("advisories").segment(t[1]).toString();default:return null}},t.appUrl=u;var r=a(n(132)),l=n(113);function i(){var e=window.location.pathname.split("/");return"beta"===e[1]?e[2]:e[1]}function o(e){var t=e.id;switch((0,l.getIssuePrefix)(t)){case"advisor":return"insights";case"vulnerabilities":return"vulnerabilities";case"ssg":return"compliance";case"patch-advisory":return"patch";default:return"general_information"}}function u(e){switch(e){case"advisor":return(0,r.default)(document.baseURI).segment("insights");case"vulnerabilities":return(0,r.default)(document.baseURI).segment("insights").segment("vulnerability");case"compliance":case"ssg":return(0,r.default)(document.baseURI).segment("insights").segment("compliance");case"inventory":return(0,r.default)(document.baseURI).segment(i()).segment("inventory");case"patch-advisory":return(0,r.default)(document.baseURI).segment("insights").segment("patch");default:throw new Error("Unknown app: ".concat(e))}}},113:function(e,t,n){"use strict";function a(e){return e.split(":")[0]}Object.defineProperty(t,"__esModule",{value:!0}),t.getIssuePrefix=a,t.getIssueApplication=function(e){switch(a(e.id)){case"advisor":return"Insights";case"ssg":return"Compliance";case"vulnerabilities":return"Vulnerability";case"patch-advisory":return"Patch";default:return"Unknown"}},t.getSystemName=function(e){var t=e.display_name,n=e.hostname,a=e.id;if(t)return t;if(n)return n;return a},t.formatUser=function(e){return"".concat(e.first_name," ").concat(e.last_name)},t.includesIgnoreCase=function(e,t){return e.toLowerCase().includes(t.toLowerCase())},t.DATE_FORMAT=void 0;t.DATE_FORMAT="DD MMM YYYY, hh:mm UTC"},116:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.StatusSummary=t.statusText=t.renderStatus=t.renderStatusIcon=t.normalizeStatus=void 0;var r=a(n(1)),l=a(n(115)),i=a(n(149)),o=a(n(159)),u=n(160),s=n(161),c=n(162),d=n(88),f=n(244),m=n(567),p=function(e){return{running:"running",pending:"running",acked:"running",failure:"failure",canceled:"canceled",success:"success"}[e]};t.normalizeStatus=p;t.renderStatusIcon=function(e){return{running:r.default.createElement(o.default,{className:"ins-c-remediations-running","aria-label":"connection status"}),success:r.default.createElement(l.default,{className:"ins-c-remediations-success","aria-label":"connection status"}),failure:r.default.createElement(i.default,{className:"ins-c-remediations-failure","aria-label":"connection status"}),canceled:r.default.createElement(i.default,{className:"ins-c-remediations-canceled","aria-label":"connection status"})}[e]};var E=function(e,t){return{running:r.default.createElement(u.Flex,{className:"ins-c-remediations-running",breakpointMods:[{modifier:c.FlexModifiers["space-items-sm"]}]},r.default.createElement(s.FlexItem,null,r.default.createElement("b",null,t||"Running")),r.default.createElement(s.FlexItem,null,r.default.createElement(o.default,{"aria-label":"connection status: running"}))),success:r.default.createElement(u.Flex,{className:"ins-c-remediations-success",breakpointMods:[{modifier:c.FlexModifiers["space-items-sm"]}]},r.default.createElement(s.FlexItem,null,r.default.createElement("b",null,t||"Success")),r.default.createElement(s.FlexItem,null,r.default.createElement(l.default,{"aria-label":"connection status: success"}))),failure:r.default.createElement(u.Flex,{className:"ins-c-remediations-failure",breakpointMods:[{modifier:c.FlexModifiers["space-items-sm"]}]},r.default.createElement(s.FlexItem,null,r.default.createElement("b",null,t||"Failed")),r.default.createElement(s.FlexItem,null,r.default.createElement(i.default,{"aria-label":"connection status: failed"}))),canceled:r.default.createElement(u.Flex,{className:"ins-c-remediations-canceled",breakpointMods:[{modifier:c.FlexModifiers["space-items-sm"]}]},r.default.createElement(s.FlexItem,null,r.default.createElement("b",null,t||"Canceled")),r.default.createElement(s.FlexItem,null,r.default.createElement(i.default,{"aria-label":"connection status: canceled"})))}[e]};t.renderStatus=E;var y="ins-c-remediations-status-text",g=function(e){return{running:r.default.createElement("b",{className:"".concat(y," ins-c-remediations-running")}," Running "),pending:r.default.createElement("b",{className:"".concat(y," ins-c-remediations-running")}," Pending "),acked:r.default.createElement("b",{className:"".concat(y," ins-c-remediations-running")}," Acked "),success:r.default.createElement("b",{className:"".concat(y," ins-c-remediations-success")}," Succeeded "),failure:r.default.createElement("b",{className:"".concat(y," ins-c-remediations-failure")}," Failed "),canceled:r.default.createElement("b",{className:"".concat(y," ins-c-remediations-canceled")}," Canceled ")}[e]};t.statusText=g;t.StatusSummary=function(e){var t=e.executorStatus,n=e.permission,a=e.hasCancel,l=e.counts,i=e.remediationName,o=e.remediationId,c=e.playbookId,y=l.acked&&!l.acked.isNaN()?l.running+l.pending+l.acked:l.running+l.pending,b=l.failure+l.canceled,v=l.success,_=r.default.createElement(u.Flex,{className:"ins-c-remediations-status-bar"},t&&r.default.createElement(s.FlexItem,null,g(t)),r.default.createElement(s.FlexItem,null,E("success","".concat(v))),r.default.createElement(s.FlexItem,null,E("failure","".concat(b))),r.default.createElement(s.FlexItem,null,E("running","".concat(y))),"true"===localStorage.getItem("remediations:debug")&&a&&n.permissions.execute&&t&&"running"===p(t)&&r.default.createElement(s.FlexItem,null,r.default.createElement(f.CancelButton,{remediationName:i,remediationId:o,playbookId:c}))),h=function(e,t){return 1===e?"".concat(e," ").concat(t):"".concat(e," ").concat(t,"s")};return t?r.default.createElement(d.Tooltip,{position:"right",className:"ins-c-status-tooltip",enableFlip:!0,content:r.default.createElement("div",null,"Run: ",(0,m.capitalize)(t)," ",r.default.createElement("br",null),"Success: ",h(l.success,"system")," ",r.default.createElement("br",null),"Failed: ",h(l.failure,"system")," ",r.default.createElement("br",null),"Canceled: ",h(l.canceled,"system")," ",r.default.createElement("br",null),l.acked&&!l.acked.isNaN()?"Pending, Running, Acked: ".concat(h(l.pending+l.running+l.acked,"system")):"Pending, Running: ".concat(h(l.pending+l.running,"system")))},_):_}},125:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,l,i,o,u,s,c,d=a(n(13)),f=a(n(1)),m=n(126),p=n(98),E=a(n(129)),y=a(n(295));function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,d.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){return(0,y.default)((0,E.default)(e,(function(e){return e.systems.map((function(e){return e.id}))})))}function _(e){var t=v(e.issues),n=v(e.issues.filter((function(e){return e.resolution.needs_reboot})));return b(b({},e),{},{stats:{systemsWithReboot:n.length,systemsWithoutReboot:t.length-n.length}})}var h={remediations:(0,p.applyReducerHash)((r={},(0,d.default)(r,m.ACTION_TYPES.LOAD_REMEDIATIONS_PENDING,(function(){return{status:"pending"}})),(0,d.default)(r,m.ACTION_TYPES.LOAD_REMEDIATIONS_FULFILLED,(function(e,t){return{status:"fulfilled",value:t.payload}})),(0,d.default)(r,m.ACTION_TYPES.LOAD_REMEDIATIONS_REJECTED,(function(){return{status:"rejected"}})),r),{status:"initial"}),selectedRemediation:(0,p.applyReducerHash)((l={},(0,d.default)(l,m.ACTION_TYPES.LOAD_REMEDIATION_PENDING,(function(){return{status:"pending"}})),(0,d.default)(l,m.ACTION_TYPES.LOAD_REMEDIATION_FULFILLED,(function(e,t){return{status:"fulfilled",remediation:_(t.payload)}})),(0,d.default)(l,m.ACTION_TYPES.REFRESH_REMEDIATION_FULFILLED,(function(e,t){return t.payload.id===e.remediation.id?{status:"fulfilled",remediation:_(t.payload)}:e})),(0,d.default)(l,m.ACTION_TYPES.LOAD_REMEDIATION_REJECTED,(function(){return{status:"rejected"}})),(0,d.default)(l,m.ACTION_TYPES.PATCH_REMEDIATION_FULFILLED,(function(e,t){return{status:e.status,remediation:b(b({},e.remediation),t.payload)}})),(0,d.default)(l,m.ACTION_TYPES.DELETE_REMEDIATION_ISSUE_FULFILLED,(function(e,t){var n=e.remediation.issues.filter((function(e){return e.id!==t.payload.issueId}));return t.payload.id===e.remediation.id?{status:"fulfilled",remediation:_(b(b({},e.remediation),{},{issues:n,needs_reboot:n.some((function(e){return e.resolution.needs_reboot}))}))}:e})),(0,d.default)(l,m.ACTION_TYPES.DELETE_REMEDIATION_ISSUE_SYSTEM_FULFILLED,(function(e,t){if(t.payload.id!==e.remediation.id)return e;var n=e.remediation.issues.filter((function(e){return e.id!==t.payload.issue||(e.systems=e.systems.filter((function(e){return e.id!==t.payload.system})),e.systems.length>0)}));return{status:"fulfilled",remediation:_(b(b({},e.remediation),{},{issues:n,needs_reboot:n.some((function(e){return e.resolution.needs_reboot}))}))}})),l),{status:"initial"}),selectedRemediationStatus:(0,p.applyReducerHash)((i={},(0,d.default)(i,m.ACTION_TYPES.LOAD_REMEDIATION_STATUS_PENDING,(function(){return{status:"pending"}})),(0,d.default)(i,m.ACTION_TYPES.LOAD_REMEDIATION_STATUS_FULFILLED,(function(e,t){return{status:"fulfilled",data:t.payload}})),(0,d.default)(i,m.ACTION_TYPES.LOAD_REMEDIATION_STATUS_REJECTED,(function(){return{status:"rejected"}})),i),{status:"initial"}),connectionStatus:(0,p.applyReducerHash)((o={},(0,d.default)(o,m.ACTION_TYPES.GET_CONNECTION_STATUS_PENDING,(function(){return{status:"pending"}})),(0,d.default)(o,m.ACTION_TYPES.GET_CONNECTION_STATUS_FULFILLED,(function(e,t){return{status:"fulfilled",data:t.payload.data,etag:t.payload.etag}})),(0,d.default)(o,m.ACTION_TYPES.GET_CONNECTION_STATUS_REJECTED,(function(){return{status:"rejected",data:[]}})),(0,d.default)(o,m.ACTION_TYPES.SET_ETAG,(function(e,t){return b(b({},e),{},{etag:t.etag})})),o),{status:"initial"}),inventoryEntitiesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{INVENTORY_ACTION_TYPES:{}};return function(){return(0,p.applyReducerHash)((0,d.default)({},e.INVENTORY_ACTION_TYPES.LOAD_ENTITIES_FULFILLED,(function(t){return b(b({},t),{},{columns:[{key:"display_name",title:"System name",renderFunc:function(t,n,a){var r=a.display_name;return f.default.createElement("div",null,f.default.createElement("a",{href:e.urlBuilder(n)},r))}}]})})))}},playbookActivityIntentory:function(e){return function(){var t;return(0,p.applyReducerHash)((t={},(0,d.default)(t,e.INVENTORY_ACTION_TYPES.LOAD_ENTITIES_FULFILLED,(function(t){return b(b({},t),{},{columns:[{key:"display_name",title:"Name",renderFunc:function(t,n,a){var r=a.fqdn;return f.default.createElement("div",null,f.default.createElement("a",{href:e.urlBuilder(n)},r))}},t.columns.find((function(e){return"tags"===e.key})),{key:"status",title:"Status",renderFunc:function(t){return e.renderStatus(t)}}]})})),(0,d.default)(t,m.ACTION_TYPES.EXPAND_INVENTORY_TABLE,(function(e,t){return b(b({},e),{},{rows:e.rows.map((function(e){return b(b({},e),{},{isOpen:e.id===t.payload.id&&t.payload.isOpen})}))})})),t))}},playbookRuns:(0,p.applyReducerHash)((0,d.default)({},m.ACTION_TYPES.GET_PLAYBOOK_RUNS_FULFILLED,(function(e,t){return{status:"fulfilled",data:t.payload.data,meta:t.payload.meta}}))),cancelPlaybookRuns:(0,p.applyReducerHash)((u={},(0,d.default)(u,m.ACTION_TYPES.CANCEL_PLAYBOOK_RUNS_PENDING,(function(){return{status:"pending"}})),(0,d.default)(u,m.ACTION_TYPES.CANCEL_PLAYBOOK_RUNS_FULFILLED,(function(e,t){return{status:"fulfilled",value:t.payload}})),(0,d.default)(u,m.ACTION_TYPES.CANCEL_PLAYBOOK_RUNS_REJECTED,(function(){return{status:"rejected"}})),u),{status:"initial"}),playbookRun:(0,p.applyReducerHash)((0,d.default)({},m.ACTION_TYPES.GET_PLAYBOOK_RUN_FULFILLED,(function(e,t){return{data:t.payload}}))),playbookRunSystems:(0,p.applyReducerHash)((s={},(0,d.default)(s,m.ACTION_TYPES.GET_PLAYBOOK_RUN_SYSTEMS_FULFILLED,(function(e,t){return b({},t.payload)})),(0,d.default)(s,m.ACTION_TYPES.GET_PLAYBOOK_RUN_SYSTEMS_PENDING,(function(e){return b(b({},e),{},{status:"pending"})})),(0,d.default)(s,m.ACTION_TYPES.GET_PLAYBOOK_RUN_SYSTEMS_REJECTED,(function(e){return b(b({},e),{},{data:[],status:"rejected"})})),s),{data:[],meta:{}}),playbookRunSystemDetails:(0,p.applyReducerHash)((0,d.default)({},m.ACTION_TYPES.GET_PLAYBOOK_RUN_SYSTEM_DETAILS_FULFILLED,(function(e,t){return b({},t.payload)}))),runRemediation:(0,p.applyReducerHash)((c={},(0,d.default)(c,m.ACTION_TYPES.RUN_REMEDIATION_PENDING,(function(){return{status:"pending"}})),(0,d.default)(c,m.ACTION_TYPES.RUN_REMEDIATION_FULFILLED,(function(e,t){return{status:"fulfilled",data:t.payload.data}})),(0,d.default)(c,m.ACTION_TYPES.RUN_REMEDIATION_REJECTED,(function(e,t){return{status:412===t.payload.response.status?"changed":"rejected"}})),c),{status:"initial"})};t.default=h},126:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.SEARCH_DEBOUNCE_DELAY=t.ACTION_TYPES=void 0;var r=a(n(105)),l=a(n(127)),i=(0,a(n(129)).default)(["LOAD_REMEDIATIONS","CREATE_REMEDIATIONS","LOAD_REMEDIATION","LOAD_REMEDIATION_STATUS","REFRESH_REMEDIATION","PATCH_REMEDIATION","DELETE_REMEDIATION","DELETE_REMEDIATION_ISSUE","DELETE_REMEDIATION_ISSUE_SYSTEM","PATCH_REMEDIATION_ISSUE","GET_RESOLUTIONS","GET_CONNECTION_STATUS","RUN_REMEDIATION","EXECUTE_PLAYBOOK_BANNER","RUN_REMEDIATION","GET_PLAYBOOK_RUNS","GET_PLAYBOOK_RUN","GET_PLAYBOOK_RUN_SYSTEMS","GET_PLAYBOOK_RUN_SYSTEM_DETAILS","CANCEL_PLAYBOOK_RUNS"],(function(e){return[e,"".concat(e,"_PENDING"),"".concat(e,"_FULFILLED"),"".concat(e,"_REJECTED")]})),o=(0,l.default)([].concat((0,r.default)(i),["SET_ETAG","EXPAND_INVENTORY_TABLE"]),(function(e){return e}));t.ACTION_TYPES=o;t.SEARCH_DEBOUNCE_DELAY=500},164:function(e,t,n){var a=n(591);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(a,r);a.locals&&(e.exports=a.locals)},165:function(e,t,n){var a=n(600);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(a,r);a.locals&&(e.exports=a.locals)},228:function(e,t,n){var a=n(468);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(a,r);a.locals&&(e.exports=a.locals)},230:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.useSorter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=(0,i.useState)(e),a=(0,l.default)(n,2),r=a[0],o=a[1],u=(0,i.useState)(t),s=(0,l.default)(u,2),c=s[0],d=s[1],f=b();return{sortBy:r,sortDir:c,onChange:f.add,props:{sortBy:{index:r,direction:c},onSort:function(e,t,n){f(t,n),o(t),d(n)}}}},t.useFilter=function(){var e=(0,i.useState)(""),t=(0,l.default)(e,2),n=t[0],a=t[1],r=b(),u=(0,o.default)((function(e){r(e),a(e)}),E.SEARCH_DEBOUNCE_DELAY);return{value:n,setValue:u,onChange:r.add,props:{onFilterChange:u}}},t.useExpander=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e.id},t=(0,i.useState)(!1),n=(0,l.default)(t,2),a=n[0],r=n[1],o=!1;return{value:a,register:function(t){(o=t).forEach((function(t){e(t)===a&&(t.isOpen=!0)}))},props:{onCollapse:function(t,n,a){if(!o)throw new Error("register() not called on useExpander()");var l=e(o[n]);v(l),r(!!a&&l)}}}},t.usePagination=function(){var e=(0,i.useState)(1),t=(0,l.default)(e,2),n=t[0],a=t[1],r=(0,i.useState)(1),u=(0,l.default)(r,2),s=u[0],c=u[1],d=(0,i.useState)(10),f=(0,l.default)(d,2),m=f[0],p=f[1],y=function(){return a(1)},g=b();return{page:n,pageDebounced:s,offset:(n-1)*m,pageSize:m,setPage:a,onChange:g.add,reset:y,props:{page:n,perPage:m,onSetPage:function(e,t){a(t),"INPUT"===e.target.tagName?(0,o.default)(c,E.SEARCH_DEBOUNCE_DELAY)(t):c(t),g(t,m)},onPerPageSelect:function(e,t){g(n,t),y(),p(t)}}}},t.useSelector=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e.id},t=(0,i.useState)({}),n=(0,l.default)(t,2),a=n[0],o=n[1],u=!1;return{getSelectedIds:function(e){var t=(0,c.default)((0,s.default)(a,m.default));return e?(0,p.default)(t,e):t},register:function(t){(u=t).forEach((function(t){return t.selected=!0===a[e(t)]}))},reset:function(){return o({})},props:{onSelect:function(t,n,a){if(!u)throw new Error("register() not called on useSelector()");o((function(t){return-1===a?h(u,t,n,e):_(t,n,e(u[a]))}))}},tbodyProps:{onRowClick:function(t,n){if(!["A","BUTTON","INPUT"].includes(t.target.tagName)){var a=e(n);v(a),o((function(e){return g(g({},e),{},(0,r.default)({},a,!S(e,a)))}))}}}}};var r=a(n(13)),l=a(n(40)),i=n(1),o=a(n(473)),u=a(n(476)),s=a(n(477)),c=a(n(232)),d=a(n(127)),f=a(n(487)),m=a(n(155)),p=a(n(491)),E=n(126);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(){var e=m.default,t=function(){return e.apply(void 0,arguments)};return t.add=function(t){return n=e,a=t,e=function(){n.apply(void 0,arguments),a.apply(void 0,arguments)};var n,a},t}function v(e){if(void 0===e)throw new Error("row does not define id!")}function _(e,t,n){return v(n),g(g({},e),{},(0,r.default)({},n,t))}function h(e,t,n,a){var r=(0,d.default)((0,u.default)(e,(function(e){return a(e)})),a);return g(g({},t),(0,f.default)(r,(function(){return n})))}function S(e,t){return!!e.hasOwnProperty(t)&&e[t]}},234:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pagination=void 0;var a="true"===localStorage.getItem("remediations:debug")?{perPageOptions:[1,2,3,4,5,10,15,20,25,50,100,200].map((function(e){return{title:"".concat(e),value:e}}))}:{};t.pagination=a},240:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),l=n(18),i=n(8),o=n(65),u=n(87),s=n(66),c=a(n(531)),d=n(56),f=n(55),m=function(){return r.default.createElement(r.default.Fragment,null,r.default.createElement(d.PageHeader,null,r.default.createElement(d.PageHeaderTitle,{title:"Remediations"})),r.default.createElement(f.Main,null,r.default.createElement(o.EmptyState,{variant:o.EmptyStateVariant.full,className:"ins-c-remediaitions-denied-state"},r.default.createElement(u.EmptyStateIcon,{icon:c.default}),r.default.createElement(l.Title,{headingLevel:"h5",size:"lg"}," You do not have access to Remediations "),r.default.createElement(s.EmptyStateBody,null,"Contact your organization administrator(s) for more information."),document.referrer?r.default.createElement(i.Button,{variant:"primary",onClick:function(){return history.back()}},"Return to previous page"):r.default.createElement(i.Button,{variant:"primary",component:"a",href:"."},"Go to landing page"))))};t.default=m},244:function(e,t,n){"use strict";var a=n(10),r=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.CancelButton=void 0;var l=r(n(40)),i=a(n(1)),o=r(n(0)),u=n(8),s=n(564),c=n(14),d=n(37),f=r(n(104)),m=function(e){var t=e.remediationName,n=e.remediationId,a=e.playbookId,r=(0,i.useState)(!1),o=(0,l.default)(r,2),m=o[0],p=o[1],E=(0,c.useDispatch)();return i.default.createElement(i.default.Fragment,null,i.default.createElement(u.Button,{variant:"link",onClick:function(){return p(!0)}}," Cancel process "),i.default.createElement(s.WarningModal,{isOpen:m,onModalCancel:function(){return p(!1)},onConfirmCancel:function(){return function(e,t,n){E((0,d.cancelPlaybookRuns)(t,n)),E((0,f.default)({variant:"success",title:"Canceling playbook ".concat(e," successful"),dismissDelay:8e3,dismissable:!1})),p(!1)}(t,n,a)}}))};t.CancelButton=m,m.propTypes={remediationName:o.default.string,remediationId:o.default.string,playbookId:o.default.string}},263:function(e,t,n){"use strict";var a=n(5),r=a(n(1)),l=a(n(48)),i=n(19),o=n(14),u=n(276),s=a(n(52)),c=window.location.pathname.split("/");c.shift();var d="/";"beta"===c[0]&&(d="/".concat(c.shift(),"/")),l.default.render(r.default.createElement(o.Provider,{store:(0,u.init)().getStore()},r.default.createElement(i.BrowserRouter,{basename:"".concat(d).concat(c[0],"/").concat(c[1])},r.default.createElement(s.default,null))),document.getElementById("root"))},276:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(){if(r)throw new Error("store already initialized");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(r=(0,l.getRegistry)({},[(0,u.default)(),(0,o.default)({errorTitleKey:"message",errorDescriptionKey:"description"})].concat(t))).register(s.default),r.register({notifications:i.default}),r},t.getStore=function(){return r.getStore()},t.register=function(){var e;return(e=r).register.apply(e,arguments)};var r,l=n(123),i=a(n(277)),o=a(n(278)),u=a(n(634)),s=a(n(125))},302:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.Routes=t.routes=void 0;var r=a(n(59)),l=a(n(107)),i=n(19),o=a(n(0)),u=a(n(1)),s=a(n(304)),c=a(n(532)),d=a(n(607)),f=a(n(611)),m=function(e){var t=e.component,n=e.rootClass,a=(0,l.default)(e,["component","rootClass"]),o=document.getElementById("root");return o.removeAttribute("class"),o.classList.add("page__".concat(n),"pf-l-page__main"),o.classList.add("page__".concat(n),"pf-c-page__main"),u.default.createElement(i.Route,(0,r.default)({component:t},a))};m.propTypes={component:o.default.func,rootClass:o.default.string};var p={home:"/",details:"/:id",runDetails:"/:id/:run_id",executorDetails:"/:id/:run_id/:executor_id"};t.routes=p;var E=function(){return u.default.createElement(i.Switch,null,u.default.createElement(m,{exact:!0,path:p.home,component:s.default,rootClass:"remediations"}),u.default.createElement(m,{exact:!0,path:p.details,component:c.default,rootClass:"remediation-details"}),u.default.createElement(m,{exact:!0,path:p.runDetails,render:function(e){return u.default.createElement(d.default,(0,r.default)({remediation:{}},e))}}),u.default.createElement(m,{exact:!0,path:p.executorDetails,render:function(e){return u.default.createElement(f.default,e)}}),u.default.createElement(i.Redirect,{path:"*",to:p.home,push:!0}))};t.Routes=E,E.propTypes={childProps:o.default.shape({history:o.default.shape({push:o.default.func})})}},304:function(e,t,n){"use strict";var a=n(10),r=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(34)),i=r(n(53)),o=r(n(54)),u=r(n(35)),s=r(n(36)),c=r(n(28)),d=r(n(13)),f=a(n(1)),m=n(19),p=r(n(0)),E=n(14),y=a(n(37)),g=n(55),b=n(56),v=n(203),_=r(n(385)),h=r(n(504)),S=r(n(104)),R=r(n(525)),k=r(n(526));n(529);var O=n(52),T=r(n(240));function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var C=(0,E.connect)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,d.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.remediations)}))(_.default),x=function(e){(0,u.default)(n,e);var t=P(n);function n(e,a){var r;return(0,l.default)(this,n),r=t.call(this,e,a),(0,d.default)((0,o.default)(r),"openModal",(function(){return r.setState({isModalOpen:!0})})),(0,d.default)((0,o.default)(r),"onClose",(function(e){r.setState({isModalOpen:!1}),e&&r.sendNotification({variant:"success",title:"Wizard completed",description:"Congratulations! You successfully clicked through the temporary wizard placeholder!"})})),(0,d.default)((0,o.default)(r),"sendNotification",(function(e){(0,r.props.addNotification)(e)})),(0,d.default)((0,o.default)(r),"onRemediationCreated",(function(e){var t=r.props.loadRemediations;r.sendNotification(e.getNotification()),t()})),(0,d.default)((0,o.default)(r),"onSelect",(function(e){return r.setState({selected:e})})),r.state={isModalOpen:!1,selected:[]},r}return(0,i.default)(n,[{key:"render",value:function(){var e=this,t=this.state.isModalOpen,n=this.props,a=n.loadRemediations,r=n.deleteRemediation,l=[f.default.createElement(R.default,{key:"PlanName"}),f.default.createElement(k.default,{key:"PlanSystems"})];return f.default.createElement(O.PermissionContext.Consumer,null,(function(n){return!1===n.permissions.read?f.default.createElement(T.default,null):f.default.createElement(f.default.Fragment,null,f.default.createElement(b.PageHeader,null,f.default.createElement(b.PageHeaderTitle,{title:"Remediations"}),f.default.createElement(h.default,{onRemediationCreated:e.onRemediationCreated})),f.default.createElement(g.Main,null,f.default.createElement(C,{loadRemediations:a,deleteRemediation:r})),f.default.createElement(v.Wizard,{isLarge:!0,title:"Create Plan",className:"ins-c-plan-modal",onClose:e.onClose,isOpen:t,content:l}))}))}}]),n}(f.Component);x.propTypes={loadRemediations:p.default.func,deleteRemediation:p.default.func,addNotification:p.default.func};var N=(0,m.withRouter)((0,E.connect)(null,(function(e){return{loadRemediations:function(){return e(y.loadRemediations.apply(y,arguments))},deleteRemediation:function(t){return e(y.deleteRemediation(t))},addNotification:function(t){return e((0,S.default)(t))}}}))(x));t.default=N},351:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.doGet=function(e){return h(e.toString()).then(g).then(v)},t.doPost=function(e,t){return h(e,"POST",t,E).then(g).then(v)},t.doPatch=function(e,t){return h(e,"PATCH",t,E).then(g)},t.doDelete=function(e){return h(e,"DELETE").then(g)};var r=a(n(32)),l=a(n(13)),i=a(n(33)),o=a(n(34)),u=a(n(35)),s=a(n(36)),c=a(n(28)),d=a(n(182));function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var E={"Content-Type":"application/json; charset=utf-8"},y=function(e){(0,u.default)(n,e);var t=p(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,"Error communicating with the server")).description=e,a}return n}((0,d.default)(Error));function g(e){return b.apply(this,arguments)}function b(){return(b=(0,i.default)(r.default.mark((function e(t){var n,a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t);case 2:if(401!==t.status){e.next=5;break}return window.insights.chrome.auth.logout(),e.abrupt("return");case 5:if(!t.headers.get("content-type").includes("application/json")){e.next=20;break}return n=!1,e.prev=7,e.next=10,t.json();case 10:n=e.sent,e.next=15;break;case 13:e.prev=13,e.t0=e.catch(7);case 15:if(!n.errors||!n.errors.length){e.next=20;break}if(!(a=n.errors[0]).details||!a.details.name){e.next=19;break}throw new y("".concat(a.title," (").concat(a.details.name,")"));case 19:throw new y(a.title);case 20:throw new y("Unexpected response code ".concat(t.status));case 21:case"end":return e.stop()}}),e,null,[[7,13]])})))).apply(this,arguments)}function v(e){return _.apply(this,arguments)}function _(){return(_=(0,i.default)(r.default.mark((function e(t){var n;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if((n=t.headers.get("content-type")).includes("application/json")){e.next=5;break}throw new y("Unexpected response type (".concat(n,") returned"));case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=m({credentials:"same-origin",method:t},r);return a&&(l.headers=a),n&&(l.body=JSON.stringify(n)),fetch(e,l)}},37:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expandInventoryTable=t.getPlaybookRunSystemDetails=t.getPlaybookRunSystems=t.getPlaybookRun=t.cancelPlaybookRuns=t.getPlaybookRuns=t.setEtag=t.runRemediation=t.getConnectionStatus=t.getResolutions=t.patchRemediationIssue=t.deleteRemediationIssueSystem=t.deleteRemediationIssue=t.deleteRemediation=t.patchRemediation=t.createRemediation=t.refreshRemediation=t.loadRemediationStatus=t.loadRemediation=t.loadRemediations=void 0;var a=n(126),r=n(64);t.loadRemediations=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"updated_at",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"desc",n=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return{type:a.ACTION_TYPES.LOAD_REMEDIATIONS,payload:r.remediations.getRemediations("".concat("desc"===t?"-":"").concat(e),n,l,i)}};t.loadRemediation=function(e){return{type:a.ACTION_TYPES.LOAD_REMEDIATION,payload:r.remediations.getRemediation(e)}};t.loadRemediationStatus=function(e){return{type:a.ACTION_TYPES.LOAD_REMEDIATION_STATUS,payload:(0,r.getRemediationStatus)(e)}};t.refreshRemediation=function(e){return{type:a.ACTION_TYPES.REFRESH_REMEDIATION,payload:r.remediations.getRemediation(e)}};t.createRemediation=function(e){return{type:a.ACTION_TYPES.CREATE_REMEDIATIONS,payload:r.remediations.createRemediation(e)}};t.patchRemediation=function(e,t){return{type:a.ACTION_TYPES.PATCH_REMEDIATION,payload:r.remediations.updateRemediation(e,t).then((function(){return t}))}};t.deleteRemediation=function(e){return{type:a.ACTION_TYPES.DELETE_REMEDIATION,payload:r.remediations.deleteRemediation(e)}};t.deleteRemediationIssue=function(e,t){return{type:a.ACTION_TYPES.DELETE_REMEDIATION_ISSUE,payload:r.remediations.deleteRemediationIssue(e,t).then((function(){return{id:e,issueId:t}}))}};t.deleteRemediationIssueSystem=function(e,t,n){return{type:a.ACTION_TYPES.DELETE_REMEDIATION_ISSUE_SYSTEM,payload:r.remediations.deleteRemediationIssueSystem(e,t,n).then((function(){return{id:e,issue:t,system:n}}))}};t.patchRemediationIssue=function(e,t,n){return{type:a.ACTION_TYPES.PATCH_REMEDIATION_ISSUE,payload:r.remediations.updateRemediationIssue(e,t,{resolution:n})}};t.getResolutions=function(e){return{type:a.ACTION_TYPES.GET_RESOLUTIONS,payload:r.resolutions.getResolutionsForIssue(e)}};t.getConnectionStatus=function(e){return{type:a.ACTION_TYPES.GET_CONNECTION_STATUS,payload:r.remediations.getRemediationConnectionStatus(e)}};t.runRemediation=function(e,t){return{type:a.ACTION_TYPES.RUN_REMEDIATION,payload:r.remediations.runRemediation(e,{headers:{"If-Match":t}})}};t.setEtag=function(e){return{type:a.ACTION_TYPES.SET_ETAG,payload:{etag:e}}};t.getPlaybookRuns=function(e){return{type:a.ACTION_TYPES.GET_PLAYBOOK_RUNS,payload:r.remediations.listPlaybookRuns(e)}};t.cancelPlaybookRuns=function(e,t){return{type:a.ACTION_TYPES.CANCEL_PLAYBOOK_RUNS,payload:r.remediations.cancelPlaybookRuns(e,t)}};t.getPlaybookRun=function(e,t){return{type:a.ACTION_TYPES.GET_PLAYBOOK_RUN,payload:r.remediations.getPlaybookRunDetails(e,t)}};t.getPlaybookRunSystems=function(e,t,n){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0;return{type:a.ACTION_TYPES.GET_PLAYBOOK_RUN_SYSTEMS,payload:r.remediations.getPlaybookRunSystems(e,t,n,l,i,o)}};t.getPlaybookRunSystemDetails=function(e,t,n){return{type:a.ACTION_TYPES.GET_PLAYBOOK_RUN_SYSTEM_DETAILS,payload:r.remediations.getPlaybookRunSystemDetails(e,t,n)}};t.expandInventoryTable=function(e,t){return{type:a.ACTION_TYPES.EXPAND_INVENTORY_TABLE,payload:{id:e,isOpen:t}}}},385:function(e,t,n){"use strict";var a=n(10),r=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(59)),i=r(n(13)),o=r(n(32)),u=r(n(33)),s=r(n(40)),c=a(n(1)),d=r(n(0)),f=n(19),m=n(86),p=n(65),E=n(87),y=n(66),g=n(44),b=n(61),v=n(62),_=n(18),h=n(8),S=n(90),R=n(91),k=n(43),O=n(142),T=n(143),P=n(58),I=n(74),C=n(93),x=n(430),N=r(n(152)),w=n(112);n(228);var D=r(n(96)),A=r(n(97)),j=n(230),L=a(n(234)),B=r(n(127)),M=n(64),F=n(52);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=[null,"name","system_count","issue_count","updated_at"];function H(e){var t=e.value,n=e.status,a=(0,j.useSorter)(4,"desc"),r=(0,j.useFilter)(),i=(0,j.useSelector)(),d=(0,j.usePagination)(),U=(0,c.useContext)(F.PermissionContext),H=(0,c.useState)(!1),G=(0,s.default)(H,2),V=G[0],q=G[1];function K(){var t=z[a.sortBy];e.loadRemediations(t,a.sortDir,r.value,d.pageSize,d.offset)}if((0,c.useEffect)(K,[a.sortBy,a.sortDir,r.value,d.pageSize,d.pageDebounced]),"fulfilled"!==n)return c.default.createElement(c.default.Fragment,null,c.default.createElement(I.TableToolbar,{className:"ins-c-remediations-details-table__toolbar"},c.default.createElement(R.ToolbarGroup,null,c.default.createElement(S.ToolbarItem,null,c.default.createElement(T.SimpleTableFilter,{buttonTitle:"",placeholder:"Search Playbooks","aria-label":"Search Playbooks Loading"}))),c.default.createElement(R.ToolbarGroup,null,c.default.createElement(S.ToolbarItem,null,c.default.createElement(h.Button,{variant:"secondary",isDisabled:!0}," Download playbook ")),c.default.createElement(S.ToolbarItem,null,c.default.createElement(g.Dropdown,{toggle:c.default.createElement(b.KebabToggle,null),isPlain:!0}))),c.default.createElement(P.Skeleton,{size:"sm"})),c.default.createElement(A.default,null));if(!t.data.length&&!r.value)return c.default.createElement(m.Bullseye,null,c.default.createElement(p.EmptyState,{className:"ins-c-no-remediations"},c.default.createElement(E.EmptyStateIcon,{icon:N.default,size:"sm"}),c.default.createElement(_.Title,{size:"lg"},"You haven't created any remediation Playbooks yet"),c.default.createElement(y.EmptyStateBody,null,"Create an Ansible Playbook to remediate or mitigate vulnerabilities or configuration issues.",c.default.createElement("br",null),c.default.createElement("br",null),"To create a new remediation Playbook, select issues identified in",c.default.createElement("br",null),c.default.createElement("a",{href:(0,w.appUrl)("advisor").toString()},"Recommendations"),", ",c.default.createElement("a",{href:(0,w.appUrl)("compliance").toString()},"Compliance")," or ",c.default.createElement("a",{href:(0,w.appUrl)("vulnerabilities").toString()},"Vulnerability"),"  and select",c.default.createElement("br",null),c.default.createElement("strong",null,"Remediate with Ansible."))));r.onChange(d.reset),a.onChange(d.reset);var W=t.data.map((function(e){return{id:e.id,cells:[(t=e.name,n=e.id,{title:c.default.createElement(f.Link,{to:"/".concat(n)},t)}),e.system_count,e.issue_count,{title:c.default.createElement(C.DateFormat,{date:e.updated_at})}]};var t,n}));i.register(W);var J=i.getSelectedIds();return c.default.createElement(c.default.Fragment,null,V&&c.default.createElement(D.default,{text:"You will not be able to recover ".concat(J.length>1?"these remediations":"this remediation"),onClose:(0,u.default)(o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return q(!1),t.next=3,Promise.all(J.map((function(t){return e.deleteRemediation(t)})));case 3:i.reset(),K();case 5:case"end":return t.stop()}}),t)})))}),c.default.createElement(x.PrimaryToolbar,{filterConfig:{items:[{label:"Search playbooks",placeholder:"Search playbooks"}]},bulkSelect:{items:[{title:"Select all",onClick:function(e){return i.props.onSelect(e,!0,-1)}}],checked:J.length&&t.meta.total>J.length?null:J.length,count:J.length,onSelect:function(e,t){return i.props.onSelect(t,e,-1)}},actionsConfig:{actions:[{label:"Download playbooks",props:{variant:"secondary",isDisabled:!J.length,onClick:function(){return function(e,t){var n=(0,B.default)(t,(function(e){return e.id}));e.reduce((function(e,t){var a=n[t];return a&&0===a.issue_count?e:e.then((function(){return(0,M.downloadPlaybook)(t)}))}),Promise.resolve())}(J,t.data)}}},{label:"Delete playbooks",props:{isDisabled:!U.permissions.write||!J.length},onClick:function(){return q(!0)}}]},pagination:Y(Y({},d.props),{},{itemCount:t.meta.total})}),W.length>0?c.default.createElement(k.Table,(0,l.default)({variant:k.TableVariant.compact,"aria-label":"Playbooks",canSelectAll:!1,cells:[{title:"Playbook",transforms:[k.sortable]},{title:"Systems",transforms:[k.sortable]},{title:"Actions",transforms:[k.sortable]},{title:"Last modified",transforms:[k.sortable]}],rows:W,actions:[{title:"Download playbook",onClick:function(e,t,n){return(0,M.downloadPlaybook)(n.id)}},{title:"Delete playbook",props:{isDisabled:!U.permissions.write},onClick:function(){return q(!0)}}]},a.props,i.props),c.default.createElement(k.TableHeader,null),c.default.createElement(k.TableBody,i.tbodyProps)):c.default.createElement(O.EmptyTable,{centered:!0,className:"ins-c-remediations-table--empty"},"No Playbooks found"),W.length>0&&c.default.createElement(I.TableToolbar,{isFooter:!0},c.default.createElement(v.Pagination,(0,l.default)({variant:"bottom",dropDirection:"up",itemCount:t.meta.total},d.props,L.pagination))))}H.propTypes={value:d.default.object,status:d.default.string.isRequired,loadRemediations:d.default.func.isRequired,deleteRemediation:d.default.func.isRequired};var G=H;t.default=G},468:function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".ins-m-nowrap{white-space:nowrap}.pf-c-progress.remediationProgress{--pf-c-progress--GridGap: 0;grid-column-gap:15px;grid-column-gap:.9375rem;width:75%}.pf-c-progress.remediationProgress .pf-c-progress__bar{grid-column:1 !important}.ins-c-remediations-details-table .pf-c-table__expandable-row-content{padding:5px;padding:.3125rem}.ins-c-remediations-details-table .ins-c-system-card .pf-c-card__body{padding:5px 10px !important}.ins-c-remediations-details-table .ins-c-system-card+.ins-c-system-card{margin-top:5px;margin-top:.3125rem}.ins-c-no-remediations{display:flex;flex-direction:column;align-items:center}.ins-c-table__toolbar .ins-c-skeleton{margin-left:auto}\n",""])},469:function(e,t,n){var a=n(470);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(a,r);a.locals&&(e.exports=a.locals)},470:function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".ins-c-remediation__delete-icon{color:var(--pf-global--warning-color--100)}\n",""])},471:function(e,t,n){var a=n(472);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(a,r);a.locals&&(e.exports=a.locals)},472:function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".ins-c-skeleton-table__footer>*{margin:5px;margin:.3125rem}.ins-m-align-right>*{margin-left:auto;margin-right:0}.ins-c-table__empty+.ins-c-table__toolbar{border-top:none}\n",""])},504:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(59)),l=a(n(107)),i=a(n(32)),o=a(n(33)),u=a(n(105)),s=a(n(34)),c=a(n(53)),d=a(n(54)),f=a(n(35)),m=a(n(36)),p=a(n(28)),E=a(n(13)),y=a(n(1)),g=n(42),b=n(41),v=n(46),_=n(47),h=a(n(507)),S=a(n(0)),R=n(64);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.default)(e);if(t){var r=(0,p.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,m.default)(this,n)}}var O=function(e){(0,f.default)(a,e);var t,n=k(a);function a(e){var t;return(0,s.default)(this,a),t=n.call(this,e),(0,E.default)((0,d.default)(t),"isEnabled",(function(){return"true"===localStorage.getItem("remediations:debug")})),(0,E.default)((0,d.default)(t),"dataProviderPing",(function(){return{issues:[{id:"test:ping",description:"Ansible ping"}],systems:t.state.allHosts}})),(0,E.default)((0,d.default)(t),"dataProviderA1",(function(){return{issues:[{id:"vulnerabilities:CVE-2019-3815",description:"CVE-2019-3815"}],systems:t.state.allHosts}})),(0,E.default)((0,d.default)(t),"dataProviderA2",(function(){return{issues:[{id:"advisor:network_bond_opts_config_issue|NETWORK_BONDING_OPTS_DOUBLE_QUOTES_ISSUE",description:"Bonding will not fail over to the backup link when bonding options are partially read",systems:t.state.allHosts.slice(0,5)}]}})),(0,E.default)((0,d.default)(t),"dataProviderC1",(function(){return{issues:[{id:"vulnerabilities:CVE-2019-3815",description:"CVE-2019-3815"},{id:"vulnerabilities:CVE-2018-16865",description:"CVE-2018-16865"},{id:"vulnerabilities:CVE-2017-17712",description:"CVE-2017-17712"}],systems:t.state.allHosts.slice(-1)}})),(0,E.default)((0,d.default)(t),"dataProviderC2",(function(){return{issues:[{id:"advisor:network_bond_opts_config_issue|NETWORK_BONDING_OPTS_DOUBLE_QUOTES_ISSUE",description:"Bonding will not fail over to the backup link when bonding options are partially read"},{id:"advisor:rhnsd_pid_world_write|RHNSD_PID_WORLD_WRITABLE",description:"Code injection risk or wrong pid altering when rhnsd daemon file rhnsd.pid is world writable, due to a bug in rhnsd"}],systems:t.state.allHosts.slice(-1)}})),(0,E.default)((0,d.default)(t),"dataProviderC3",(function(){return{issues:[].concat((0,u.default)(t.dataProviderC1().issues),(0,u.default)(t.dataProviderC2().issues)),systems:t.state.allHosts.slice(-1)}})),(0,E.default)((0,d.default)(t),"dataProviderC4",(function(){return{issues:[{id:"advisor:network_bond_opts_config_issue|NETWORK_BONDING_OPTS_DOUBLE_QUOTES_ISSUE",description:"Bonding will not fail over to the backup link when bonding options are partially read"},{id:"advisor:corosync_enable_rt_schedule|COROSYNC_NOT_ENABLE_RT",description:"Cluster nodes are frequently fenced as realtime is not enabled in corosync"},{id:"advisor:CVE_2017_6074_kernel|KERNEL_CVE_2017_6074",description:"Kernel vulnerable to local privilege escalation via DCCP module (CVE-2017-6074)"}],systems:t.state.allHosts.slice(-1)}})),(0,E.default)((0,d.default)(t),"dataProviderC5",(function(){return{issues:[{id:"advisor:unsupported",description:"Unsupported issue"},{id:"vulnerabilities:CVE-2019-999999",description:"Unsupported issue"},{id:"advisor:CVE_2017_6074_kernel|KERNEL_CVE_2017_6074",description:"Kernel vulnerable to local privilege escalation via DCCP module (CVE-2017-6074)"}],systems:t.state.allHosts.slice(-1)}})),(0,E.default)((0,d.default)(t),"dataProviderD1",(function(){return{issues:[{id:"vulnerabilities:CVE-2019-3815",description:"CVE-2019-3815",systems:t.state.allHosts.slice(0,1)},{id:"vulnerabilities:CVE-2018-16865",description:"CVE-2018-16865",systems:t.state.allHosts.length>1?t.state.allHosts.slice(1,2):t.state.allHosts.slice(0,1)},{id:"vulnerabilities:CVE-2017-17712",description:"CVE-2017-17712"}],systems:t.state.allHosts}})),(0,E.default)((0,d.default)(t),"dataProviderD2",(function(){return{issues:[{id:"advisor:network_bond_opts_config_issue|NETWORK_BONDING_OPTS_DOUBLE_QUOTES_ISSUE",description:"Bonding will not fail over to the backup link when bonding options are partially read",systems:t.state.allHosts.slice(0,1)},{id:"advisor:rhnsd_pid_world_write|RHNSD_PID_WORLD_WRITABLE",description:"Code injection risk or wrong pid altering when rhnsd daemon file rhnsd.pid is world writable, due to a bug in rhnsd",systems:t.state.allHosts.slice(1)}]}})),t.state={allHosts:!1},t}return(0,c.default)(a,[{key:"componentDidMount",value:(t=(0,o.default)(i.default.mark((function e(){var t=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isEnabled()){e.next=4;break}return e.next=3,window.insights.chrome.auth.getUser();case 3:(0,R.getHosts)().then((function(e){return t.setState({allHosts:e.results.map((function(e){return e.id}))})}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this;if(!this.isEnabled())return null;var t=this.state.allHosts,n=function(n){var a=n.dataProvider,i=n.children,o=(0,l.default)(n,["dataProvider","children"]);return y.default.createElement(b.SplitItem,null,y.default.createElement(h.default,(0,r.default)({dataProvider:a,isDisabled:!t||!t.length,onRemediationCreated:e.props.onRemediationCreated},o),i))};return y.default.createElement(y.default.Fragment,null,y.default.createElement(v.Stack,{gutter:"sm"},y.default.createElement(_.StackItem,null,y.default.createElement(g.Split,{gutter:"sm"},["ping","alwaysFail","failHalfTheTime","pause1m","pause5m","pause15m","pauseRandom15m","pause1h","pause6h"].map((function(t){return y.default.createElement(n,{key:t,dataProvider:function(){return{issues:[{id:"test:".concat(t),description:"Ansible ".concat(t," test playbook")}],systems:e.state.allHosts}}},t)})))),y.default.createElement(_.StackItem,null,y.default.createElement(g.Split,{gutter:"sm"},y.default.createElement(n,{dataProvider:this.dataProviderA1},"A1"),y.default.createElement(n,{dataProvider:this.dataProviderA2},"A2"),y.default.createElement(n,{dataProvider:this.dataProviderC1},"C1"),y.default.createElement(n,{dataProvider:this.dataProviderC2},"C2"),y.default.createElement(n,{dataProvider:this.dataProviderC3},"C3"),y.default.createElement(n,{dataProvider:this.dataProviderC4},"C4 (multires)"),y.default.createElement(n,{dataProvider:this.dataProviderC5},"C5 (unsupported)"),y.default.createElement(n,{dataProvider:this.dataProviderD1},"D1"),y.default.createElement(n,{dataProvider:this.dataProviderD2},"D2")))))}}]),a}(y.default.Component);O.propTypes={onRemediationCreated:S.default.func},O.defaultProps={onRemediationCreated:function(e){return e}};var T=O;t.default=T},52:function(e,t,n){"use strict";var a=n(10),r=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PermissionContext=void 0;var l=r(n(32)),i=r(n(33)),o=r(n(34)),u=r(n(53)),s=r(n(54)),c=r(n(35)),d=r(n(36)),f=r(n(28)),m=r(n(13)),p=r(n(0)),E=a(n(1)),y=n(19),g=n(14),b=n(302);n(626);var v=r(n(630)),_=n(64),h=n(631);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var R=(0,E.createContext)();t.PermissionContext=R;var k=function(e){(0,c.default)(a,e);var t,n=S(a);function a(){var e;return(0,o.default)(this,a),e=n.call(this),(0,m.default)((0,s.default)(e),"handlePermissionUpdate",(function(t,n,a){return e.setState({readPermission:t,writePermission:n,executePermission:a,arePermissionLoaded:!0})})),e.state={readPermission:void 0,writePermission:void 0,executePermission:void 0,isReceptorConfigured:void 0,arePermissionLoaded:!1,hasSmartManagement:void 0},e}return(0,u.default)(a,[{key:"componentDidMount",value:(t=(0,i.default)(l.default.mark((function e(){var t=this;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return insights.chrome.init(),insights.chrome.identifyApp("remediations"),e.next=4,window.insights.chrome.auth.getUser().then((function(e){return t.setState({hasSmartManagement:e.entitlements.smart_management.is_entitled})}));case 4:(0,_.getIsReceptorConfigured)().then((function(e){return t.setState({isReceptorConfigured:e.data.length>0})})),window.insights.chrome.getUserPermissions("remediations").then((function(e){var n=e.map((function(e){return e.permission}));n.includes("remediations:*:*")?t.handlePermissionUpdate(!0,!0,!0):t.handlePermissionUpdate(n.includes("remediations:remediation:read"),n.includes("remediations:remediation:write"),n.includes("remediations:remediation:execute"))}));case 6:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.appNav(),this.buildNav()}},{key:"render",value:function(){var e=this.state,t=e.readPermission,n=e.writePermission,a=e.executePermission,r=e.arePermissionLoaded,l=e.isReceptorConfigured,i=e.hasSmartManagement;return r?E.default.createElement(R.Provider,{value:{permissions:{read:t,write:n,execute:a},isReceptorConfigured:l,hasSmartManagement:i}},E.default.createElement(h.NotificationsPortal,null),E.default.createElement(b.Routes,{childProps:this.props})):E.default.createElement(v.default,null)}}]),a}(E.Component);k.propTypes={history:p.default.object};var O=(0,y.withRouter)((0,g.connect)()(k));t.default=O},525:function(e,t,n){"use strict";var a=n(10),r=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(34)),i=r(n(53)),o=r(n(54)),u=r(n(35)),s=r(n(36)),c=r(n(28)),d=r(n(13)),f=a(n(1)),m=n(157),p=n(158),E=n(92);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var g=function(e){(0,u.default)(n,e);var t=y(n);function n(){var e;return(0,l.default)(this,n),e=t.call(this),(0,d.default)((0,o.default)(e),"handleTextInputChange",(function(t){e.setState({value:t})})),e.state={value:""},e}return(0,i.default)(n,[{key:"render",value:function(){var e=this.state.value;return f.default.createElement(f.default.Fragment,null,f.default.createElement("h2",null," Name your plan "),f.default.createElement(m.Form,null,f.default.createElement(p.FormGroup,{label:"Plan Name",isRequired:!0,fieldId:"plan-name"},f.default.createElement(E.TextInput,{isRequired:!0,type:"text",value:e,onChange:this.handleTextInputChange,placeholder:"What do you want to call your grand plan?","aria-label":"Name your plan",autoFocus:!0}))))}}]),n}(f.Component);t.default=g},526:function(e,t,n){"use strict";var a=n(10),r=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(34)),i=r(n(53)),o=r(n(54)),u=r(n(35)),s=r(n(36)),c=r(n(28)),d=a(n(1)),f=n(157),m=n(158),p=n(111),E=n(148),y=n(95);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}n(527);var b=function(e){(0,u.default)(n,e);var t=g(n);function n(){var e;return(0,l.default)(this,n),(e=t.call(this)).state={systemValue:"Select a System",groupValue:"Select a System"},e.onChangeSystemOptions=e.onChangeSystemOptions.bind((0,o.default)(e)),e.onChangeSystemGroup=e.onChangeSystemGroup.bind((0,o.default)(e)),e.systemOptions=[{value:"Select a System",label:"Select a System",disabled:!0},{value:"System 1",label:"System 1",disabled:!1},{value:"System 2",label:"System 2",disabled:!1}],e.groupOptions=[{value:"Select a System",label:"Select a System Group",disabled:!0},{value:"Group 1",label:"Group 1",disabled:!1},{value:"Group 2",label:"Group 2",disabled:!1}],e}return(0,i.default)(n,[{key:"onChangeSystemOptions",value:function(e){this.setState({systemValue:e})}},{key:"onChangeSystemGroup",value:function(e){this.setState({groupValue:e})}},{key:"render",value:function(){return d.default.createElement(d.default.Fragment,null,d.default.createElement("h2",null," Select the system(s) for the plan "),d.default.createElement(f.Form,{className:"select-systems-form"},d.default.createElement(m.FormGroup,{isRequired:!0,fieldId:"select-systems"},d.default.createElement(p.Radio,{id:"one-system",name:"select-systems",label:"A System","aria-label":"A System"}),d.default.createElement(E.Select,{value:this.state.systemValue,onChange:this.onChangeSystemOptions,"aria-label":"Select Input"},this.systemOptions.map((function(e,t){return d.default.createElement(y.SelectOption,{isDisabled:e.disabled,key:t,value:e.value,label:e.label})}))),d.default.createElement(p.Radio,{id:"system-group",name:"select-systems",label:"System Group","aria-label":"System Group"}),d.default.createElement(E.Select,{value:this.state.groupValue,onChange:this.onChangeSystemGroup,"aria-label":"Select Input"},this.groupOptions.map((function(e,t){return d.default.createElement(y.SelectOption,{isDisabled:e.disabled,key:t,value:e.value,label:e.label})}))),d.default.createElement(p.Radio,{id:"all-systems",name:"select-systems",label:"All Systems (x)","aria-label":"All Systems"}))))}}]),n}(d.Component);t.default=b},527:function(e,t,n){var a=n(528);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(a,r);a.locals&&(e.exports=a.locals)},528:function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".select-systems-form .pf-c-form__group{display:grid;grid-template-columns:1fr 2fr;grid-column-gap:30px;grid-column-gap:1.875rem;grid-row-gap:15px;grid-row-gap:.9375rem}\n",""])},529:function(e,t,n){var a=n(530);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(a,r);a.locals&&(e.exports=a.locals)},530:function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".page__remediations .pf-l-page-header .pf-c-content{display:flex;justify-content:space-between}.page__remediations section.pf-c-page-header.pf-c-page__main-section{display:inline-flex;justify-content:space-between}.ins-c-plan-modal .pf-c-modal-box__body>*+*{margin-top:20px;margin-top:1.25rem}\n",""])},532:function(e,t,n){"use strict";var a=n(10),r=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(40)),i=a(n(1)),o=n(19),u=r(n(0)),s=n(14),c=a(n(37)),d=n(64),f=r(n(533)),m=r(n(561)),p=r(n(570)),E=n(116),y=n(85),g=n(572),b=r(n(104)),v=r(n(587)),_=r(n(588)),h=r(n(590)),S=r(n(240)),R=r(n(9)),k=r(n(97));n(164);var O=n(55),T=n(56),P=n(93),I=n(49),C=n(67),x=n(50),N=n(46),w=n(47),D=n(100),A=n(82),j=n(77),L=n(78),B=n(8),M=n(42),F=n(41),U=n(160),Y=n(161),z=n(162),H=n(236),G=n(237),V=n(18),q=r(n(597)),K=r(n(79)),W=r(n(601)),J=n(52);n(604);var Q=r(n(606)),X=function(e){var t=e.match,n=e.location,a=e.selectedRemediation,r=e.selectedRemediationStatus,u=e.history,s=e.loadRemediation,c=e.loadRemediationStatus,b=e.switchAutoReboot,X=e.playbookRuns,$=e.getPlaybookRuns,Z=t.params.id,ee=(0,i.useState)("dismissed"!==localStorage.getItem("remediations:bannerStatus")),te=(0,l.default)(ee,2),ne=te[0],ae=te[1],re=(0,i.useState)(n.search.includes("?activity")?1:0),le=(0,l.default)(re,2),ie=le[0],oe=le[1],ue=(0,i.useContext)(J.PermissionContext);(0,i.useEffect)((function(){s(Z).catch((function(e){if(!e||!e.response||404!==e.response.status)throw e;u.push("/")})),y.isBeta&&c(Z)}),[]),(0,i.useEffect)((function(){$(Z)}),[$]),(0,i.useEffect)((function(){if(X&&X.length&&"running"===(0,E.normalizeStatus)(X[0].status)){var e=setInterval((function(){return $(Z)}),1e4);return function(){clearInterval(e)}}}),[X]);var se=a.status,ce=a.remediation;if("fulfilled"!==se)return i.default.createElement(q.default,null);var de,fe,me,pe=ce.stats,Ee=pe.systemsWithReboot+pe.systemsWithoutReboot;return!1===ue.permissions.read?i.default.createElement(S.default,null):i.default.createElement(i.default.Fragment,null,i.default.createElement(T.PageHeader,null,i.default.createElement(j.Breadcrumb,null,i.default.createElement(L.BreadcrumbItem,null,i.default.createElement(o.Link,{to:"/"}," Remediations ")),i.default.createElement(L.BreadcrumbItem,{isActive:!0}," ",ce.name," ")),i.default.createElement(D.Level,{className:"ins-c-level"},i.default.createElement(A.LevelItem,null,i.default.createElement(T.PageHeaderTitle,{title:ce.name})),i.default.createElement(A.LevelItem,null,i.default.createElement(M.Split,{gutter:"md"},ue.hasSmartManagement&&ue.permissions.execute&&i.default.createElement(F.SplitItem,null,i.default.createElement(g.ExecutePlaybookButton,{isDisabled:!ue.isReceptorConfigured,remediationId:ce.id})),i.default.createElement(F.SplitItem,null,i.default.createElement(B.Button,{isDisabled:!ce.issues.length,variant:"secondary",onClick:function(){return(0,d.downloadPlaybook)(ce.id)}},"Download playbook")),i.default.createElement(F.SplitItem,null,i.default.createElement(p.default,{remediation:ce})))))),i.default.createElement(O.Main,null,i.default.createElement(N.Stack,{gutter:"md"},!ue.hasSmartManagement&&ne&&i.default.createElement(w.StackItem,null,i.default.createElement(v.default,{onClose:function(){return ae(!1),void localStorage.setItem("remediations:bannerStatus","dismissed")}})),ue.hasSmartManagement&&!ue.isReceptorConfigured&&i.default.createElement(w.StackItem,null,i.default.createElement(Q.default,null)),i.default.createElement(w.StackItem,null,i.default.createElement(I.Card,null,i.default.createElement(C.CardHeader,{className:"ins-m-card__header-bold"},i.default.createElement(V.Title,{headingLevel:"h4",size:"xl"},"Playbook summary")),i.default.createElement(x.CardBody,null,i.default.createElement(U.Flex,{className:"ins-c-playbookSummary",breakpointMods:[{modifier:z.FlexModifiers.column}]},i.default.createElement(U.Flex,{className:"ins-c-playbookSummary__overview"},i.default.createElement(Y.FlexItem,{breakpointMods:[{modifier:z.FlexModifiers["spacer-xl"]}]},i.default.createElement(K.default,{isBold:!0,title:"Total systems"},(me="system",1===(fe=Ee)?"".concat(fe," ").concat(me):"".concat(fe," ").concat(me,"s"))))),X&&function(e){if(e.length){var t=e[0];return i.default.createElement(Y.FlexItem,{breakpointMods:[{modifier:z.FlexModifiers["spacer-xl"]}]},i.default.createElement(K.default,{needsPointer:!0,className:"ins-c-latest-activity",title:"Latest activity"},i.default.createElement(E.StatusSummary,{executorStatus:t.status,counts:t.executors.reduce((function(e,t){return{pending:e.pending+t.counts.pending,running:e.running+t.counts.running,success:e.success+t.counts.success,failure:e.failure+t.counts.failure,canceled:e.canceled+t.counts.canceled,acked:e.acked+t.counts.acked}}),{pending:0,running:0,success:0,failure:0,canceled:0,acked:0}),permission:{}}),i.default.createElement("span",{className:"ins-c-latest-activity__date"},i.default.createElement(P.DateFormat,{type:"relative",date:t.updated_at})),i.default.createElement(o.Link,{to:"/".concat(t.remediation_id,"/").concat(t.id)},"View")))}}(X),i.default.createElement(K.default,{className:"ins-c-playbookSummary__settings",title:"Playbook settings"},i.default.createElement(U.Flex,null,i.default.createElement(Y.FlexItem,{className:(0,R.default)("ins-c-reboot-status",{"ins-c-reboot-status__enabled":ce.auto_reboot&&ce.needs_reboot},{"ins-c-reboot-status__disabled":!ce.auto_reboot}),breakpointMods:[{modifier:z.FlexModifiers["spacer-xl"]}]},"Auto reboot: ",i.default.createElement("b",null,function(e,t){return t?e?"Enabled":"Disabled":"Not required"}(ce.auto_reboot,ce.needs_reboot))),i.default.createElement(Y.FlexItem,null,(de=pe.systemsWithReboot,"".concat(de," system").concat(1===de?"":"s"," require").concat(1===de?"s":""," reboot"))))),ce.needs_reboot&&ue.permissions.write&&i.default.createElement(B.Button,{variant:"link",onClick:function(){return e=!ce.auto_reboot,void b(Z,e);var e}},"Turn ",ce.auto_reboot&&ce.needs_reboot?"off":"on"," auto reboot"))))),i.default.createElement(w.StackItem,{className:"ins-c-playbookSummary__tabs"},i.default.createElement(H.Tabs,{activeKey:ie,onSelect:function(e,t){oe(t),u.push(1===t?"?activity":"?issues")}},i.default.createElement(G.Tab,{eventKey:0,title:"Actions"},i.default.createElement(f.default,{remediation:ce,status:r})),i.default.createElement(G.Tab,{eventKey:1,title:"Activity"},function(e,t,n,a){return t?e?Array.isArray(n)&&n.length?i.default.createElement(m.default,{remediation:a,playbookRuns:n}):Array.isArray(n)&&!n.length?i.default.createElement(W.default,null):i.default.createElement(k.default,null):i.default.createElement(_.default,null):i.default.createElement(h.default,null)}(ue.hasSmartManagement,ue.isReceptorConfigured,X,ce)))))))};X.propTypes={match:u.default.shape({params:u.default.shape({id:u.default.string.isRequired})}).isRequired,location:u.default.object,selectedRemediation:u.default.object,selectedRemediationStatus:u.default.object,history:u.default.object.isRequired,loadRemediation:u.default.func.isRequired,loadRemediationStatus:u.default.func.isRequired,switchAutoReboot:u.default.func.isRequired,deleteRemediation:u.default.func.isRequired,executePlaybookBanner:u.default.shape({isVisible:u.default.bool}),addNotification:u.default.func.isRequired,playbookRuns:u.default.array,getPlaybookRuns:u.default.func};var $=(0,o.withRouter)((0,s.connect)((function(e){var t=e.selectedRemediation;return{selectedRemediation:t,selectedRemediationStatus:e.selectedRemediationStatus,executePlaybookBanner:e.executePlaybookBanner,playbookRuns:e.playbookRuns.data,remediation:t.remediation}}),(function(e){return{loadRemediation:function(t){return e(c.loadRemediation(t))},loadRemediationStatus:function(t){return e(c.loadRemediationStatus(t))},switchAutoReboot:function(t,n){return e(c.patchRemediation(t,{auto_reboot:n}))},deleteRemediation:function(t){return e(c.deleteRemediation(t))},addNotification:function(t){return e((0,b.default)(t))},getPlaybookRuns:function(t){return e(c.getPlaybookRuns(t))}}}))(X));t.default=$},533:function(e,t,n){"use strict";var a=n(10),r=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(13)),i=r(n(59)),o=a(n(1)),u=r(n(0)),s=r(n(129)),c=r(n(241)),d=n(8),f=n(62),m=n(90),p=n(91),E=n(43),y=n(143),g=n(74),b=n(142),v=n(113),_=n(112);n(228);var h=n(540),S=n(551),R=n(85),k=r(n(555)),O=n(230),T=a(n(234));n(559);var P=r(n(115)),I=n(52);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e,t){return t.resolutions_available<=1?t.resolution.description:o.default.createElement(o.default.Fragment,null,t.resolution.description," ",o.default.createElement(h.ConnectResolutionEditButton,{issue:t,remediation:e}))}function N(e){var t=(0,_.buildIssueUrl)(e.id);return t?o.default.createElement("a",{href:t},e.description):e.description}function w(e,t){return o.default.createElement(k.default,{key:e.id,remediation:t,issue:e})}var D=[null,function(e){return e.description},null,function(e){return e.resolution.needs_reboot},function(e){return e.systems.length},function(e){return(0,v.getIssueApplication)(e)}];function A(e){var t=(0,O.usePagination)(),n=(0,O.useSorter)(1,"asc"),a=(0,O.useFilter)(),r=(0,O.useSelector)(),u=(0,o.useContext)(I.PermissionContext);n.onChange(t.reset),a.onChange(t.reset);var _,h=e.remediation.issues.filter((function(e){return(0,v.includesIgnoreCase)(e.description,a.value.trim())})),k=(0,c.default)(h,[D[n.sortBy]],[n.sortDir]).slice(t.offset,t.offset+t.pageSize),A=(0,s.default)(k,(_=e.remediation,function(e){var t;return[{isOpen:!1,id:e.id,cells:[{title:N(e)},{title:x(_,e)},{title:(t=e.resolution.needs_reboot,t?o.default.createElement(P.default,{className:"ins-c-remediations-reboot-check-circle","aria-label":"reboot required"}):"No")},{title:w(e,_)},{title:(0,v.getIssueApplication)(e),props:{className:"ins-m-nowrap"}}]}]}));r.register(A);var j=r.getSelectedIds();return o.default.createElement(o.default.Fragment,null,o.default.createElement(g.TableToolbar,{className:"ins-c-remediations-details-table__toolbar"},o.default.createElement(p.ToolbarGroup,null,o.default.createElement(m.ToolbarItem,null,o.default.createElement(y.SimpleTableFilter,(0,i.default)({buttonTitle:"",placeholder:"Search actions"},a.props)))),R.isBeta&&o.default.createElement(p.ToolbarGroup,null,o.default.createElement(m.ToolbarItem,null,o.default.createElement(d.Button,{isDisabled:!0}," Add Action "))),o.default.createElement(p.ToolbarGroup,null,o.default.createElement(m.ToolbarItem,null,u.permissions.write&&o.default.createElement(S.DeleteActionsButton,{variant:"secondary",isDisabled:!j.length,remediation:e.remediation,issues:j,afterDelete:r.reset}))),o.default.createElement(f.Pagination,(0,i.default)({variant:"top",dropDirection:"down",itemCount:h.length},t.props,T.pagination))),A.length>0?o.default.createElement(E.Table,(0,i.default)({variant:E.TableVariant.compact,"aria-label":"Actions",className:"ins-c-remediations-details-table",cells:[{title:"Actions",transforms:[E.sortable]},{title:"Resolution"},{title:"Reboot required",transforms:[E.sortable]},{title:"Systems",transforms:[E.sortable]},{title:"Type",transforms:[E.sortable]}],rows:A},n.props,u.permissions.write&&function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.props)),o.default.createElement(E.TableHeader,null),o.default.createElement(E.TableBody,r.tbodyProps)):a.value?o.default.createElement(b.EmptyTable,{centered:!0,className:"ins-c-remediation-details-table--empty"},"No Actions found"):o.default.createElement(b.EmptyTable,{centered:!0,className:"ins-c-remediation-details-table--empty"},"This Playbook is empty"),A.length>0&&o.default.createElement(g.TableToolbar,{isFooter:!0},o.default.createElement(f.Pagination,(0,i.default)({variant:"bottom",dropDirection:"up",itemCount:h.length},t.props,T.pagination))))}A.propTypes={remediation:u.default.object.isRequired,status:u.default.object.isRequired};var j=A;t.default=j},540:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectResolutionEditButton=void 0;var r=a(n(32)),l=a(n(33)),i=n(37),o=n(14),u=a(n(541)),s=(0,o.connect)((function(e){return e}),(function(e){return{onResolutionSelected:(t=(0,l.default)(r.default.mark((function t(n,a,l){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e((0,i.patchRemediationIssue)(n,a,l));case 2:e((0,i.refreshRemediation)(n));case 3:case"end":return t.stop()}}),t)}))),function(e,n,a){return t.apply(this,arguments)}),getResolutions:function(t){return e((0,i.getResolutions)(t))}};var t}))(u.default);t.ConnectResolutionEditButton=s},541:function(e,t,n){"use strict";var a=n(10),r=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(34)),i=r(n(53)),o=r(n(54)),u=r(n(35)),s=r(n(36)),c=r(n(28)),d=r(n(13)),f=a(n(1)),m=r(n(0)),p=n(203),E=r(n(542));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var g=function(e){(0,u.default)(n,e);var t=y(n);function n(e){var a;return(0,l.default)(this,n),a=t.call(this,e),(0,d.default)((0,o.default)(a),"setOpen",(function(e){return a.setState({open:e})})),(0,d.default)((0,o.default)(a),"openModal",(function(){return a.setOpen(!0)})),(0,d.default)((0,o.default)(a),"onModalClose",(function(e){a.setOpen(!1);var t=a.props,n=t.remediation,r=t.issue,l=t.onResolutionSelected,i=a.resolutionStep.getSelectedResolution();e&&r.resolution.id!==i.id&&l(n.id,r.id,i.id)})),a.state={open:!1},a}return(0,i.default)(n,[{key:"render",value:function(){var e=this,t=this.state.open;return f.default.createElement(f.default.Fragment,null,f.default.createElement("a",{onClick:this.openModal},"Edit"),t&&f.default.createElement(p.Wizard,{isLarge:!0,title:"Edit resolution",className:"ins-c-resolution-modal",confirmAction:"Save",onClose:this.onModalClose,isOpen:!0,content:[f.default.createElement(E.default,{key:"ResolutionStep",issue:this.props.issue,ref:function(t){return e.resolutionStep=t},getResolutions:this.props.getResolutions})]}))}}]),n}(f.Component);g.propTypes={remediation:m.default.object.isRequired,issue:m.default.object.isRequired,onResolutionSelected:m.default.func.isRequired,getResolutions:m.default.func.isRequired};var b=g;t.default=b},542:function(e,t,n){"use strict";var a=n(10),r=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(32)),i=r(n(33)),o=r(n(34)),u=r(n(53)),s=r(n(54)),c=r(n(35)),d=r(n(36)),f=r(n(28)),m=r(n(13)),p=a(n(1)),E=r(n(0)),y=n(157),g=n(543),b=n(111),v=n(42),_=n(41),h=n(46),S=n(47),R=n(547),k=n(58);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}n(549);var T=function(e){(0,c.default)(a,e);var t,n=O(a);function a(e){var t;return(0,o.default)(this,a),t=n.call(this,e),(0,m.default)((0,s.default)(t),"onRadioChange",(function(e){t.setState({selected:e})})),(0,m.default)((0,s.default)(t),"getSelectedResolution",(function(){return t.state.selected})),t.issue=e.issue,t.state={selected:e.issue.resolution,resolutions:!1},t}return(0,u.default)(a,[{key:"componentDidMount",value:(t=(0,i.default)(l.default.mark((function e(){var t;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getResolutions(this.issue.id);case 2:t=e.sent,this.setState({resolutions:t.value});case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e,t=this,n=this.state,a=n.resolutions,r=n.selected;return e=a?p.default.createElement(p.default.Fragment,null,p.default.createElement(S.StackItem,null,p.default.createElement(y.Form,null,a.resolutions.map((function(e){return p.default.createElement("div",{className:"ins-c-resolution-option",key:e.id},p.default.createElement(b.Radio,{label:p.default.createElement(h.Stack,{className:"ins-c-resolution-choice__details"},p.default.createElement(S.StackItem,null,e.description),e.needs_reboot&&p.default.createElement(S.StackItem,null," ",p.default.createElement(R.Reboot,{red:!0})," ")),"aria-label":e.description,id:e.id,name:"radio",defaultChecked:e.id===r.id,onChange:function(){return t.onRadioChange(e)}}))}))))):p.default.createElement(p.default.Fragment,null,p.default.createElement(S.StackItem,null,p.default.createElement(k.Skeleton,null)),p.default.createElement(S.StackItem,null,p.default.createElement(k.Skeleton,null)),p.default.createElement(S.StackItem,null,p.default.createElement(k.Skeleton,null))),p.default.createElement(h.Stack,{gutter:"sm"},p.default.createElement(S.StackItem,null,p.default.createElement("div",null,"Select resolution for this action.")),p.default.createElement(S.StackItem,null,p.default.createElement(v.Split,{gutter:"sm"},p.default.createElement(_.SplitItem,null,p.default.createElement(g.Label,null,"Action")),p.default.createElement(_.SplitItem,{isFilled:!0},p.default.createElement("h1",{className:"ins-m-text__bold"},this.issue.description)))),e)}}]),a}(p.Component);T.propTypes={issue:E.default.object.isRequired,getResolutions:E.default.func.isRequired};var P=T;t.default=P},549:function(e,t,n){var a=n(550);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(a,r);a.locals&&(e.exports=a.locals)},550:function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".ins-c-resolution-modal .ins-c-resolution-choice__details{margin-left:5px;margin-left:.3125rem}.ins-c-resolution-modal .ins-c-resolution-option .pf-c-check{align-items:baseline}.ins-c-resolution-modal .ins-m-text__bold{font-weight:500}.ins-c-resolution-modal .pf-c-label{background:var(--pf-global--Color--200)}\n",""])},551:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteActionsButton=t.DeleteRemediationsButton=void 0;var r=a(n(32)),l=a(n(33)),i=n(37),o=n(14),u=n(19),s=n(85),c=a(n(552)),d=(0,u.withRouter)((0,o.connect)((function(e,t){var n=t.remediations;return{dialogMessage:"You will not be able to recover ".concat(n.length>1?"these remediations":"this remediation")}}),(function(e,t){var n,a=t.remediations;return{onDelete:(n=(0,l.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(a.map((function(t){return e((0,i.deleteRemediation)(t))})));case 2:e((0,i.loadRemediations)());case 3:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})}}))(c.default));t.DeleteRemediationsButton=d;var f=(0,u.withRouter)((0,o.connect)((function(e,t){var n=t.issues;return{label:"Remove action".concat(n.length>1?"s":"")}}),(function(e,t){var n,a=t.remediation,o=t.issues,u=t.afterDelete;return{onDelete:(n=(0,l.default)(r.default.mark((function t(){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(o.map((function(t){return e((0,i.deleteRemediationIssue)(a.id,t))})));case 2:s.isBeta&&e((0,i.loadRemediationStatus)(a.id)),u();case 4:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})}}))(c.default));t.DeleteActionsButton=f},552:function(e,t,n){"use strict";var a=n(10),r=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(34)),i=r(n(53)),o=r(n(54)),u=r(n(35)),s=r(n(36)),c=r(n(28)),d=r(n(13)),f=a(n(1)),m=r(n(0)),p=n(8),E=r(n(96));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}n(553);var g=function(e){(0,u.default)(n,e);var t=y(n);function n(){var e;(0,l.default)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r)),(0,d.default)((0,o.default)(e),"state",{dialogOpen:!1}),(0,d.default)((0,o.default)(e),"onButtonClicked",(function(){e.setState({dialogOpen:!0})})),(0,d.default)((0,o.default)(e),"onDialogClose",(function(t){e.setState({dialogOpen:!1}),t&&e.props.onDelete()})),e}return(0,i.default)(n,[{key:"render",value:function(){var e=this.state.dialogOpen;return f.default.createElement(f.default.Fragment,null,f.default.createElement(p.Button,{onClick:this.onButtonClicked,isDisabled:this.props.isDisabled,variant:this.props.variant},this.props.label),e&&f.default.createElement(E.default,{text:this.props.dialogMessage,onClose:this.onDialogClose}))}}]),n}(f.Component);g.propTypes={label:m.default.string,dialogMessage:m.default.string,isDisabled:m.default.bool,onDelete:m.default.func.isRequired,variant:m.default.string},g.defaultProps={label:"Delete",variant:"link"};var b=g;t.default=b},553:function(e,t,n){var a=n(554);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(a,r);a.locals&&(e.exports=a.locals)},554:function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".pf-c-button.pf-m-link.ins-c-button__danger-link{--pf-c-button--m-link--Color: var(--pf-c-button--m-danger--BackgroundColor)}.pf-c-button.pf-m-link.ins-c-button__danger-link:hover,.pf-c-button.pf-m-link.ins-c-button__danger-link.pf-m-hover{--pf-c-button--m-link--Color: var(--pf-c-button--m-danger--hover--BackgroundColor)}.pf-c-button.pf-m-link.ins-c-button__danger-link:active,.pf-c-button.pf-m-link.ins-c-button__danger-link.pf-m-active{--pf-c-button--m-link--Color: var(--pf-c-button--m-danger--active--BackgroundColor)\n    }.pf-c-button.pf-m-link.ins-c-button__danger-link:focus,.pf-c-button.pf-m-link.ins-c-button__danger-link.pf-m-focus{--pf-c-button--m-link--Color: var(--pf-c-button--m-danger--focus--BackgroundColor)}.pf-c-button.pf-m-link.ins-c-button__danger-link:disabled,.pf-c-button.pf-m-link.ins-c-button__danger-link.pf-m-disabled{background-color:var(--pf-c-button--m-link--disabled--BackgroundColor)}\n",""])},555:function(e,t,n){"use strict";var a=n(10),r=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(32)),i=r(n(13)),o=r(n(33)),u=r(n(40)),s=a(n(1)),c=a(n(43)),d=a(n(19)),f=n(14),m=r(n(241)),p=r(n(0)),E=n(8),y=n(72),g=n(90),b=n(91),v=n(123),_=n(74),h=n(242),S=n(112),R=r(n(125)),k=r(n(556)),O=r(n(96)),T=n(37),P=n(113);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(557);var x=function(e){var t=e.issue,n=e.remediation,a=e.onDelete,r=(0,s.useState)(!1),i=(0,u.default)(r,2),p=i[0],T=i[1],I=(0,s.useState)(),x=(0,u.default)(I,2),N=x[0],w=x[1],D=(0,s.useState)(!1),A=(0,u.default)(D,2),j=A[0],L=A[1],B=(0,s.useState)({}),M=(0,u.default)(B,2),F=M[0],U=M[1],Y=(0,s.useState)(1),z=(0,u.default)(Y,2),H=z[0],G=z[1],V=(0,s.useState)(50),q=(0,u.default)(V,2),K=q[0],W=q[1],J=(0,s.useState)(""),Q=(0,u.default)(J,2),X=Q[0],$=Q[1],Z=(0,s.useRef)(null),ee=(0,f.useStore)(),te=function(e,t){return function(n){return s.default.createElement(k.default,{remediation:e,issue:t,system:n})}},ne=(0,S.inventoryUrlBuilder)(t),ae=function(){var e=(0,o.default)(l.default.mark((function e(){var a,r,i,o,u,f;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.loadInventory({react:s.default,reactRouterDom:d,pfReactTable:c});case 2:a=e.sent,r=a.inventoryConnector,i=a.mergeWithEntities,o=a.INVENTORY_ACTION_TYPES,(0,v.getRegistry)().register(C({},i(R.default.inventoryEntitiesReducer({INVENTORY_ACTION_TYPES:o,detailDropdown:te(n,t),urlBuilder:ne})()))),u=r(ee),f=u.InventoryTable,w((function(){return f}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){j&&Z&&!Z.current&&ae()}),[j]);return s.default.createElement(s.default.Fragment,null,s.default.createElement(E.Button,{variant:"link",onClick:function(){return L(!0)}},t.systems.length),s.default.createElement(y.Modal,{className:"ins-c-dialog",width:"50%",title:"System".concat(t.systems.length>1?"s":""," for action ").concat(t.description),isOpen:j,onClose:function(){return L(!1)},isFooterLeftAligned:!0},s.default.createElement("div",{className:"ins-c-toolbar__filter"},N&&s.default.createElement(N,{ref:Z,items:(0,m.default)(t.systems.filter((function(e){return(0,P.getSystemName)(e).includes(X)})),[function(e){return(0,P.getSystemName)(e)},function(e){return e.id}]),onRefresh:function(e){Z&&Z.current&&(G(e.page),W(e.per_page),Z.current.onRefreshData(e))},page:H,total:t.systems.length,perPage:K,hasCheckbox:!1,actions:[{title:" Remove system",onClick:function(e,t,n){U(n),T(!0)}}]},s.default.createElement(_.TableToolbar,null,s.default.createElement(b.ToolbarGroup,null,s.default.createElement(g.ToolbarItem,null,s.default.createElement(h.ConditionalFilter,{items:[{value:"display_name",label:"Name",filterValues:{placeholder:"Filter by name",type:h.conditionalFilterType.text,value:X,onChange:function(e,t){return $(t)}}}]}))))))),s.default.createElement(O.default,{isOpen:p,text:"Removing the system ".concat((0,P.getSystemName)(F)," from the action ").concat(t.description,"\n                    will remove this system’s remediation from the playbook."),onClose:function(e){T(!1),e&&a(n.id,t.id,F.id)}}))};x.propTypes={issue:p.default.object.isRequired,remediation:p.default.object.isRequired,onDelete:p.default.func},x.defaultProps={};var N=d.withRouter((0,f.connect)(null,(function(e){return{onDelete:function(t,n,a){return e((0,T.deleteRemediationIssueSystem)(t,n,a))}}}))(x));t.default=N},556:function(e,t,n){"use strict";var a=n(10),r=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(40)),i=a(n(1)),o=r(n(0)),u=n(14),s=n(19),c=n(8),d=n(44),f=n(11),m=n(61),p=r(n(96)),E=n(37),y=n(113);function g(e){var t=e.remediation,n=e.issue,a=e.system,r=e.onDelete,o=(0,i.useState)(!1),u=(0,l.default)(o,2),s=u[0],E=u[1],g=(0,i.useState)(!1),b=(0,l.default)(g,2),v=b[0],_=b[1];return i.default.createElement(i.default.Fragment,null,i.default.createElement(p.default,{isOpen:v,text:"This playbook will not address ".concat(n.description," on ").concat((0,y.getSystemName)(a)),onClose:function(e){_(!1),e&&r(t.id,n.id,a.id)}}),i.default.createElement(d.Dropdown,{onSelect:function(e){return e},toggle:i.default.createElement(m.KebabToggle,{onToggle:function(){return E((function(e){return!e}))}}),isOpen:s,position:f.DropdownPosition.right,isPlain:!0},i.default.createElement(c.Button,{onClick:function(){return _(!0)},variant:"link"},"Remove system")))}g.propTypes={remediation:o.default.object.isRequired,issue:o.default.object.isRequired,system:o.default.object.isRequired,onDelete:o.default.func.isRequired};var b=(0,s.withRouter)((0,u.connect)(null,(function(e){return{onDelete:function(t,n,a){return e((0,E.deleteRemediationIssueSystem)(t,n,a))}}}))(g));t.default=b},557:function(e,t,n){var a=n(558);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(a,r);a.locals&&(e.exports=a.locals)},558:function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".ins-c-toolbar__filter .ins-c-primary-toolbar{padding:0}.ins-c-toolbar__filter .ins-c-table__toolbar{padding-left:0;padding-right:0}.ins-c-toolbar__filter .ins-c-tag-count{padding:0}\n",""])},559:function(e,t,n){var a=n(560);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(a,r);a.locals&&(e.exports=a.locals)},560:function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".ins-c-remediation-details-table--empty{text-align:center}.ins-c-remediations-details-table-systems-table{table-layout:fixed}.ins-c-remediations-details-table-systems-table thead tr th:nth-child(2){width:72px;width:4.5rem}.ins-c-remediations-reboot-check-circle{fill:var(--pf-global--success-color--200)}\n",""])},561:function(e,t,n){"use strict";var a=n(10),r=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(13)),i=r(n(105)),o=r(n(40)),u=a(n(1)),s=n(19),c=r(n(0)),d=n(43),f=n(93),m=n(116),p=n(52);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(568);var g=function(e){var t=e.remediation,n=e.playbookRuns,a=(0,u.useState)([]),r=(0,o.default)(a,2),l=r[0],c=r[1],E=(0,u.useContext)(p.PermissionContext);(0,u.useEffect)((function(){n&&n.length&&c((function(){return function(e){return e.reduce((function(e,n,a){return[].concat((0,i.default)(e),[{isOpen:!1,cells:[{title:u.default.createElement(s.Link,{to:"/".concat(t.id,"/").concat(n.id)},u.default.createElement(f.DateFormat,{type:"exact",date:n.created_at})),cellFormatters:[d.expandable]},"".concat(n.created_by.first_name," ").concat(n.created_by.last_name),{title:u.default.createElement(m.StatusSummary,{executorStatus:(0,m.normalizeStatus)(n.status),counts:n.executors.reduce((function(e,t){return{pending:e.pending+t.counts.pending,running:e.running+t.counts.running,success:e.success+t.counts.success,failure:e.failure+t.counts.failure,canceled:e.canceled+t.counts.canceled,acked:e.acked+t.counts.acked}}),{pending:0,running:0,success:0,failure:0,canceled:0,acked:0}),hasCancel:!0,remediationName:t.name,remediationId:t.id,playbookId:n.id,permission:E})}]},{parent:2*a,fullWidth:!0,cells:[{title:u.default.createElement(d.Table,{"aria-label":"Compact expandable table",cells:["Connection","Systems","Playbook run status"],rows:n.executors.map((function(e){return{cells:[{title:u.default.createElement(s.Link,{to:"/".concat(t.id,"/").concat(n.id,"/").concat(e.executor_id)},e.executor_name)},e.system_count,{title:u.default.createElement(m.StatusSummary,{executorStatus:(0,m.normalizeStatus)(e.status),counts:e.counts,permission:E})}]}}))},u.default.createElement(d.TableHeader,null),u.default.createElement(d.TableBody,null))}]}])}),[])}(n)}))}),[n]);return u.default.createElement(d.Table,{className:"ins-c-activity-table","aria-label":"Collapsible table",onCollapse:function(e,t,n){var a=(0,i.default)(l);a[t]=y(y({},a[t]),{},{isOpen:n}),c(a)},rows:l,cells:["Run on","Run by","Status"]},u.default.createElement(d.TableHeader,null),u.default.createElement(d.TableBody,null))};g.propTypes={remediation:c.default.object,playbookRuns:c.default.array};var b=g;t.default=b},564:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.WarningModal=void 0;var r=a(n(1)),l=a(n(0)),i=n(72),o=n(8),u=n(18),s=a(n(153));n(565);var c=function(e){var t=e.isOpen,n=e.onModalCancel,a=e.onConfirmCancel;return r.default.createElement(i.Modal,{header:r.default.createElement(u.Title,{headingLevel:"h1",size:"2xl",className:"ins-c-modal__cancel-run-warning-header"},r.default.createElement(s.default,{size:"md",className:"ins-c-modal__cancel-run-warning-header--icon"}),"Cancel remediation process"),title:"Cancel remediation process",hideTitle:!0,isSmall:!0,className:"ins-c-modal__cancel-run-warning",isOpen:t,onClose:n,actions:[r.default.createElement(o.Button,{key:"confirm",variant:"danger",onClick:a},"Cancel playbook process"),r.default.createElement(o.Button,{key:"cancel",variant:"link",onClick:n},"Cancel")],isFooterLeftAligned:!0},r.default.createElement("span",null,"Canceling a running playbook process only affects pending and running tasks. It does not affect any previously succeeded or failed tasks that have already run."))};t.WarningModal=c,c.propTypes={type:l.default.string,isOpen:l.default.bool,onModalCancel:l.default.func,onConfirmCancel:l.default.func}},565:function(e,t,n){var a=n(566);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(a,r);a.locals&&(e.exports=a.locals)},566:function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".ins-c-modal__cancel-run-warning-header{display:flex;align-items:center}.ins-c-modal__cancel-run-warning-header--icon{fill:var(--pf-global--warning-color--100);margin-right:var(--pf-global--spacer--md)}\n",""])},567:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.capitalize=function(e){return"".concat(e.charAt(0).toUpperCase()+e.slice(1))}},568:function(e,t,n){var a=n(569);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(a,r);a.locals&&(e.exports=a.locals)},569:function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".ins-c-activity-table .pf-c-table__expandable-row th{padding-top:24px}.ins-c-activity-table .ins-c-remediations-status-bar{max-width:max-content}\n",""])},570:function(e,t,n){"use strict";var a=n(10),r=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(32)),i=r(n(33)),o=r(n(40)),u=a(n(1)),s=r(n(0)),c=n(14),d=n(19),f=n(8),m=n(44),p=n(11),E=n(61),y=r(n(571)),g=r(n(96)),b=n(37),v=n(52),_=/^$|^.*[\w\d]+.*$/;function h(e){var t=e.remediation,n=e.onRename,a=e.onDelete,r=(0,u.useState)(!1),l=(0,o.default)(r,2),i=l[0],s=l[1],c=(0,u.useState)(!1),d=(0,o.default)(c,2),b=d[0],h=d[1],S=(0,u.useState)(!1),R=(0,o.default)(S,2),k=R[0],O=R[1],T=(0,u.useContext)(v.PermissionContext);return u.default.createElement(u.default.Fragment,null,b&&u.default.createElement(y.default,{title:"Edit Playbook name",ariaLabel:"Playbook name",value:t.name,onCancel:function(){return h(!1)},onSubmit:function(e){h(!1),n(t.id,e)},pattern:_}),u.default.createElement(g.default,{isOpen:k,text:"You will not be able to recover this Playbook",onClose:function(e){O(!1),e&&a(t.id)}}),T.permissions.write&&u.default.createElement(m.Dropdown,{onSelect:function(e){return e},toggle:u.default.createElement(E.KebabToggle,{onToggle:function(){return s((function(e){return!e}))}}),isOpen:i,position:p.DropdownPosition.right,isPlain:!0},u.default.createElement(f.Button,{onClick:function(){return h(!0)},variant:"link"},"Rename"),u.default.createElement(f.Button,{className:" ins-c-button__danger-link",onClick:function(){return O(!0)},variant:"link"},"Delete")))}h.propTypes={remediation:s.default.object.isRequired,onRename:s.default.func.isRequired,onDelete:s.default.func.isRequired};var S=(0,d.withRouter)((0,c.connect)(null,(function(e,t){var n,a=t.history;return{onRename:function(t,n){n||(n="Unnamed Playbook"),e((0,b.patchRemediation)(t,{name:n}))},onDelete:(n=(0,i.default)(l.default.mark((function t(n){return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e((0,b.deleteRemediation)(n));case 2:a.push("/");case 3:case"end":return t.stop()}}),t)}))),function(e){return n.apply(this,arguments)})}}))(h));t.default=S},571:function(e,t,n){"use strict";var a=n(10),r=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var l=r(n(40)),i=a(n(1)),o=r(n(0)),u=n(8),s=n(158),c=n(72),d=n(92);function f(e){var t=(0,i.useState)(e.value||""),n=(0,l.default)(t,2),a=n[0],r=n[1],o=(0,i.useState)(!0),f=(0,l.default)(o,2),m=f[0],p=f[1],E=e.title,y=e.onCancel,g=e.onSubmit,b=e.ariaLabel,v=e.className;return i.default.createElement(c.Modal,{title:E,isOpen:!0,onClose:function(e){return y(e)},actions:[i.default.createElement(u.Button,{key:"cancel",variant:"secondary",onClick:y},"Cancel"),i.default.createElement(u.Button,{key:"confirm",variant:"primary",onClick:function(){return g(a)},isDisabled:!m},"Save")],isSmall:!0,className:v},i.default.createElement(s.FormGroup,{fieldId:"remediation-name",helperTextInvalid:"Playbook name has to contain alphanumeric characters",isValid:m},i.default.createElement(d.TextInput,{value:a,type:"text",onChange:function(t){r(t),e.pattern&&p(e.pattern.test(t))},"aria-label":b||"input text",autoFocus:!0,isValid:m})))}f.propTypes={title:o.default.string.isRequired,onCancel:o.default.func,onSubmit:o.default.func,ariaLabel:o.default.string,value:o.default.string,className:o.default.string,pattern:o.default.instanceOf(RegExp)}},572:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.ExecutePlaybookButton=void 0;var r=n(14),l=n(19),i=n(37),o=a(n(573)),u=(0,l.withRouter)((0,r.connect)((function(e){var t=e.connectionStatus,n=t.data,a=t.status,r=t.etag,l=e.selectedRemediation,i=e.runRemediation;return{data:n,isLoading:"fulfilled"!==a,issueCount:l.remediation.issues.length,etag:r,remediationStatus:i.status}}),(function(e){return{getConnectionStatus:function(t){e((0,i.getConnectionStatus)(t))},runRemediation:function(t,n){e((0,i.runRemediation)(t,n)).then((function(){return e((0,i.getPlaybookRuns)(t))}))},setEtag:function(t){e((0,i.setEtag)(t))}}}))(o.default));t.ExecutePlaybookButton=u},573:function(e,t,n){"use strict";var a=n(10),r=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(105)),i=r(n(40)),o=a(n(1)),u=r(n(0)),s=n(64),c=n(8),d=n(72),f=n(102),m=n(70),p=n(80),E=n(88),y=n(43),g=r(n(115)),b=r(n(163)),v=n(58);n(585);var _=function(e){var t=e.isLoading,n=e.isDisabled,a=e.data,r=e.getConnectionStatus,u=e.remediationId,_=e.issueCount,h=e.runRemediation,S=e.etag,R=e.remediationStatus,k=e.setEtag,O=(0,o.useState)(!1),T=(0,i.default)(O,2),P=T[0],I=T[1],C=(0,o.useState)(!1),x=(0,i.default)(C,2),N=x[0],w=x[1],D=(0,o.useState)(!1),A=(0,i.default)(D,2),j=A[0],L=A[1];(0,o.useEffect)((function(){window.insights.chrome.auth.getUser().then((function(e){return w(e.entitlements.smart_management.is_entitled)}))}),[]),(0,o.useEffect)((function(){"changed"===R?(r(u),L(!0)):"fulfilled"===R&&I(!1)}),[R]);var B=a.reduce((function(e,t){var n=(0,i.default)(e,2),a=n[0],r=n[1];return"connected"===t.connection_status?[[].concat((0,l.default)(a),[t]),r]:[a,[].concat((0,l.default)(r),[t])]}),[[],[]]),M=(0,i.default)(B,2),F=M[0],U=M[1],Y=[].concat((0,l.default)(F),(0,l.default)(U)).map((function(e){return{cells:[{title:e.executor_name?o.default.createElement(E.Tooltip,{content:"".concat(e.executor_name)},o.default.createElement("span",null,e.executor_name.length>25?"".concat(e.executor_name.slice(0,22),"..."):e.executor_name)):"Direct connection"},e.system_count,N&&{title:(t=e.connection_status,{connected:o.default.createElement(f.TextContent,null,o.default.createElement(m.Text,{component:m.TextVariants.p},o.default.createElement(g.default,{className:"ins-c-remediations-reboot-check-circle ins-c-remediations-connection-status","aria-label":"connection status"}),"Ready")),disconnected:o.default.createElement(f.TextContent,null,o.default.createElement(m.Text,{component:m.TextVariants.p},"Connection issue",o.default.createElement(m.Text,{component:m.TextVariants.small,style:{margin:"0px"}},"Receptor not responding"))),no_executor:o.default.createElement(f.TextContent,null,o.default.createElement(m.Text,{component:m.TextVariants.p},"Cannot remediate - Direct connection.",o.default.createElement(m.Text,{component:m.TextVariants.small,style:{margin:"0px"}},"Connect your systems to Satellite to automatically remediate."),o.default.createElement(c.Button,{style:{padding:"0px"},key:"download",variant:"link",component:"a",href:"https://access.redhat.com/documentation/en-us/red_hat_insights/2020-04/html/remediating_issues_across_your_red_hat_satellite_infrastructure_using_red_hat_insights/configuring-your-satellite-infrastructure-to-communicate-with-insights"},"Learn how to connect"))),no_source:o.default.createElement(f.TextContent,null,o.default.createElement(m.Text,{component:m.TextVariants.p},"Cannot remediate - Satellite not configured",o.default.createElement(m.Text,{component:m.TextVariants.small,style:{margin:"0px"}},"Satellite not registered for Playbook execution"))),no_receptor:o.default.createElement(f.TextContent,null,o.default.createElement(m.Text,{component:m.TextVariants.p},o.default.createElement(b.default,{className:"ins-c-remediations-failure ins-c-remediations-connection-status","aria-label":"connection status"}),"Cannot remediate - Receptor not configured",o.default.createElement(m.Text,{component:m.TextVariants.small,style:{margin:"0px"}},"Configure Receptor to automatically remediate"),o.default.createElement(c.Button,{style:{padding:"0px"},key:"configure",variant:"link",onClick:function(){return console.log("TODO: add link")}},"Learn how to configure")))}[t])}]};var t})),z=F.reduce((function(e,t){return t.system_count+e}),0),H=a.reduce((function(e,t){return t.system_count+e}),0),G=function(e,t){return e>1?"".concat(e," ").concat(t,"s"):"".concat(e," ").concat(t)};return N?o.default.createElement(o.default.Fragment,null,o.default.createElement(c.Button,{isDisabled:n,onClick:function(){I(!0),r(u)}},"Execute playbook"),o.default.createElement(d.Modal,{className:"ins-c-dialog",width:"50%",title:"Execute playbook",isOpen:P,onClose:function(){L(!1),I(!1)},isFooterLeftAligned:!0,actions:[o.default.createElement(c.Button,{key:"confirm",variant:"primary",isDisabled:0===F.length,onClick:function(){h(u,S)}},t?"Execute playbook":"Execute playbook on ".concat(G(z,"system"))),o.default.createElement(c.Button,{key:"download",variant:"secondary",onClick:function(){return(0,s.downloadPlaybook)(u)}},"Download playbook"),"true"===localStorage.getItem("remediations:debug")?o.default.createElement(c.Button,{key:"reset-etag",onClick:function(){return k("test")}},"Reset etag"):null]},o.default.createElement("div",null,j?o.default.createElement(p.Alert,{variant:"warning",isInline:!0,title:"The connection status of systems associated with this Playbook has changed. Please review again."}):null,o.default.createElement(f.TextContent,null,t?o.default.createElement(v.Skeleton,{size:"lg"}):o.default.createElement(m.Text,{component:m.TextVariants.p},"Playbook contains ",o.default.createElement("b",null,"".concat(G(_,"action")))," affecting",o.default.createElement("b",null,"  ","".concat(G(H,"system"),".")," ")),o.default.createElement(m.Text,{component:m.TextVariants.p},"Systems connected to a Satellite instance and configured with Receptor can be automatically remediated. To remediate other systems, download the Ansible Playbook."),o.default.createElement(m.Text,{component:m.TextVariants.h4},"Connection status of systems")),t?o.default.createElement(v.Skeleton,{size:"lg"}):o.default.createElement(y.Table,{variant:y.TableVariant.compact,"aria-label":"Systems",cells:[{title:"Connection type",value:"type"},{title:"Systems",value:"count"},N&&{title:"Connection status",value:"status"}],rows:Y},o.default.createElement(y.TableHeader,null),o.default.createElement(y.TableBody,null))))):null};_.propTypes={isLoading:u.default.bool,data:u.default.array,getConnectionStatus:u.default.func,runRemediation:u.default.func,remediationId:u.default.string,remediationStatus:u.default.string,issueCount:u.default.number,etag:u.default.string,setEtag:u.default.func,isDisabled:u.default.bool},_.defaultProps={data:[],isDisabled:!1};var h=_;t.default=h},585:function(e,t,n){var a=n(586);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(a,r);a.locals&&(e.exports=a.locals)},586:function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".ins-c-remediations-connection-status{margin-right:var(--pf-global--spacer--xs)}.ins-c-remediations-connection-status-error{color:var(--pf-chart-global--danger--Color--100)}\n",""])},587:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(59)),l=a(n(107)),i=a(n(1)),o=a(n(0)),u=n(80),s=n(119),c=n(46),d=n(47),f=function(e){var t=e.onClose,n=(0,l.default)(e,["onClose"]);return i.default.createElement(u.Alert,(0,r.default)({variant:"info",isInline:!0,title:"Put Insights into action",action:i.default.createElement(s.AlertActionCloseButton,{onClose:t})},n),i.default.createElement(c.Stack,{gutter:"md"},i.default.createElement(d.StackItem,null,"Enable push-button remediation across your hybrid cloud environment with Red Hat Smart Management."),i.default.createElement(d.StackItem,null,i.default.createElement("a",{href:"https://www.redhat.com/en/technologies/management/smart-management"},"Learn more"))))},m=f;t.default=m,f.propTypes={onClose:o.default.func},f.defaultProps={onClose:function(){}}},588:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),l=n(8),i=n(65),o=n(66),u=n(87),s=n(18),c=n(86),d=a(n(589)),f=function(){return r.default.createElement(c.Bullseye,null,r.default.createElement(i.EmptyState,null,r.default.createElement(u.EmptyStateIcon,{icon:d.default}),r.default.createElement(s.Title,{headingLevel:"h5",size:"lg"},"Get more with Find it Fix it capabilities"),r.default.createElement(o.EmptyStateBody,null,"Upgrade to Red Hat Smart Management to remediate all your systems, across regions and geographies directly from Red Hat Insights."),r.default.createElement(l.Button,{variant:"link",component:"a",href:"https://www.redhat.com/en/technologies/management/smart-management"},"Learn more")))};t.default=f},590:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),l=n(8),i=n(65),o=n(66),u=n(87),s=n(18),c=n(86),d=a(n(152)),f=function(){return r.default.createElement(c.Bullseye,null,r.default.createElement(i.EmptyState,null,r.default.createElement(u.EmptyStateIcon,{icon:d.default}),r.default.createElement(s.Title,{headingLevel:"h5",size:"lg"},"Do more with Find it Fix it."),r.default.createElement(o.EmptyStateBody,null,"Configure Cloud Connector to connect cloud.redhat.com with your Satellite instances and execute remediation across all regions, geographies, and Satellites in one place."),r.default.createElement(l.Button,{variant:"link"},"Learn how to configure")))};t.default=f},591:function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".ins-c-remediations-success{color:var(--pf-global--success-color--200)}.ins-c-remediations-failure{color:var(--pf-global--danger-color--100)}.ins-c-remediations-running{color:var(--pf-global--default-color--300)}.ins-c-remediations-canceled{color:var(--pf-global--default-color--300)}td .ins-c-remediations-status-text{display:inline-block;min-width:85px}.ins-c-latest-activity .ins-l-description-list__description{display:flex;align-items:center}.ins-c-latest-activity .ins-l-description-list__description .ins-c-latest-activity__date{margin-left:16px;margin-right:16px}\n",""])},597:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),l=n(19),i=n(55),o=n(56),u=n(58),s=n(74),c=n(143),d=a(n(97)),f=n(160),m=n(161),p=n(162),E=n(49),y=n(67),g=n(50),b=n(44),v=n(61),_=n(46),h=n(47),S=n(100),R=n(82),k=n(77),O=n(78),T=n(42),P=n(41),I=n(8),C=n(90),x=n(91),N=n(18),w=n(85),D=a(n(79));n(165);var A=function(){return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.PageHeader,{className:"ins-s-remediation-detail__header"},r.default.createElement(k.Breadcrumb,null,r.default.createElement(O.BreadcrumbItem,null,r.default.createElement(l.Link,{to:"/"}," Remediations ")),r.default.createElement(O.BreadcrumbItem,{isActive:!0},r.default.createElement(u.Skeleton,{size:"lg"}))),r.default.createElement(S.Level,{className:"ins-c-level"},r.default.createElement(R.LevelItem,null,r.default.createElement(o.PageHeaderTitle,{className:"ins-s-page-header",title:r.default.createElement(r.default.Fragment,null,r.default.createElement(u.Skeleton,{size:"md"}))})),r.default.createElement(R.LevelItem,null,r.default.createElement(T.Split,{gutter:"md"},r.default.createElement(P.SplitItem,null,r.default.createElement(I.Button,{isDisabled:!0,variant:"link"}," Download playbook ")),r.default.createElement(P.SplitItem,null,r.default.createElement(b.Dropdown,{toggle:r.default.createElement(v.KebabToggle,{isDisabled:!0}),isOpen:!1,isPlain:!0})))))),r.default.createElement(i.Main,null,r.default.createElement(_.Stack,{gutter:"md"},r.default.createElement(h.StackItem,null,r.default.createElement(E.Card,null,r.default.createElement(y.CardHeader,{className:"ins-m-card__header-bold"},r.default.createElement(N.Title,{headingLevel:"h4",size:"xl"},"Playbook summary")),r.default.createElement(g.CardBody,null,r.default.createElement(f.Flex,{className:"ins-c-playbookSummary",breakpointMods:[{modifier:p.FlexModifiers.column}]},r.default.createElement(f.Flex,{className:"ins-c-playbookSummary__overview"},r.default.createElement(m.FlexItem,{breakpointMods:[{modifier:p.FlexModifiers["spacer-xl"]}]},r.default.createElement(D.default,{isBold:!0,title:"Total systems",className:"ins-m-flex-children"},r.default.createElement(u.Skeleton,{size:"sm",className:"ins-m-isInline-sm"})," systems"))),r.default.createElement(D.default,{className:"ins-c-playbookSummary__settings",title:"Playbook settings"},r.default.createElement(f.Flex,null,r.default.createElement(m.FlexItem,{className:"ins-m-inline-flex",breakpointMods:[{modifier:p.FlexModifiers["spacer-xl"]}]},"Auto reboot: ",r.default.createElement(u.Skeleton,{className:"ins-m-isInline-md",size:"md"})),r.default.createElement(m.FlexItem,{className:"ins-m-inline-flex"},r.default.createElement(u.Skeleton,{className:"ins-m-isInline-sm",size:"sm"})," systems require reboot"))),r.default.createElement(I.Button,{isDisabled:!0,variant:"link"},"Turn ",r.default.createElement(u.Skeleton,{className:"ins-m-isInline",size:"sm"})," auto reboot"))))),r.default.createElement(h.StackItem,null,r.default.createElement(s.TableToolbar,{className:"ins-c-remediations-details-table__toolbar"},r.default.createElement(x.ToolbarGroup,null,r.default.createElement(C.ToolbarItem,null,r.default.createElement(c.SimpleTableFilter,{buttonTitle:"",placeholder:"Search Actions","aria-label":"Search Actions Loading"}))),w.isBeta&&r.default.createElement(x.ToolbarGroup,null,r.default.createElement(C.ToolbarItem,null,r.default.createElement(I.Button,{isDisabled:!0}," Add Action "))),r.default.createElement(u.Skeleton,{size:"sm"})),r.default.createElement(d.default,null)))))};t.default=A},598:function(e,t,n){var a=n(599);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(a,r);a.locals&&(e.exports=a.locals)},599:function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".ins-l-description-list .ins-l-description-list__title{margin-bottom:6px;font-size:var(--pf-global--FontSize--sm)}.ins-l-description-list .ins-l-description-list__description{font-size:var(--pf-global--FontSize--md)}.ins-l-description-list .ins-l-description-list__description--bold{font-size:var(--pf-global--FontSize--lg);font-weight:var(--pf-global--FontWeight--redhatfont--bold)}.ins-l-description-list .ins-l-description-list__description--withGutter *+*{margin-left:var(--pf-global--spacer--sm)}.ins-l-description-list .ins-l-description-list__description--needsPointer{cursor:pointer}\n",""])},600:function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".ins-s-page-header .ins-c-skeleton{width:100px;width:6.25rem}.pf-c-breadcrumb__item .ins-c-skeleton{width:50px;width:3.125rem}.ins-c-card__system-reboot .ins-c-skeleton{width:50px;width:3.125rem}.ins-s-remediation-detail__header .ins-s-page-header{display:flex}.ins-s-remediation-detail__header .ins-s-page-header .ins-c-skeleton{margin-left:15px;margin-left:.9375rem}.ins-m-isInline{display:inline-block}.ins-m-isInline-sm{width:20px;margin-right:3px}.ins-m-isInline-md{width:35px;margin-left:10px}.ins-m-inline-flex,.ins-m-flex-children dd{display:inline-flex}\n",""])},601:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),l=n(65),i=n(66),o=n(18),u=n(43);n(602);var s=function(){return r.default.createElement(u.Table,{"aria-label":"No activity",cells:["Run on","Run by","Status"],rows:[{cells:[{title:r.default.createElement(l.EmptyState,{className:"ins-c-activity-table__empty"},r.default.createElement(o.Title,{headingLevel:"h5",size:"lg"},"No activity"),r.default.createElement(i.EmptyStateBody,null,"Execute this playbook to see a history and summary of the activity.")),props:{colSpan:3}}]}]},r.default.createElement(u.TableHeader,null),r.default.createElement(u.TableBody,null))};t.default=s},602:function(e,t,n){var a=n(603);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(a,r);a.locals&&(e.exports=a.locals)},603:function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".ins-c-activity-table__empty{margin-left:auto;margin-right:auto}\n",""])},604:function(e,t,n){var a=n(605);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(a,r);a.locals&&(e.exports=a.locals)},605:function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".page__remediation-details .ins-c-summary-cards .pf-c-card{min-height:100%}.page__remediation-details .pf-c-card__header .ins-m-card__header-bold,.page__remediation-details .pf-c-card__header.ins-m-card__header-bold{font-weight:600}.page__remediation-details .ins-m-text-emphesis,.page__remediation-details .pf-c-progress__measure{font-size:24px;font-size:1.5rem;font-weight:600}.page__remediation-details .ins-c-subheader-small{font-size:12px;font-size:.75rem}.page__remediation-details .ins-c-card__actions-resolved .pf-c-card__header .pf-l-grid{align-items:center}.page__remediation-details .ins-c-card__system-reboot .pf-l-stack,.page__remediation-details .ins-c-card__system-reboot .pf-l-stack__item{align-items:center;text-align:center}.page__remediation-details .ins-c-card__system-reboot .ins-c-reboot-switch{margin-bottom:10px;margin-bottom:.625rem}.page__remediation-details .ins-c-card__plan-details .pf-l-stack__item:not(.ins-m-border-top){margin-bottom:5px;margin-bottom:.3125rem}.page__remediation-details .ins-c-card__plan-details .pf-l-stack__item .ins-m-border-top{margin-top:8px;margin-top:.46875rem;padding-top:8px;padding-top:.46875rem;border-top:1px solid #efefef}.page__remediation-details .ins-c-playbookSummary__overview{margin-bottom:var(--pf-global--spacer--lg)}.page__remediation-details .ins-c-playbookSummary__settings{margin-bottom:var(--pf-global--spacer--sm)}.page__remediation-details .ins-c-playbookSummary button{width:min-content;padding-left:0;padding-right:0}.page__remediation-details .ins-c-playbookSummary .ins-c-reboot-status__enabled b{color:var(--pf-global--success-color--200)}.page__remediation-details .ins-c-playbookSummary .ins-c-reboot-status__disabled b{color:var(--pf-global--danger-color--200)}.page__remediation-details .ins-c-playbookSummary__tabs{background:white;padding:var(--pf-global--spacer--md)}\n",""])},606:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(59)),l=a(n(1)),i=n(80),o=n(46),u=n(47),s=function(e){var t=(0,r.default)({},e);return l.default.createElement(i.Alert,(0,r.default)({variant:"info",isInline:!0,title:"Do more with Find it Fix it capabilities"},t),l.default.createElement(o.Stack,{gutter:"md"},l.default.createElement(u.StackItem,null,"Configure your systems with Cloud Connector to fix systems across all your Satellite instances."),l.default.createElement(u.StackItem,null,l.default.createElement("a",{href:"https://access.redhat.com/documentation/en-us/red_hat_insights/2020-04/html/remediating_issues_across_your_red_hat_satellite_infrastructure_using_red_hat_insights/configuring-your-satellite-infrastructure-to-communicate-with-insights"},"Learn how to configure"))))};t.default=s},607:function(e,t,n){"use strict";var a=n(5),r=n(10);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(1)),i=a(n(0)),o=n(19),u=n(14),s=n(55),c=n(56),d=n(93),f=n(49),m=n(67),p=n(50),E=n(46),y=n(47),g=n(77),b=n(78),v=n(42),_=n(41),h=n(18),S=n(43),R=a(n(159)),k=a(n(79)),O=n(244),T=n(37);n(164);var P=n(116),I=a(n(608)),C=n(52);n(609);var x=function(e){var t=e.match.params,n=t.id,a=t.run_id,r=e.remediation,i=e.playbookRun,u=e.getPlaybookRun,T=e.getPlaybookRuns,x=e.loadRemediation;(0,l.useEffect)((function(){x(n),T(n),u(n,a)}),[]);var N=(0,l.useContext)(C.PermissionContext);return r&&i&&i.data?l.default.createElement(l.default.Fragment,null,l.default.createElement(c.PageHeader,null,l.default.createElement(g.Breadcrumb,null,l.default.createElement(b.BreadcrumbItem,null,l.default.createElement(o.Link,{to:"/"}," Remediations ")),l.default.createElement(b.BreadcrumbItem,null,l.default.createElement(o.Link,{to:"/".concat(r.id)}," ",r.name," ")),l.default.createElement(b.BreadcrumbItem,{isActive:!0}," ",l.default.createElement(d.DateFormat,{type:"exact",date:i.data.created_at})," ")),l.default.createElement(E.Stack,{gutter:"md"},l.default.createElement(y.StackItem,null,l.default.createElement(c.PageHeaderTitle,{title:"running"===(0,P.normalizeStatus)(i.data.status)?l.default.createElement(l.default.Fragment,null,l.default.createElement(R.default,{className:"ins-c-remediations-running","aria-label":"connection status"})," ",l.default.createElement(d.DateFormat,{type:"exact",date:i.data.created_at}),"true"===localStorage.getItem("remediations:debug")&&l.default.createElement(O.CancelButton,{remediationName:r.name,remediationId:r.id,playbookId:i.data.id})):l.default.createElement(d.DateFormat,{type:"exact",date:i.data.created_at})})),l.default.createElement(y.StackItem,null,l.default.createElement(v.Split,{gutter:"md"},l.default.createElement(_.SplitItem,null,l.default.createElement(k.default,{className:"ins-c-playbookSummary__settings",title:"Run on"},l.default.createElement(d.DateFormat,{type:"exact",date:i.data.created_at}))),l.default.createElement(_.SplitItem,null,l.default.createElement(k.default,{className:"ins-c-playbookSummary__settings",title:"Run by"},"".concat(i.data.created_by.first_name," ").concat(i.data.created_by.last_name))),l.default.createElement(_.SplitItem,null,l.default.createElement(k.default,{className:"ins-c-playbookSummary__settings",title:"Run status"},l.default.createElement(P.StatusSummary,{executorStatus:i.data.status,counts:i.data.executors.reduce((function(e,t){return{pending:e.pending+t.counts.pending,running:e.running+t.counts.running,success:e.success+t.counts.success,failure:e.failure+t.counts.failure,canceled:e.canceled+t.counts.canceled,acked:e.acked+t.counts.acked}}),{pending:0,running:0,success:0,failure:0,canceled:0}),permission:N}))))))),l.default.createElement(s.Main,null,l.default.createElement(E.Stack,{gutter:"md"},l.default.createElement(f.Card,null,l.default.createElement(m.CardHeader,{className:"ins-m-card__header-bold"},l.default.createElement(h.Title,{headingLevel:"h4",size:"xl"},"Results by connection")),l.default.createElement(p.CardBody,null,l.default.createElement(S.Table,{"aria-label":"Collapsible table",rows:i.data.executors.map((function(e){return{cells:[{title:l.default.createElement(o.Link,{to:"/".concat(r.id,"/").concat(i.data.id,"/").concat(e.executor_id)},e.executor_name)},e.system_count,{title:l.default.createElement(P.StatusSummary,{executorStatus:(0,P.normalizeStatus)(e.status),counts:e.counts,permission:N})}]}})),cells:[{title:"Connection"},{title:"Systems"},{title:"Playbook run status"}]},l.default.createElement(S.TableHeader,null),l.default.createElement(S.TableBody,null))))))):l.default.createElement(I.default,null)};x.propTypes={remediation:i.default.object,issue:i.default.object,playbookRun:i.default.object,getPlaybookRun:i.default.func,getPlaybookRuns:i.default.func,loadRemediation:i.default.func,match:i.default.object},x.defaultProps={};var N=(0,u.connect)((function(e){return{playbookRun:e.playbookRun,remediation:e.selectedRemediation.remediation}}),(function(e){return{getPlaybookRun:function(t,n){return e((0,T.getPlaybookRun)(t,n))},getPlaybookRuns:function(t){return e((0,T.getPlaybookRuns)(t))},loadRemediation:function(t){return e((0,T.loadRemediation)(t))}}}))(x);t.default=N},608:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),l=n(55),i=n(56),o=n(58),u=a(n(97)),s=n(49),c=n(67),d=n(50),f=n(46),m=n(47),p=n(77),E=n(78),y=n(42),g=n(41),b=n(18),v=a(n(79));n(165);var _=function(){return r.default.createElement(r.default.Fragment,null,r.default.createElement(i.PageHeader,null,r.default.createElement(p.Breadcrumb,null,r.default.createElement(E.BreadcrumbItem,null,r.default.createElement(o.Skeleton,{size:"lg"})),r.default.createElement(E.BreadcrumbItem,{isActive:!0}," ",r.default.createElement(o.Skeleton,{size:"lg"})," ")),r.default.createElement(f.Stack,{gutter:!0},r.default.createElement(m.StackItem,null,r.default.createElement(i.PageHeaderTitle,{title:r.default.createElement(o.Skeleton,{size:"lg"})})),r.default.createElement(m.StackItem,null,r.default.createElement(y.Split,{gutter:"md"},r.default.createElement(g.SplitItem,null,r.default.createElement(v.default,{className:"ins-c-playbookSummary__settings",title:"Run on"},r.default.createElement(o.Skeleton,{size:"lg"}))),r.default.createElement(g.SplitItem,null,r.default.createElement(v.default,{className:"ins-c-playbookSummary__settings",title:"Run by"},r.default.createElement(o.Skeleton,{size:"lg"}))),r.default.createElement(g.SplitItem,null,r.default.createElement(v.default,{className:"ins-c-playbookSummary__settings",title:"Run status"},r.default.createElement(o.Skeleton,{size:"lg"}))))))),r.default.createElement(l.Main,null,r.default.createElement(f.Stack,{gutter:"md"},r.default.createElement(s.Card,null,r.default.createElement(c.CardHeader,{className:"ins-m-card__header-bold"},r.default.createElement(b.Title,{headingLevel:"h4",size:"xl"},"Results by connection")),r.default.createElement(d.CardBody,null,r.default.createElement(u.default,null))))))};t.default=_},609:function(e,t,n){var a=n(610);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(a,r);a.locals&&(e.exports=a.locals)},610:function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".ins-c-playbookSummary__settings .pf-c-button{padding-top:0}\n",""])},611:function(e,t,n){"use strict";var a=n(10),r=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(32)),i=r(n(13)),o=r(n(33)),u=r(n(40)),s=a(n(1)),c=n(14),d=r(n(0)),f=a(n(19)),m=r(n(632)),p=a(n(43)),E=n(55),y=n(56),g=n(93),b=n(58),v=n(74),_=n(242),h=n(8),S=n(49),R=n(67),k=n(50),O=n(46),T=n(47),P=n(77),I=n(78),C=n(42),x=n(41),N=n(90),w=n(91),D=r(n(159)),A=n(123),j=r(n(125)),L=r(n(79)),B=n(37),M=n(64),F=n(116),U=r(n(612)),Y=r(n(622)),z=r(n(623)),H=n(112);n(624);var G,V=n(52);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=function(e){var t=e.match.params,n=t.executor_id,a=t.run_id,r=t.id,i=e.remediation,d=e.playbookRun,B=e.playbookRunSystems,q=e.playbookRunSystemDetails,W=e.getPlaybookRun,J=e.getPlaybookRunSystems,Q=e.getPlaybookRunSystemDetails,X=e.onCollapseInventory,$=e.loadRemediation,Z=(0,s.useState)({}),ee=(0,u.default)(Z,2),te=ee[0],ne=ee[1],ae=(0,s.useState)([]),re=(0,u.default)(ae,2),le=re[0],ie=re[1],oe=(0,s.useState)(""),ue=(0,u.default)(oe,2),se=ue[0],ce=ue[1],de=(0,s.useState)(),fe=(0,u.default)(de,2),me=fe[0],pe=fe[1],Ee=(0,s.useState)(1),ye=(0,u.default)(Ee,2),ge=ye[0],be=ye[1],ve=(0,s.useState)(50),_e=(0,u.default)(ve,2),he=_e[0],Se=_e[1],Re=(0,s.useState)(),ke=(0,u.default)(Re,2),Oe=ke[0],Te=ke[1],Pe=(0,s.useState)(!1),Ie=(0,u.default)(Pe,2),Ce=Ie[0],xe=Ie[1],Ne=(0,s.useState)(),we=(0,u.default)(Ne,2),De=we[0],Ae=we[1],je=(0,s.useRef)(null),Le=(0,c.useStore)(),Be=(0,H.inventoryUrlBuilder)({id:"default"}),Me=function(){var e=(0,o.default)(l.default.mark((function e(){var t,n,a,r,i,o;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.loadInventory({react:s.default,reactRouterDom:f,pfReactTable:p});case 2:t=e.sent,n=t.inventoryConnector,a=t.mergeWithEntities,r=t.INVENTORY_ACTION_TYPES,(0,A.getRegistry)().register(K({},a(j.default.playbookActivityIntentory({INVENTORY_ACTION_TYPES:r,renderStatus:function(e){return s.default.createElement("div",{className:"ins-c-remediations-status-bar"},(0,F.renderStatus)((0,F.normalizeStatus)(e)))},urlBuilder:Be})()))),i=n(Le),o=i.InventoryTable,pe((function(){return o}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(e){je&&je.current&&(J(r,a,n,e.per_page,e.per_page*(e.page-1)),be(e.page),Se(e.per_page),je.current.onRefreshData(e))};(0,s.useEffect)((function(){return Me(),$(r),W(r,a),Ae((function(){return(0,m.default)(J,500)})),function(){G&&clearInterval(G)}}),[]),(0,s.useEffect)((function(){d&&d.data&&ne(d.data.executors.find((function(e){return e.executor_id===n}))||{}),"pending"!==B.status&&J(r,a,n,he,he*(ge-1),se)}),[d]),(0,s.useEffect)((function(){Ce||W(r,a),"running"!==(0,F.normalizeStatus)(q.status)&&G&&clearInterval(G),xe(!1)}),[q.status]),(0,s.useEffect)((function(){ie((function(){return B.data.map((function(e){var t=e.system_id;return{id:t,display_name:e.system_name,status:e.status,isOpen:Oe===t,children:s.default.createElement(U.default,{systemId:t})}}))}))}),[B]);var Ue,Ye=function(e){return s.default.createElement(E.Main,null,s.default.createElement(O.Stack,{gutter:"md"},s.default.createElement(S.Card,{className:"ins-c-card__playbook-log"},s.default.createElement(k.CardBody,null,me&&s.default.createElement(me,{ref:je,items:"pending"!==B.status?le:[],isLoaded:"pending"!==B.status,onRefresh:Fe,page:ge,total:B.meta.total,perPage:he,hasCheckbox:!1,expandable:!0,showTags:!0,onExpandClick:"running"===e?function(e,t,n,r){var l=r.id;xe(!0),n?(Te(l),G&&clearInterval(G),Q(i.id,a,l),G=setInterval((function(){return Q(i.id,a,l)}),5e3)):(Te(void 0),clearInterval(G)),X(n,l)}:function(e,t,n,r){var l=r.id;xe(!0),n?(Te(l),Q(i.id,a,l)):Te(void 0),clearInterval(G),X(n,l)}},s.default.createElement(v.TableToolbar,null,s.default.createElement(w.ToolbarGroup,null,s.default.createElement(N.ToolbarItem,null,s.default.createElement(_.ConditionalFilter,{items:[{value:"display_name",label:"Name",filterValues:{placeholder:"Filter by name",type:_.conditionalFilterType.text,value:se,onChange:function(e,t){ce(t),be(1),De(r,a,n,he,0,t)}}}]}))),s.default.createElement(w.ToolbarGroup,null,s.default.createElement(N.ToolbarItem,null,s.default.createElement(h.Button,{variant:"secondary",onClick:function(){return(0,M.downloadPlaybook)(i.id)}},"Download playbook")))))))))},ze=(0,s.useContext)(V.PermissionContext);return i&&te&&d&&d.data?s.default.createElement(s.default.Fragment,null,s.default.createElement(y.PageHeader,null,s.default.createElement(P.Breadcrumb,null,s.default.createElement(I.BreadcrumbItem,null,s.default.createElement(f.Link,{to:"/"}," Remediations ")),s.default.createElement(I.BreadcrumbItem,null,s.default.createElement(f.Link,{to:"/".concat(i.id)}," ",i.name," ")),s.default.createElement(I.BreadcrumbItem,null,s.default.createElement(f.Link,{to:"/".concat(i.id,"/").concat(a)},"  ",s.default.createElement(g.DateFormat,{type:"exact",date:d.data.created_at})," ")),s.default.createElement(I.BreadcrumbItem,{isActive:!0}," ",te.executor_name," ")),s.default.createElement(O.Stack,{gutter:"md"},s.default.createElement(T.StackItem,null,s.default.createElement(y.PageHeaderTitle,{title:"Running"===(0,F.normalizeStatus)(te.status)?s.default.createElement(s.default.Fragment,null,s.default.createElement(D.default,{className:"ins-c-remediations-running","aria-label":"connection status"})," ",te.executor_name):te.executor_name})),s.default.createElement(T.StackItem,null,s.default.createElement(C.Split,{gutter:"md"},s.default.createElement(x.SplitItem,null,s.default.createElement(L.default,{className:"ins-c-playbookSummary__settings",title:"Run status"},te.status?s.default.createElement(F.StatusSummary,{executorStatus:te.status,counts:te.counts,permission:ze}):s.default.createElement(b.Skeleton,{size:"lg"}))),s.default.createElement(x.SplitItem,null,s.default.createElement(L.default,{className:"ins-c-playbookSummary__settings",title:"Run by"},"".concat(d.data.created_by.first_name," ").concat(d.data.created_by.last_name))),s.default.createElement(x.SplitItem,null,s.default.createElement(L.default,{className:"ins-c-playbookSummary__settings",title:"Run on"},s.default.createElement(g.DateFormat,{type:"exact",date:d.data.created_at}))))))),(Ue=(0,F.normalizeStatus)(te.status),{running:Ye(Ue),success:Ye(Ue),failure:Ye(Ue),canceled:Ye(Ue),epicFailure:s.default.createElement(E.Main,null,s.default.createElement(O.Stack,{gutter:"md"},s.default.createElement(S.Card,null,s.default.createElement(R.CardHeader,{className:"ins-m-card__header-bold"},s.default.createElement(h.Button,{variant:"secondary",onClick:function(){return(0,M.downloadPlaybook)(i.id)}},"Download playbook")),s.default.createElement(k.CardBody,null,s.default.createElement(z.default,{name:te.executor_name})))))}[(0,F.normalizeStatus)(Ue)])):s.default.createElement(Y.default,null)};W.propTypes={match:d.default.object,remediation:d.default.object,playbookRun:d.default.object,playbookRunSystems:d.default.object,playbookRunSystemDetails:d.default.object,getPlaybookRun:d.default.func,getPlaybookRunSystems:d.default.func,getPlaybookRunSystemDetails:d.default.func,onCollapseInventory:d.default.func,loadRemediation:d.default.func},W.defaultProps={remediation:{}};var J=(0,c.connect)((function(e){var t=e.playbookRuns,n=e.playbookRun,a=e.playbookRunSystems,r=e.playbookRunSystemDetails,l=e.selectedRemediation;return{playbookRuns:t.data,playbookRun:n,playbookRunSystemDetails:r,playbookRunSystems:a,remediation:l.remediation}}),(function(e){return{getPlaybookRuns:function(t){return e((0,B.getPlaybookRuns)(t))},getPlaybookRun:function(t,n){return e((0,B.getPlaybookRun)(t,n))},getPlaybookRunSystems:function(t,n,a,r,l,i){return e((0,B.getPlaybookRunSystems)(t,n,a,r,l,i))},getPlaybookRunSystemDetails:function(t,n,a){return e((0,B.getPlaybookRunSystemDetails)(t,n,a))},onCollapseInventory:function(t,n){return e((0,B.expandInventoryTable)(n,t))},loadRemediation:function(t){return e((0,B.loadRemediation)(t))}}}))(W);t.default=J},612:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(13)),l=a(n(1)),i=a(n(0)),o=n(14),u=n(58),s=a(n(633)),c=a(n(618)),d=a(n(619)),f=n(238),m=a(n(9)),p=n(18);n(620),s.default.registerLanguage("yaml",c.default);var E=function(e){var t=e.systemId,n=e.playbookRunSystemDetails,a=(0,m.default)("ins-c-job-output",(0,r.default)({},"ins-c-job-output__finished","running"!==n.status));return l.default.createElement(l.default.Fragment,null,l.default.createElement(p.Title,{headingLevel:"h4",size:"xl",className:"ins-c-job-output__title"},"Playbook log"),t&&t===n.system_id?l.default.createElement(l.default.Fragment,null,l.default.createElement(s.default,{language:"yaml",showLineNumbers:!0,style:d.default,className:a},n&&n.console||""),"running"===n.status&&l.default.createElement("div",{className:"ins-l-playbook-running"},l.default.createElement(f.Spinner,{size:"lg","aria-valuetext":"playbook in progress",className:"ins-c-spinner__playbook-running"}))):l.default.createElement(u.Skeleton,{size:"lg"}))};E.propTypes={systemId:i.default.string,status:i.default.string,console:i.default.string,playbookRunSystemDetails:i.default.shape({system_id:i.default.string,status:i.default.string,console:i.default.string})},E.defaultProps={playbookRunSystemDetails:{}};var y=(0,o.connect)((function(e){return{playbookRunSystemDetails:e.playbookRunSystemDetails}}))(E);t.default=y},620:function(e,t,n){var a=n(621);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(a,r);a.locals&&(e.exports=a.locals)},621:function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".ins-c-job-output__title{padding-bottom:var(--pf-global--spacer--lg)}.ins-c-job-output{max-height:500px;padding:0 !important;border-color:var(--pf-global--Color--light-300);border-width:2px;border-style:solid solid none solid;white-space:pre-wrap}.ins-c-job-output code:first-of-type{padding:8px;border-right:2px solid var(--pf-global--Color--light-300);margin-right:8px}.ins-c-job-output code:nth-of-type(2){position:relative;top:8px;white-space:pre-wrap}.ins-c-job-output__finished{border-bottom:2px solid var(--pf-global--Color--light-300)}.ins-l-playbook-running{background:#f0f0f0;padding:15px;display:flex;justify-content:center;border-color:var(--pf-global--Color--light-300);border-width:2px;border-style:none solid solid solid}\n",""])},622:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),l=n(55),i=n(56),o=n(58),u=a(n(97)),s=n(49),c=n(67),d=n(50),f=n(46),m=n(47),p=n(77),E=n(78),y=n(42),g=n(41),b=n(8),v=a(n(79));n(165);var _=function(){return r.default.createElement(r.default.Fragment,null,r.default.createElement(i.PageHeader,null,r.default.createElement(p.Breadcrumb,null,r.default.createElement(E.BreadcrumbItem,null,r.default.createElement(o.Skeleton,{size:"lg"})),r.default.createElement(E.BreadcrumbItem,null,r.default.createElement(o.Skeleton,{size:"lg"})),r.default.createElement(E.BreadcrumbItem,{isActive:!0}," ",r.default.createElement(o.Skeleton,{size:"lg"})," ")),r.default.createElement(f.Stack,{gutter:"md"},r.default.createElement(m.StackItem,null,r.default.createElement(i.PageHeaderTitle,{title:r.default.createElement(o.Skeleton,{size:"lg"})})),r.default.createElement(m.StackItem,null,r.default.createElement(y.Split,{gutter:"md"},r.default.createElement(g.SplitItem,null,r.default.createElement(v.default,{className:"ins-c-playbookSummary__settings",title:"Run on"},r.default.createElement(o.Skeleton,{size:"lg"}))),r.default.createElement(g.SplitItem,null,r.default.createElement(v.default,{className:"ins-c-playbookSummary__settings",title:"Run by"},r.default.createElement(o.Skeleton,{size:"lg"}))),r.default.createElement(g.SplitItem,null,r.default.createElement(v.default,{className:"ins-c-playbookSummary__settings",title:"Run by"},r.default.createElement(o.Skeleton,{size:"lg"}))))))),r.default.createElement(l.Main,null,r.default.createElement(f.Stack,{gutter:"md"},r.default.createElement(s.Card,null,r.default.createElement(c.CardHeader,{className:"ins-m-card__header-bold"},r.default.createElement(b.Button,null,"Download playbook")),r.default.createElement(d.CardBody,null,r.default.createElement(u.default,null))))))};t.default=_},623:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),l=a(n(0)),i=n(8),o=n(65),u=n(66),s=n(87),c=n(18),d=n(86),f=a(n(163));n(164);var m=function(e){var t=e.name;return r.default.createElement(d.Bullseye,null,r.default.createElement(o.EmptyState,null,r.default.createElement(s.EmptyStateIcon,{className:"ins-c-remediations-failure",icon:f.default}),r.default.createElement(c.Title,{headingLevel:"h5",size:"lg"},"Run failed"),r.default.createElement(u.EmptyStateBody,null,"Playbook failed to run on ",t,". Connection was lost. Try executing the remediation again, and if the problem persist, constact your system administrator(s)."),r.default.createElement(i.Button,{variant:"link"},"Learn more")))};m.propTypes={name:l.default.string};var p=m;t.default=p},624:function(e,t,n){var a=n(625);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(a,r);a.locals&&(e.exports=a.locals)},625:function(e,t,n){(e.exports=n(3)(!1)).push([e.i,".ins-c-card__playbook-log .ins-c-primary-toolbar{padding:0}.ins-c-card__playbook-log .ins-c-table__toolbar{padding-left:0;padding-right:0}.ins-c-card__playbook-log .ins-c-tag-count{padding:0}\n",""])},626:function(e,t,n){var a=n(627);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(a,r);a.locals&&(e.exports=a.locals)},627:function(e,t,n){(t=e.exports=n(3)(!1)).i(n(628),""),t.i(n(629),""),t.push([e.i,":root{--ins-color--orange: #ec7a08}button:focus{outline:none}.pf-c-form__helper-text.pf-m-error{color:var(--pf-global--danger-color--100)}\n",""])},630:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),l=n(55),i=n(56),o=n(229),u=function(){return r.default.createElement(r.default.Fragment,null,r.default.createElement(i.PageHeader,{className:"ins-remediations__skeleton"},r.default.createElement(i.PageHeaderTitle,{className:"ins-s-page-header",title:"Remediations"})),r.default.createElement(l.Main,null,r.default.createElement(o.Spinner,{centered:!0})))};t.default=u},64:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.getHosts=function(){return(0,E.doGet)("/api/inventory/v1/hosts")},t.downloadPlaybook=function(e){return new Promise((function(t,n){var a=window.open(f.API_BASE+(new p.RemediationsApiAxiosParamCreator).getRemediationPlaybook(e).url);if(!a)return n();var r=setInterval((function(){a.closed&&(clearInterval(r),t())}),500)}))},t.getIsReceptorConfigured=function(){return(0,E.doGet)("".concat(window.location.origin,"/api/sources/v2.0/endpoints?filter[receptor_node][not_nil]"))},t.resolutions=t.remediations=t.getRemediationStatus=void 0;var r=a(n(32)),l=a(n(13)),i=a(n(33)),o=a(n(34)),u=a(n(35)),s=a(n(36)),c=a(n(28)),d=a(n(182)),f=n(85),m=a(n(307)),p=n(325),E=n(351),y=a(n(132));function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}t.getRemediationStatus=function(e){return(0,E.doGet)(function(){for(var e=(0,y.default)(f.API_BASE).segment("remediations"),t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return n.forEach((function(t){return e.segment(t)})),e}(e,"status"))};var _=function(e){(0,u.default)(n,e);var t=v(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,"Error communicating with the server")).description=e,a}return n}((0,d.default)(Error));function h(){return(h=(0,i.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.insights.chrome.auth.getUser();case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=m.default.create();S.interceptors.request.use((function(e){return h.apply(this,arguments)})),S.interceptors.response.use((function(e){return e.data?b(b({},e.data),{},{etag:e.headers.etag}):e})),S.interceptors.response.use(null,(function(e){if(e){if(e.response&&401===e.response.status)return window.insights.chrome.auth.logout(),!1;throw e}})),S.interceptors.response.use(null,(function(e){if(e){if(e.response&&e.response.data&&e.response.data.errors&&e.response.data.errors.length){var t=e.response.data.errors[0];if(t.details&&t.details.name)throw new _("".concat(t.title," (").concat(t.details.name,")"));throw new _(t.title)}throw e}}));var R=new p.RemediationsApi(void 0,f.API_BASE,S);t.remediations=R;var k=new p.ResolutionsApi(void 0,f.API_BASE,S);t.resolutions=k},79:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(59)),l=a(n(13)),i=a(n(107)),o=a(n(1)),u=a(n(0)),s=a(n(9));n(598);var c=function(e){var t=e.title,n=e.className,a=e.children,u=e.isBold,c=e.hasGutter,d=e.needsPointer,f=(0,i.default)(e,["title","className","children","isBold","hasGutter","needsPointer"]),m=(0,s.default)("ins-l-description-list__description",(0,l.default)({},"ins-l-description-list__description--bold",u),(0,l.default)({},"ins-l-description-list__description--withGutter",c),(0,l.default)({},"ins-l-description-list__description--needsPointer",d)),p=(0,s.default)(n,"ins-l-description-list");return o.default.createElement("dl",(0,r.default)({className:p},f),o.default.createElement("dt",{className:"ins-l-description-list__title"},o.default.createElement("b",null,t)),o.default.createElement("dd",{className:m}," ",a," "))},d=c;t.default=d,c.propTypes={title:u.default.string,children:u.default.any,isBold:u.default.bool,className:u.default.string,hasGutter:u.default.bool,needsPointer:u.default.bool}},85:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBeta=t.API_BASE=void 0;t.API_BASE="/api/remediations/v1";t.isBeta=!1},96:function(e,t,n){"use strict";var a=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=a(n(1)),l=a(n(0)),i=n(8),o=n(72),u=a(n(153));function s(e){var t=e.isOpen,n=void 0===t||t,a=e.title,l=void 0===a?"Remove system?":a,s=e.text,c=void 0===s?"This action cannot be undone":s,d=e.onClose,f=void 0===d?function(e){return e}:d;return r.default.createElement(o.Modal,{title:r.default.createElement("div",null," ",r.default.createElement(u.default,{className:"ins-m-alert ins-c-remediation__delete-icon"})," ",l," "),className:"ins-c-dialog",width:"50%",isOpen:n,onClose:function(){return f(!1)},isFooterLeftAligned:!0,actions:[r.default.createElement(i.Button,{key:"confirm",variant:"danger",onClick:function(){return f(!0)}},"Remove system"),r.default.createElement(i.Button,{key:"cancel",variant:"link",onClick:function(){return f(!1)}},"Cancel")]},r.default.createElement("h2",null,c))}n(469),s.propTypes={isOpen:l.default.bool,title:l.default.string,text:l.default.string,onClose:l.default.func}},97:function(e,t,n){"use strict";var a=n(10),r=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(59)),i=r(n(34)),o=r(n(53)),u=r(n(35)),s=r(n(36)),c=r(n(28)),d=a(n(1)),f=n(43),m=n(58),p=n(74),E=n(229),y=n(142);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}n(471);var b=function(e){(0,u.default)(n,e);var t=g(n);function n(e){var a;return(0,i.default)(this,n),(a=t.call(this,e)).state={columns:[{title:d.default.createElement(m.Skeleton,{size:"xs"})},{title:d.default.createElement(m.Skeleton,{size:"sm"})},{title:d.default.createElement(m.Skeleton,{size:"sm"})},{title:d.default.createElement(m.Skeleton,{size:"md"})},{title:d.default.createElement(m.Skeleton,{size:"sm"})}],rows:[[{title:d.default.createElement(m.Skeleton,{size:"md"})},{title:d.default.createElement(m.Skeleton,{size:"xs"})},{title:d.default.createElement(m.Skeleton,{size:"xs"})},{title:d.default.createElement(m.Skeleton,{size:"md"})},{title:d.default.createElement(m.Skeleton,{size:"md"})}]]},a}return(0,o.default)(n,[{key:"render",value:function(){var e=this.state,t=e.columns,n=e.rows;return d.default.createElement(d.Fragment,null,d.default.createElement(f.Table,(0,l.default)({cells:t,rows:n,"aria-label":"Loading",variant:f.TableVariant.compact},this.props),d.default.createElement(f.TableHeader,null)),d.default.createElement(y.EmptyTable,{centered:!0},d.default.createElement(E.Spinner,null)),d.default.createElement(p.TableToolbar,{isFooter:!0,className:"ins-c-skeleton-table__footer ins-m-align-right"},d.default.createElement(m.Skeleton,{size:"sm"})))}}]),n}(d.default.Component);t.default=b}});
//# sourceMappingURL=../sourcemaps/App.js.map